<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Trip Hop</title>
    </head>

    <body class="genre" id="triphop">
        <div class="box downtempo">
            <h1>TRIP HOP</h1>

            <p>Trip Hop started within Bristol's multicultural Hip Hop scene where members of Massive Attack tried to bring Hip Hop music to a larger audience. Trip Hop became an interesting and meticulously crafted blend of styles &ndash; part Rock, part Hip Hop, part Ambient, but even more importantly &ndash; Dub. Around the same time in the US, musicians started to experiment with slower forms of Breakbeat while adding out-of-the-box acoustic samples. Although the American and British forms of Trip Hop evolved from different paths, the result was the same &ndash; Downtempo Breakbeat with minimal instrumentation but often dramatic and/or melancholic. Trip Hop creates a surreal and moody dream world but with just the right amount of "punch" to prevent becoming background music. This makes Trip Hop very popular among marijuana users, but it also allowed a large mainstream breakthrough, especially when vocals were added. It could've been just a small and insignificant Breakbeat subgenre, but Trip Hop wouldn't settle for mediocre popularity. After Massive Attack's big breakthrough, more artists jumped on the bandwagon with successful results.</p>

            <div class="row icon-list">
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-downtempo">1</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-downtempo">2</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-downtempo">3</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-downtempo">4</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-downtempo">5</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-downtempo">6</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-downtempo">7</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-downtempo">8</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-downtempo">9</div></div>
                <div class="d-lg-none col-lg-1 col-xs-1"><div class="buttons buttons-downtempo-stop">&FilledSmallSquare;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-lg-block col-md-1 stop"><div class="buttons buttons-downtempo-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Massive Attack feat. Elizabeth Fraser",
                        track: "Teardrop",
                        path: "../../samples/downtempo/triphop1.ogg"
                    },
                    {
                        artist: "Portishead",
                        track: "Humming",
                        path: "../../samples/downtempo/triphop2.ogg"
                    },
                    {
                        artist: "BjÃ¶rk",
                        track: "Army Of Me",
                        path: "../../samples/downtempo/triphop3.ogg"
                    },
                    {
                        artist: "Kognitif",
                        track: "Without Her",
                        path: "../../samples/downtempo/triphop4.ogg"
                    },
                    {
                        artist: "SomehowArt",
                        track: "A Day At The Office",
                        path: "../../samples/downtempo/triphop5.ogg"
                    },
                    {
                        artist: "Kno",
                        track: "Loneliness",
                        path: "../../samples/downtempo/triphop6.ogg"
                    },
                    {
                        artist: "Boards Of Canada",
                        track: "Julie And Candy",
                        path: "../../samples/downtempo/triphop7.ogg"
                    },
                    {
                        artist: "Sneaker Pimps",
                        track: "6 Underground",
                        path: "../../samples/downtempo/triphop8.ogg"
                    },
                    {
                        artist: "Christian Kleine",
                        track: "Bitter Things",
                        path: "../../samples/downtempo/triphop9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-downtempo').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-downtempo-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-downtempo"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

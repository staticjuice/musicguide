<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
        <link rel="stylesheet" href="../../css/style.css">
        <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js" integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>
        <title>Downbeat</title>
    </head>

    <body id="downbeat">
        <div class="quaternary-box downtempo">
            <h1>DOWNBEAT</h1><div class="quaternary-year downtempo-light">1990</div>

            <p>Downneat is a genre that emerged from the desire to create a more relaxed, groove-oriented sound by blending elements of various urban music styles like Jazz, R&amp;B, Funk, Dub, and Soul. It's a genre where different musical influences meet, resulting in tracks that might feature a Funk break paired with a Jazz solo, or soulful vocals laid over a Dub rhythm. The key characteristic of Downbeat is its laid-back vibe, with a groove that feels like the offspring of Funk and Dub, creating a comfortable and mellow atmosphere. This genre allows for a wide range of musical combinations, but it's not about excess or complexity. Instead, it's about subtle pairings that keep things smooth and cool. Ninja Tune, a record label founded by Coldcut, played a significant role in promoting Downbeat, especially in North America. The label became synonymous with the genre, known for its eclectic mix of jazzy, funky, and trippy tunes. Downbeat differs from other Chillout genres in its urban, sultry atmosphere, making it ideal for more sophisticated settings.</p>

            <div id="quaternary-grid">
                <div class="quaternary-button downtempo-light">1</div>
                <div class="quaternary-button downtempo-light">2</div>
                <div class="quaternary-button downtempo-light">3</div>
                <div class="quaternary-button downtempo-light">4</div>
                <div class="quaternary-button downtempo-light">5</div>
                <div class="quaternary-button downtempo-light">6</div>
                <div class="quaternary-button downtempo-light">7</div>
                <div class="quaternary-button downtempo-light">8</div>
                <div class="quaternary-button downtempo-light">9</div>
                <div class="quaternary-stop"><div class="quaternary-button downtempo-light"><i class="fa-solid fa-stop"></i></div></div>
            </div>

            <div class="quaternary-artisttrack" data-label="Artist:"><span id="artist"></span></div>
            <div class="quaternary-artisttrack" data-label="Track:"><span id="track"></span></div>
            <div class="quaternary-stop"><div class="quaternary-button downtempo-light"><i class="fa-solid fa-stop"></i></div></div>
        </div>

        <script>
            $(function() {
                const tracks = [
                    { artist: "", track: "", path: "../../samples/downtempo/downbeat1.ogg" },
                    { artist: "", track: "", path: "../../samples/downtempo/downbeat2.ogg" },
                    { artist: "", track: "", path: "../../samples/downtempo/downbeat3.ogg" },
                    { artist: "", track: "", path: "../../samples/downtempo/downbeat4.ogg" },
                    { artist: "", track: "", path: "../../samples/downtempo/downbeat5.ogg" },
                    { artist: "", track: "", path: "../../samples/downtempo/downbeat6.ogg" },
                    { artist: "", track: "", path: "../../samples/downtempo/downbeat7.ogg" },
                    { artist: "", track: "", path: "../../samples/downtempo/downbeat8.ogg" },
                    { artist: "", track: "", path: "../../samples/downtempo/downbeat9.ogg" }
                ];

                const audioInstances = tracks.map(track => new Audio(track.path));
                const $artistSpan = $('#artist');
                const $trackSpan = $('#track');
                const $button = $('.quaternary-button');

                $button.on('click', function() {
                    stopAllMusic();
                    const index = $button.index(this);
                    $(this).toggleClass('clicked');
                    const audio = audioInstances[index];
                    audio.play();
                    $artistSpan.text(tracks[index].artist);
                    $trackSpan.text(tracks[index].track);
                });

                $('.quaternary-stop').on('click', function() {
                    stopAllMusic();
                    $artistSpan.text('');
                    $trackSpan.text('');
                });

                function stopAllMusic() {
                    audioInstances.forEach(audio => {
                        audio.pause();
                        audio.currentTime = 0;
                    });
                    $button.removeClass('clicked');
                }
            });
        </script>
    </body>
</html>

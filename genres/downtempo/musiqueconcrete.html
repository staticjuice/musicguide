<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Musique Concrète</title>
    </head>

    <body class="genre" id="musiqueconcrete">
        <div class="box downtempo">
            <h1>MUSIQUE CONCRÈTE</h1>

            <p>The origin of all electronic music already started in the 40s &ndash; Classical composers (mostly European) experimented in advanced sound studios with the new possibilities of magnetic tape. By recording, replaying, looping, multi-tracking, reserving, sound altering and delaying they were able to create long and diverse compositions without the need for live instruments. Thus the first artificially created music was born. Musique Concrète has no origin, no parent genre &ndash; it evolves directly out of the very first electro-acoustic music, such as theremin performances. The Avant-Garde composers of Musique Concrète saw themselves more than academic researchers. To them, this music was more real (concrete) than any other. Music played by live instruments was something abstract and fleeting. Once you heard it, it was gone. Their music wasn't &ndash; it was recorded and stored, saved for eternity and capable of being paused, rewinded, re-listened and more. In the mid-70s, a second wave of Musique Concrète (Sound Collage or Tape Music) took place, sampling all sounds into soundscapes with advanced recorders.</p>

            <div class="row icon-list">
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-downtempo">1</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-downtempo">2</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-downtempo">3</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-downtempo">4</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-downtempo">5</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-downtempo">6</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-downtempo">7</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-downtempo">8</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-downtempo">9</div></div>
                <div class="d-block d-md-none col-md-1 col-xs-1"><div class="buttons buttons-downtempo-stop">&FilledSmallSquare;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-md-block col-md-1 stop"><div class="buttons buttons-downtempo-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Karlheinz Stockhausen",
                        track: "Gesang Der Jünglinge",
                        path: "../../samples/downtempo/musiqueconcrete1.ogg"
                    },
                    {
                        artist: "Morton Subotnick",
                        track: "Silver Apples Of The Moon Part A",
                        path: "../../samples/downtempo/musiqueconcrete2.ogg"
                    },
                    {
                        artist: "Pierre Schaeffer",
                        track: "Étude Noire",
                        path: "../../samples/downtempo/musiqueconcrete3.ogg"
                    },
                    {
                        artist: "Edgard Varèse",
                        track: "Poemè Electronique",
                        path: "../../samples/downtempo/musiqueconcrete4.ogg"
                    },
                    {
                        artist: "Iannis Xenakis",
                        track: "Concret Ph",
                        path: "../../samples/downtempo/musiqueconcrete5.ogg"
                    },
                    {
                        artist: "Kid Baltan",
                        track: "Song Of The Second Moon",
                        path: "../../samples/downtempo/musiqueconcrete6.ogg"
                    },
                    {
                        artist: "Raymond Scott",
                        track: "Twilight In Turkey",
                        path: "../../samples/downtempo/musiqueconcrete7.ogg"
                    },
                    {
                        artist: "Tom Dissevelt",
                        track: "Anchor Chains",
                        path: "../../samples/downtempo/musiqueconcrete8.ogg"
                    },
                    {
                        artist: "Anne Nordheim",
                        track: "Hovering",
                        path: "../../samples/downtempo/musiqueconcrete9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-downtempo').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-downtempo-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-downtempo"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

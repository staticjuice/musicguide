<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Ambient</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,900" rel="stylesheet">
</head>
  
<body class="genre ambient">
    <div id="box-downtempo">
        <h1>AMBIENT</h1><br>
            
        Ambient was actually an accident involving an acoustic instrument &ndash; Brian Eno coincidentally slowed down the arpeggio of a harp to the point of dissolution. And thus Ambient was born. The concept this time was different than in the old days &ndash; the music should no longer be an autonomous element, but an inseparable part of the environment. This was done by creating the most subtle, barely audible sounds possible with a very natural sound. The end result was a collage of environmental sounds, blending in with the surroundings of the listener. Artists from various backgrounds, such as Progressive Rock bands Yes and Genesis were attracted to the idea of music as form, music as space, and not as furniture or something concrete. Ambient has extensive songs that are arguably the most progressive and impressionist of all music genres; very slowly and gradually the music changes in time while subtly and vaguely presenting images from another reality. The philosophical concepts of these “Progressive Electronic” genres could be applied to many other ones as well, ranking them high as influential styles.<br><br>

        <div class="row icon-list">
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-downtempo">1</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-downtempo">2</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-downtempo">3</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-downtempo">4</div>
            </div>
                
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-downtempo">5</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-downtempo">6</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-downtempo">7</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-downtempo">8</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-downtempo">9</div>
            </div>

            <div class="visible-xs col-xs-1">
                <div class="buttons-downtempo-stop">&#9724;</div>
            </div>
        </div>

        <div class="example"><br>
            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p> 
        </div>

        <div class="hidden-xs col-sm-1 stop">
            <div class="buttons-downtempo-stop">&#9724;</div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
    <script>
        $(document).ready(function() {

            
            var tracks = [
                {
                    artist: "Tangerine Dream",
                    track: "Phaedra",
                    path: "../../samples/downtempo/ambient1.ogg"
                },
                {
                    artist: "Aglaia",
                    track: "Seven Ancient Glaciers",
                    path: "../../samples/downtempo/ambient2.ogg"
                },
                {
                    artist: "Redshift",
                    track: "Panzer",
                    path: "../../samples/downtempo/ambient3.ogg"
                },
                {
                    artist: "Pete Namlook & Mixmaster Morris",
                    track: "School Of Fish",
                    path: "../../samples/downtempo/ambient4.ogg"
                },
                {
                    artist: "Robert Rich & Steve Roach",
                    track: "Fearless",
                    path: "../../samples/downtempo/ambient5.ogg"
                },
                {
                    artist: "Hammock",
                    track: "I Can Almost See You",
                    path: "../../samples/downtempo/ambient6.ogg"
                },
                {
                    artist: "Cleveland Wehle",
                    track: "Do Androids Dream?",
                    path: "../../samples/downtempo/ambient7.ogg"
                },
                {
                    artist: "Biosphere",
                    track: "Poa Alpina",
                    path: "../../samples/downtempo/ambient8.ogg"
                },
                {
                    artist: "Brian Eno",
                    track: "Stars",
                    path: "../../samples/downtempo/ambient9.ogg"
                }
            ]

            tracks.forEach(track => {
                const audio = new Audio()
                audio.addEventListener('canplaythrough', null, false)
                audio.src = track.path
            })

            var artistSpan = $(document).find('#artist')[0]

            var track = $(document).find('#track')[0]

            var audioInstanceArray = [];

            var buttons = [];

            var audioInstance;

            $(document).find('.buttons-downtempo').each(function(index, button) {

                buttons.push(button);
                
                $(this).click(function() {

                    removeAllButtonBorders()

                    $(this).toggleClass('clicked');
                
                    stopAllMusic()

                    audioInstance = new Audio(tracks[index].path);
                    audioInstanceArray.push(audioInstance);
                    audioInstance.play();

                    artistSpan.innerHTML = tracks[index].artist
                    track.innerHTML = tracks[index].track

                });
            });

            $('.buttons-downtempo-stop').on('click', function() {

                stopAllMusic()

                artistSpan.innerHTML = ''
                track.innerHTML = ''

                removeAllButtonBorders()

            });

            var removeAllButtonBorders = () => {
                buttons.forEach(
                    button => button.className = "buttons-downtempo"
                )
            }

            var stopAllMusic = () => {
                 audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
            }

        });

    </script>

</body>
</html>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Black Metal</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,900" rel="stylesheet">
</head>

<body class="genre" id="blackmetal">
    <div class="box metal">
        <h1>BLACK METAL</h1><br>

        The genre outlined here is actually the second wave of Black Metal. The first wave was very obscure and rapidly vanished. Norway, a country of cold, harsh and unforgiving landscapes, became the perfect breeding ground for Black Metal &ndash; arguably the most extreme and least accessible form of Metal. Although Black Metal is a less percussion and bass oriented than its contemporary counterparts, its chaotic, screaming avalanche of macabre noise sounds like it was made by the devil himself. Hi-pitched vocals, symphonic/Gothic elements, and shrill, hyperfast guitar riffs make such a statement almost believable. Black Metal has always been more about the content than the music itself, trying to be as Satanic and anti-Christian as possible. Black Metal bands are recognizable by their bombastic music, Satanic names and elaborate artwork. Themes of torture, pain, blood and sacrifice occur more than in other Metal genres. Some Black Metal bands became frontpage news by committing acts of murder, violence and desecration, leading to a large amount of in-depth Black Metal documentaries about this most evil of music genres.<br><br>

        <div class="row icon-list">
            <div class="col-sm-1 col-xs-1">
                <div class="buttons buttons-metal">1</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons buttons-metal">2</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons buttons-metal">3</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons buttons-metal">4</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons buttons-metal">5</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons buttons-metal">6</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons buttons-metal">7</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons buttons-metal">8</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons buttons-metal">9</div>
            </div>

            <div class="visible-xs col-xs-1">
                <div class="buttons buttons-metal-stop">&#9724;</div>
            </div>
        </div>

        <div class="example"><br>
            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
        </div>

        <div class="hidden-xs col-sm-1 stop">
            <div class="buttons buttons-metal-stop">&#9724;</div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <script>
        $(document).ready(function() {


            var tracks = [
                {
                    artist: "Gorgoroth",
                    track: "Possessed By Satan",
                    path: "../../samples/metal/blackmetal1.ogg"
                },
                {
                    artist: "Mayhem",
                    track: "Freezing Moon",
                    path: "../../samples/metal/blackmetal2.ogg"
                },
                {
                    artist: "Emperor",
                    track: "I Am The Black Wizards",
                    path: "../../samples/metal/blackmetal3.ogg"
                },
                {
                    artist: "Immortal",
                    track: "The Call Of The Wintermoon",
                    path: "../../samples/metal/blackmetal4.ogg"
                },
                {
                    artist: "Satyricon",
                    track: "The Pentagram Burns",
                    path: "../../samples/metal/blackmetal5.ogg"
                },
                {
                    artist: "Burzum",
                    track: "Dunkelheit",
                    path: "../../samples/metal/blackmetal6.ogg"
                },
                {
                    artist: "Tormentor",
                    track: "Elizabeth Bathory",
                    path: "../../samples/metal/blackmetal7.ogg"
                },
                {
                    artist: "Darkthrone",
                    track: "Transilvanian Hunger",
                    path: "../../samples/metal/blackmetal8.ogg"
                },
                {
                    artist: "Cradle Of Filth",
                    track: "From The Cradle To Enslave",
                    path: "../../samples/metal/blackmetal9.ogg"
                }
            ]

            tracks.forEach(track => {
                const audio = new Audio()
                audio.addEventListener('canplaythrough', null, false)
                audio.src = track.path
            })

            var artistSpan = $(document).find('#artist')[0]

            var track = $(document).find('#track')[0]

            var audioInstanceArray = [];

            var buttons = [];

            var audioInstance;

            $(document).find('.buttons-metal').each(function(index, button) {

                buttons.push(button);

                $(this).click(function() {

                    removeAllButtonBorders()

                    $(this).toggleClass('clicked');

                    stopAllMusic()

                    audioInstance = new Audio(tracks[index].path);
                    audioInstanceArray.push(audioInstance);
                    audioInstance.play();

                    artistSpan.innerHTML = tracks[index].artist
                    track.innerHTML = tracks[index].track

                });
            });

            $('.buttons-metal-stop').on('click', function() {

                stopAllMusic()

                artistSpan.innerHTML = ''
                track.innerHTML = ''

                removeAllButtonBorders()

            });

            var removeAllButtonBorders = () => {
                buttons.forEach(
                    button => button.className = "buttons buttons-metal"
                )
            }

            var stopAllMusic = () => {
                 audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
            }

        });

    </script>

</body>
</html>

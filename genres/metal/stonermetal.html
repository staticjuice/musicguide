<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Stoner Metal</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,900" rel="stylesheet">
</head>
  
<body class="genre stonermetal">
    <div id="box-metal">
        <h1>STONER METAL</h1><br>
            
        When Space Rock encountered the slow, marching, and almost hypnotizing rhythm of Doom Metal, a match was made in heaven &ndash; Stoner Metal. Stoner Rock or Metal received large appeal from sedative and hallucinogenic drug users, which explains its name. Influenced by psychedelic drugs, this kind of Heavy Metal featured heavy sluggish riffs and a lot of distortion and spacy sound effects. Stoner songs are longer than usual with repetitive melodic outros. In the mid-eighties, Stoner blends with more energetic and louder genres, such as Hardcore Punk and Grunge. The result is a very thick and psychedelic but also fast and technical sound &ndash; a sludge of heavy guitar music, which kept gaining popularity until this day &ndash; Sludge Metal. Both Stoner and Sludge Metal’s characteristics make these genres the most Rock-like types of Metal, which is why they’re also called “Rock” or simply Sludge and Stoner to avoid any conflict. Many Stoner or Sludge Metal songs are also recognizable by their slow-motion soundwall of interwoven distorted guitar riffs, sounding as if the apocalyptic revelation of an evil god is near.<br><br>

        <div class="row icon-list">
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-metal">1</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-metal">2</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-metal">3</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-metal">4</div>
            </div>
                
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-metal">5</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-metal">6</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-metal">7</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-metal">8</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-metal">9</div>
            </div>

            <div class="visible-xs col-xs-1">
                <div class="buttons-metal-stop">&#9724;</div>
            </div>
        </div>

        <div class="example"><br>
            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p> 
        </div>

        <div class="hidden-xs col-sm-1 stop">
            <div class="buttons-metal-stop">&#9724;</div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
    <script>
        $(document).ready(function() {

            
            var tracks = [
                {
                    artist: "Monster Magnet",
                    track: "Superjudge",
                    path: "../../samples/metal/stonermetal1.ogg"
                },
                {
                    artist: "Kyuss",
                    track: "Demon Cleaner",
                    path: "../../samples/metal/stonermetal2.ogg"
                },
                {
                    artist: "Orange Goblin",
                    track: "Shine",
                    path: "../../samples/metal/stonermetal3.ogg"
                },
                {
                    artist: "Spirit Caravan",
                    track: "Lost Sun Dance",
                    path: "../../samples/metal/stonermetal4.ogg"
                },
                {
                    artist: "The Sword",
                    track: "Freya",
                    path: "../../samples/metal/stonermetal5.ogg"
                },
                {
                    artist: "Bongzilla",
                    track: "Grim Reefer",
                    path: "../../samples/metal/stonermetal6.ogg"
                },
                {
                    artist: "Kylesa",
                    track: "Unspoken",
                    path: "../../samples/metal/stonermetal7.ogg"
                },
                {
                    artist: "Mastodon",
                    track: "The Motherload",
                    path: "../../samples/metal/stonermetal8.ogg"
                },
                {
                    artist: "Baroness",
                    track: "Take My Bones Away",
                    path: "../../samples/metal/stonermetal9.ogg"
                }
            ]

            tracks.forEach(track => {
                const audio = new Audio()
                audio.addEventListener('canplaythrough', null, false)
                audio.src = track.path
            })

            var artistSpan = $(document).find('#artist')[0]

            var track = $(document).find('#track')[0]

            var audioInstanceArray = [];

            var buttons = [];

            var audioInstance;

            $(document).find('.buttons-metal').each(function(index, button) {

                buttons.push(button);
                
                $(this).click(function() {

                    removeAllButtonBorders()

                    $(this).toggleClass('clicked');
                
                    stopAllMusic()

                    audioInstance = new Audio(tracks[index].path);
                    audioInstanceArray.push(audioInstance);
                    audioInstance.play();

                    artistSpan.innerHTML = tracks[index].artist
                    track.innerHTML = tracks[index].track

                });
            });

            $('.buttons-metal-stop').on('click', function() {

                stopAllMusic()

                artistSpan.innerHTML = ''
                track.innerHTML = ''

                removeAllButtonBorders()

            });

            var removeAllButtonBorders = () => {
                buttons.forEach(
                    button => button.className = "buttons-metal"
                )
            }

            var stopAllMusic = () => {
                 audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
            }

        });

    </script>

</body>
</html>
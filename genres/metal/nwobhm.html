<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>NWOBHM</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,900" rel="stylesheet">
</head>
  
<body class="genre nwobhm">
    <div id="box-metal">
        <h1>NWOBHM</h1><br>
            
        When Heavy Metal was picked up in the UK, a lot of young bands were eager to make raw, energetic, revolutionary music on their own. On the one hand driven by a contempt for the popularity of Glam Metal’s commercialism, on the other hand by an urge to keep the British Punk legacy alive. By being a lot faster, louder and tougher and with lyrics becoming more pessimistic and aggressive, they transformed Traditional Heavy Metal into the New Wave of British Heavy Metal (NWOBHM). The NWOBHM reinvented earlier Traditional Metal and Hard Rock bands into a more metallic and edgier sound, and thereby shaping Metal into the characteristic sound it is most affiliated with. British Metal musicians molded Heavy Metal into the genre most people know, by showing off with bullet-speed riffs, screaming solos and high-pitched vocals. After its arrival on US soil, the NWOBHM changed into Thrash Metal, while many UK based bands kept performing and stayed more or less true to their sound. The NWOBHM was a lot more swinging and sometimes even “poppy”, compared to later Thrash Metal.<br><br>

        <div class="row icon-list">
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-metal">1</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-metal">2</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-metal">3</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-metal">4</div>
            </div>
                
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-metal">5</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-metal">6</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-metal">7</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-metal">8</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-metal">9</div>
            </div>

            <div class="visible-xs col-xs-1">
                <div class="buttons-metal-stop">&#9724;</div>
            </div>
        </div>

        <div class="example"><br>
            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p> 
        </div>

        <div class="hidden-xs col-sm-1 stop">
            <div class="buttons-metal-stop">&#9724;</div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
    <script>
        $(document).ready(function() {

            
            var tracks = [
                {
                    artist: "Iron Maiden",
                    track: "2 Minutes To Midnight",
                    path: "../../samples/metal/nwobhm1.ogg"
                },
                {
                    artist: "Motörhead",
                    track: "Overkill",
                    path: "../../samples/metal/nwobhm2.ogg"
                },
                {
                    artist: "Diamond Head",
                    track: "Lightning To The Nations",
                    path: "../../samples/metal/nwobhm3.ogg"
                },
                {
                    artist: "Angel Witch",
                    track: "Angel Witch",
                    path: "../../samples/metal/nwobhm4.ogg"
                },
                {
                    artist: "Saxon",
                    track: "Heavy Metal Thunder",
                    path: "../../samples/metal/nwobhm5.ogg"
                },
                {
                    artist: "Girlschool",
                    track: "C'mon Let's Go",
                    path: "../../samples/metal/nwobhm6.ogg"
                },
                {
                    artist: "Praying Mantis",
                    track: "Running For Tomorrow",
                    path: "../../samples/metal/nwobhm7.ogg"
                },
                {
                    artist: "Quartz",
                    track: "Stand Up And Fight",
                    path: "../../samples/metal/nwobhm8.ogg"
                },
                {
                    artist: "Tygers Of Pan Tang",
                    track: "Euthanasia",
                    path: "../../samples/metal/nwobhm9.ogg"
                }
            ]

            tracks.forEach(track => {
                const audio = new Audio()
                audio.addEventListener('canplaythrough', null, false)
                audio.src = track.path
            })

            var artistSpan = $(document).find('#artist')[0]

            var track = $(document).find('#track')[0]

            var audioInstanceArray = [];

            var buttons = [];

            var audioInstance;

            $(document).find('.buttons-metal').each(function(index, button) {

                buttons.push(button);
                
                $(this).click(function() {

                    removeAllButtonBorders()

                    $(this).toggleClass('clicked');
                
                    stopAllMusic()

                    audioInstance = new Audio(tracks[index].path);
                    audioInstanceArray.push(audioInstance);
                    audioInstance.play();

                    artistSpan.innerHTML = tracks[index].artist
                    track.innerHTML = tracks[index].track

                });
            });

            $('.buttons-metal-stop').on('click', function() {

                stopAllMusic()

                artistSpan.innerHTML = ''
                track.innerHTML = ''

                removeAllButtonBorders()

            });

            var removeAllButtonBorders = () => {
                buttons.forEach(
                    button => button.className = "buttons-metal"
                )
            }

            var stopAllMusic = () => {
                 audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
            }

        });

    </script>

</body>
</html>
<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="../../../css/bootstrap.css">
        <link rel="stylesheet" href="../../../css/style.css">
        <title>Thrash Metal</title>
    </head>

    <body id="thrashmetal">
        <div class="box metal"><div class="year year-metal">1982</div>
            <h1>THRASH METAL</h1>

            <p>What the NWoBHM did to Heavy Metal, Thrash Metal did to the NWoBHM. American bands became hugely influenced by their British predecessors and decided to take it up another notch &ndash; the music became even faster and more drum and bass-heavy (often involving a drum kit with two bass drums). Glam Metal made Metal too commercial and lighthearted. Thrash Metal was the answer. Aggressive, low-frequency riffs, hyperactive scales, arpeggios and prominent thrashing are the most recognisable features of Thrash Metal. The overall song length also increases compared to NWoBHM, adding more complex song structures to the music. The genre quickly stood out amongst other Metal styles and soon several bands rose to international fame, known as the "Big Four of Thrash Metal". These Bands &ndash; Metallica, Slayer, Megadeth and Anthrax &ndash; helped spread Metal throughout the globe. With nihilistic lyrics, often about anti-establishment, justice or war, Metal bands use just about anything to enforce a theatrical vocabulary. But like almost all Metal, the message is rather cryptic than truly political.</p>

            <div class="row icon-list">
                <div class="col-1"><div class="buttons buttons-metal">1</div></div>
                <div class="col-1"><div class="buttons buttons-metal">2</div></div>
                <div class="col-1"><div class="buttons buttons-metal">3</div></div>
                <div class="col-1"><div class="buttons buttons-metal">4</div></div>
                <div class="col-1"><div class="buttons buttons-metal">5</div></div>
                <div class="col-1"><div class="buttons buttons-metal">6</div></div>
                <div class="col-1"><div class="buttons buttons-metal">7</div></div>
                <div class="col-1"><div class="buttons buttons-metal">8</div></div>
                <div class="col-1"><div class="buttons buttons-metal">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-metal-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Metallica",
                        track: "Master Of Puppets",
                        path: "../../../samples/metal/thrashmetal1.ogg"
                    },
                    {
                        artist: "Megadeth",
                        track: "Skin O' My Teeth",
                        path: "../../../samples/metal/thrashmetal2.ogg"
                    },
                    {
                        artist: "Exodus",
                        track: "The Toxic Waltz",
                        path: "../../../samples/metal/thrashmetal3.ogg"
                    },
                    {
                        artist: "Sodom",
                        track: "M-16",
                        path: "../../../samples/metal/thrashmetal4.ogg"
                    },
                    {
                        artist: "Kreator",
                        track: "Enemy Of God",
                        path: "../../../samples/metal/thrashmetal5.ogg"
                    },
                    {
                        artist: "Destruction",
                        track: "Nailed To The Cross",
                        path: "../../../samples/metal/thrashmetal6.ogg"
                    },
                    {
                        artist: "Testament",
                        track: "Native Blood",
                        path: "../../../samples/metal/thrashmetal7.ogg"
                    },
                    {
                        artist: "Pantera",
                        track: "Cowboys From Hell",
                        path: "../../../samples/metal/thrashmetal8.ogg"
                    },
                    {
                        artist: "Machine Head",
                        track: "Aesthetics Of Hate",
                        path: "../../../samples/metal/thrashmetal9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-metal').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-metal-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-metal"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Darkwave</title>
    </head>

    <body id="darkwave">
        <div class="box industrial">
            <h1>DARKWAVE</h1><div class="year year-industrial">1980</div>

            <p>After the heydays of the few early Goth Rock pioneers, the Gothic movement took their legacy and started creating darker, more melancholic and more electronic-sounding music with haunting synth melodies, drum machines, and Post-Punk guitar riffs. The introvert lyrics were typically about Gothic (romantic) topics. This darker form of New Wave (usually it was more Post-Punk than New Wave) was called Darkwave. Darkwave emerged in Germany as the second wave of Goth Rock. It merged with Synthpop and thus became much more electronic. Another genre emerged from this known as Coldwave. To the American press, Coldwave is very heavy, guitar-based Darkwave and a predecessor of Industrial Rock (such as bands Chemlab, Hate Department or 16 Volt). In Europe (especially in France) Coldwave is known as a minimal, Gothic type of Synthpop. Darkwave and Coldwave encompass all Goth music from the late 80s until present. Together with Industrial Rock and Electro-Industrial, it would form a musical trinity as the music of choice for the underground but undying Industrial subculture.</p>

            <div class="row">
                <div class="col-1"><div class="buttons buttons-industrial">1</div></div>
                <div class="col-1"><div class="buttons buttons-industrial">2</div></div>
                <div class="col-1"><div class="buttons buttons-industrial">3</div></div>
                <div class="col-1"><div class="buttons buttons-industrial">4</div></div>
                <div class="col-1"><div class="buttons buttons-industrial">5</div></div>
                <div class="col-1"><div class="buttons buttons-industrial">6</div></div>
                <div class="col-1"><div class="buttons buttons-industrial">7</div></div>
                <div class="col-1"><div class="buttons buttons-industrial">8</div></div>
                <div class="col-1"><div class="buttons buttons-industrial">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-industrial-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Deine Lakaien",
                        track: "The Night Of Love",
                        path: "../../samples/industrial/darkwave1.ogg"
                    },
                    {
                        artist: "Beborn Beton",
                        track: "Another World",
                        path: "../../samples/industrial/darkwave2.ogg"
                    },
                    {
                        artist: "Wolfsheim",
                        track: "The Sparrows And The Nightingales",
                        path: "../../samples/industrial/darkwave3.ogg"
                    },
                    {
                        artist: "Clan Of Xymox",
                        track: "Stranger",
                        path: "../../samples/industrial/darkwave4.ogg"
                    },
                    {
                        artist: "Switchblade Symphony",
                        track: "Dollhouse",
                        path: "../../samples/industrial/darkwave5.ogg"
                    },
                    {
                        artist: "The CrÃ¼xshadows",
                        track: "Clerestory",
                        path: "../../samples/industrial/darkwave6.ogg"
                    },
                    {
                        artist: "Rosetta Stone",
                        track: "Adrenaline",
                        path: "../../samples/industrial/darkwave7.ogg"
                    },
                    {
                        artist: "Cocteau Twins",
                        track: "Millimillenary",
                        path: "../../samples/industrial/darkwave8.ogg"
                    },
                    {
                        artist: "Trance To The Sun",
                        track: "Sleeping With The Natives",
                        path: "../../samples/industrial/darkwave9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-industrial').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-industrial-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-industrial"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

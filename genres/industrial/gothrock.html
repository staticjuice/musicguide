<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Goth Rock</title>
    </head>

    <body class="genre" id="gothrock">
        <div class="box industrial">
            <h1>GOTH ROCK</h1>

            <p>The realization that Punk Rock didn't change the world and never would, pushed a small number of Post-Punk groups towards a more depressing, nihilistic sound. It was a bad trip of edgy Rock &amp; Roll one could call Dark Acid Punk Rock, with a touch of Industrial. While Gothic Rock pioneers simply tried to create a unique Rock sound fitting for the age of despair and economic crisis, the music inspired a well-known, broader subculture &ndash; Goth. Strongly tied to dark art, melancholic poetry or literature, nocturnal themes and the colour black, Goth is as unhappy and despairing as possible. Especially dark romantic tales from the 19th century such as the works of Edgar Allan Poe, were a big influence on Gothic Rock. The subculture of Goth evolving out of the music would influence new Gothic artists into becoming more electronic and sinister, leading to Darkwave. The London Post-Punk scene developed around the same time a very similar genre, but with more themes from death and the macabre &ndash; Deathrock. The Bat Cave club in London was the primary operating base for these new artists, awakening in the night as Punk vampires.</p>

            <div class="row icon-list">
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-industrial">1</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-industrial">2</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-industrial">3</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-industrial">4</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-industrial">5</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-industrial">6</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-industrial">7</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-industrial">8</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-industrial">9</div></div>
                <div class="d-block d-md-none col-md-1 col-xs-1"><div class="buttons buttons-industrial-stop">&#9724;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-md-block col-md-1 stop"><div class="buttons buttons-industrial-stop">&#9724;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "The Sisters Of Mercy",
                        track: "This Corrosion",
                        path: "../../samples/industrial/gothrock1.ogg"
                    },
                    {
                        artist: "Bauhaus",
                        track: "Dancing",
                        path: "../../samples/industrial/gothrock2.ogg"
                    },
                    {
                        artist: "The Danse Society",
                        track: "Heaven Is Waiting",
                        path: "../../samples/industrial/gothrock3.ogg"
                    },
                    {
                        artist: "The Cure",
                        track: "A Forest",
                        path: "../../samples/industrial/gothrock4.ogg"
                    },
                    {
                        artist: "Siouxsie And The Banshees",
                        track: "Cities In Dust",
                        path: "../../samples/industrial/gothrock5.ogg"
                    },
                    {
                        artist: "45 Grave",
                        track: "Phantoms",
                        path: "../../samples/industrial/gothrock6.ogg"
                    },
                    {
                        artist: "Christian Death",
                        track: "Church Of No Return",
                        path: "../../samples/industrial/gothrock7.ogg"
                    },
                    {
                        artist: "The Southern Death Cult",
                        track: "Fatman",
                        path: "../../samples/industrial/gothrock8.ogg"
                    },
                    {
                        artist: "Echo & The Bunnymen",
                        track: "Lips Like Sugar",
                        path: "../../samples/industrial/gothrock9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-industrial').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-industrial-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-industrial"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

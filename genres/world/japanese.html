<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
        <link rel="stylesheet" href="../../css/style.css">
        <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js" integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>
        <title>Japanese</title>
    </head>

    <body id="japanese">
        <div class="quaternary-box world">
            <h1>JAPANESE</h1>

            <p>The music of Japan includes a wide array of performers in distinct styles both traditional and modern. The word for music in Japanese is ongaku. Traditional Japanese music is quite different from Western music as it is often based on the intervals of human breathing rather than mathematical timing. There are two forms of music recognised to be the oldest forms of traditional Japanese music. They are shōmyō, or Buddhist chanting, and gagaku, or orchestral court music, both of which date to the Nara and Heian periods. Originating as early as the 13th century are honkyoku, meaning "original pieces". These are single shakuhachi pieces played by mendicant Fuke sect priests of Zen Buddhism. These priests, called komusō, played honkyoku for alms and enlightenment. The Fuke sect ceased to exist in the 19th century, but a verbal and written lineage of many honkyoku continues today, though this music is now often practiced in a concert or performance setting. The samurai often listened to and performed in these music activities, in their practices of enriching their lives and understanding.</p>

            <div id="quaternary-grid">
                <div class="quaternary-button world-light">1</div>
                <div class="quaternary-button world-light">2</div>
                <div class="quaternary-button world-light">3</div>
                <div class="quaternary-button world-light">4</div>
                <div class="quaternary-button world-light">5</div>
                <div class="quaternary-button world-light">6</div>
                <div class="quaternary-button world-light">7</div>
                <div class="quaternary-button world-light">8</div>
                <div class="quaternary-button world-light">9</div>
            </div>

            <div class="quaternary-artisttrack" data-label="Artist:"><span id="artist"></span></div>
            <div class="quaternary-artisttrack" data-label="Track:"><span id="track"></span></div>
            <div class="quaternary-stop"><div class="quaternary-button world-light"><i class="fa-solid fa-stop"></i></div></div>
        </div>

        <script>
            $(function() {
                const tracks = [
                    { artist: "Koto Ensemble Of The Ikuta School", track: "Shockikubai", path: "../../samples/world/japanese1.ogg" },
                    { artist: "Aiko Hasegawa", track: "The Moment Of Spring: Pt. 2", path: "../../samples/world/japanese2.ogg" },
                    { artist: "Nozomi Myanishi", track: "Spring Yellow", path: "../../samples/world/japanese3.ogg" },
                    { artist: "Toshiko Yonekawa", track: "Soran-Bushi", path: "../../samples/world/japanese4.ogg" },
                    { artist: "Duo En", track: "Kojo No Tsuki", path: "../../samples/world/japanese5.ogg" },
                    { artist: "Isaku Kageyama & Yoshinori Kikuchi", track: "Sanctuary", path: "../../samples/world/japanese6.ogg" },
                    { artist: "Mizuyo Komiya", track: "Beyond The Window", path: "../../samples/world/japanese7.ogg" },
                    { artist: "Yamato Ensemble", track: "Seoto", path: "../../samples/world/japanese8.ogg" },
                    { artist: "Seijo Omure Ki", track: "Sorrow For Keiko", path: "../../samples/world/japanese9.ogg" }
                ];

                const audioInstances = tracks.map(track => new Audio(track.path));
                const $artistSpan = $('#artist');
                const $trackSpan = $('#track');
                const $button = $('.quaternary-button');

                $button.on('click', function() {
                    stopAllMusic();
                    const index = $button.index(this);
                    $(this).toggleClass('clicked');
                    const audio = audioInstances[index];
                    audio.play();
                    $artistSpan.text(tracks[index].artist);
                    $trackSpan.text(tracks[index].track);
                });

                $('.quaternary-stop').on('click', function() {
                    stopAllMusic();
                    $artistSpan.text('');
                    $trackSpan.text('');
                });

                function stopAllMusic() {
                    audioInstances.forEach(audio => {
                        audio.pause();
                        audio.currentTime = 0;
                    });
                    $button.removeClass('clicked');
                }
            });
        </script>
    </body>
</html>

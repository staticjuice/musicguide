<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Japanese</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,900" rel="stylesheet">
</head>
  
<body class="genre japanese">
    <div id="box-world">
        <h1>JAPANESE</h1><br>
            
        The music of Japan includes a wide array of performers in distinct styles both traditional and modern. The word for music in Japanese is ongaku. Traditional Japanese music is quite different from Western music as it is often based on the intervals of human breathing rather than mathematical timing. There are two forms of music recognized to be the oldest forms of traditional Japanese music. They are shōmyō, or Buddhist chanting, and gagaku, or orchestral court music, both of which date to the Nara and Heian periods. Originating as early as the 13th century are honkyoku, meaning "original pieces". These are single shakuhachi pieces played by mendicant Fuke sect priests of Zen buddhism. These priests, called komusō, played honkyoku for alms and enlightenment. The Fuke sect ceased to exist in the 19th century, but a verbal and written lineage of many honkyoku continues today, though this music is now often practiced in a concert or performance setting. The samurai often listened to and performed in these music activities, in their practices of enriching their lives and understanding.<br><br>

        <div class="row icon-list">
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-world">1</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-world">2</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-world">3</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-world">4</div>
            </div>
                
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-world">5</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-world">6</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-world">7</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-world">8</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-world">9</div>
            </div>

            <div class="visible-xs col-xs-1">
                <div class="buttons-world-stop">&#9724;</div>
            </div>
        </div>

        <div class="example"><br>
            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p> 
        </div>

        <div class="hidden-xs col-sm-1 stop">
            <div class="buttons-world-stop">&#9724;</div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
    <script>
        $(document).ready(function() {

            
            var tracks = [
                {
                    artist: "Koto Ensemble Of The Ikuta School",
                    track: "Shockikubai",
                    path: "../../samples/world/japanese1.ogg"
                },
                {
                    artist: "Aiko Hasegawa",
                    track: "The Moment Of Spring: Pt. 2",
                    path: "../../samples/world/japanese2.ogg"
                },
                {
                    artist: "Nozomi Myanishi",
                    track: "Spring Yellow",
                    path: "../../samples/world/japanese3.ogg"
                },
                {
                    artist: "Toshiko Yonekawa",
                    track: "Soran-Bushi",
                    path: "../../samples/world/japanese4.ogg"
                },
                {
                    artist: "Duo En",
                    track: "Kojo No Tsuki",
                    path: "../../samples/world/japanese5.ogg"
                },
                {
                    artist: "Isaku Kageyama & Yoshinori Kikuchi",
                    track: "Sanctuary",
                    path: "../../samples/world/japanese6.ogg"
                },
                {
                    artist: "Mizuyo Komiya",
                    track: "Beyond The Window",
                    path: "../../samples/world/japanese7.ogg"
                },
                {
                    artist: "Yamato Ensemble",
                    track: "Seoto",
                    path: "../../samples/world/japanese8.ogg"
                },
                {
                    artist: "Seijo Omure Ki",
                    track: "Sorrow For Keiko",
                    path: "../../samples/world/japanese9.ogg"
                }
            ]

            tracks.forEach(track => {
                const audio = new Audio()
                audio.addEventListener('canplaythrough', null, false)
                audio.src = track.path
            })

            var artistSpan = $(document).find('#artist')[0]

            var track = $(document).find('#track')[0]

            var audioInstanceArray = [];

            var buttons = [];

            var audioInstance;

            $(document).find('.buttons-world').each(function(index, button) {

                buttons.push(button);
                
                $(this).click(function() {

                    removeAllButtonBorders()

                    $(this).toggleClass('clicked');
                
                    stopAllMusic()

                    audioInstance = new Audio(tracks[index].path);
                    audioInstanceArray.push(audioInstance);
                    audioInstance.play();

                    artistSpan.innerHTML = tracks[index].artist
                    track.innerHTML = tracks[index].track

                });
            });

            $('.buttons-world-stop').on('click', function() {

                stopAllMusic()

                artistSpan.innerHTML = ''
                track.innerHTML = ''

                removeAllButtonBorders()

            });

            var removeAllButtonBorders = () => {
                buttons.forEach(
                    button => button.className = "buttons-world"
                )
            }

            var stopAllMusic = () => {
                 audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
            }

        });

    </script>

</body>
</html>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Chinese</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,900" rel="stylesheet">
</head>
  
<body class="genre chinese">
    <div id="box-world">
        <h1>CHINESE</h1><br>
            
        Chinese music may refer to the music of the Han Chinese as well as other ethnic minorities within mainland China. It also includes music produced by people of Chinese origin in some territories outside mainland China using traditional Chinese instruments or in the Chinese language. Different types of music have been recorded in historical Chinese documents from the early periods of Chinese civilization which, together with archaeological artifacts discovered, provided evidence of a well-developed musical culture as early as the Zhou Dynasty (1122 BC &ndash; 256 BC). These further developed into various forms of music through succeeding dynasties, producing the rich heritage of music that is part of the Chinese cultural landscape today. Chinese music continues to evolve in the modern times, and more contemporary forms have also emerged. According to legends, the founder of music in Chinese mythology was Ling Lun who, at the request of the Yellow Emperor to create a system of music, made bamboo pipes tuned to the sounds of birds including the phoenix.<br><br>

        <div class="row icon-list">
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-world">1</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-world">2</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-world">3</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-world">4</div>
            </div>
                
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-world">5</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-world">6</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-world">7</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-world">8</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-world">9</div>
            </div>

            <div class="visible-xs col-xs-1">
                <div class="buttons-world-stop">&#9724;</div>
            </div>
        </div>

        <div class="example"><br>
            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p> 
        </div>

        <div class="hidden-xs col-sm-1 stop">
            <div class="buttons-world-stop">&#9724;</div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
    <script>
        $(document).ready(function() {

            
            var tracks = [
                {
                    artist: "Xu Jiangde",
                    track: "Willow In The Spring Breeze",
                    path: "../../samples/world/chinese1.ogg"
                },
                {
                    artist: "Chen Zhong",
                    track: "Six Clappers In Zhong Hua",
                    path: "../../samples/world/chinese2.ogg"
                },
                {
                    artist: "Hu Haiquan",
                    track: "One Flower",
                    path: "../../samples/world/chinese3.ogg"
                },
                {
                    artist: "Xiao Ying",
                    track: "Spring On Snowy Mountains",
                    path: "../../samples/world/chinese4.ogg"
                },
                {
                    artist: "The Beijing Instrumental Ensemble",
                    track: "Moonlight Dancing Song",
                    path: "../../samples/world/chinese5.ogg"
                },
                {
                    artist: "Ming Flute Ensemble",
                    track: "The Song Of The Four Seasons",
                    path: "../../samples/world/chinese6.ogg"
                },
                {
                    artist: "Pan Jing & Ensemble",
                    track: "A Journey To Suzhou",
                    path: "../../samples/world/chinese7.ogg"
                },
                {
                    artist: "Chinese Plucked Instruments Quintet",
                    track: "Flowing Spring On The Rock",
                    path: "../../samples/world/chinese8.ogg"
                },
                {
                    artist: "Jiangsu Art Troupe Folk Music Band",
                    track: "A Reed Catkin",
                    path: "../../samples/world/chinese9.ogg"
                }
            ]

            var artistSpan = $(document).find('#artist')[0]

            var track = $(document).find('#track')[0]

            var audioInstanceArray = [];

            var buttons = [];

            var audioInstance;

            $(document).find('.buttons-world').each(function(index, button) {

                buttons.push(button);
                
                $(this).click(function() {

                    removeAllButtonBorders()

                    $(this).toggleClass('clicked');
                
                    stopAllMusic()

                    audioInstance = new Audio(tracks[index].path);
                    audioInstanceArray.push(audioInstance);
                    audioInstance.play();

                    artistSpan.innerHTML = tracks[index].artist
                    track.innerHTML = tracks[index].track

                });
            });

            $('.buttons-world-stop').on('click', function() {

                stopAllMusic()

                artistSpan.innerHTML = ''
                track.innerHTML = ''

                removeAllButtonBorders()

            });

            var removeAllButtonBorders = () => {
                buttons.forEach(
                    button => button.className = "buttons-world"
                )
            }

            var stopAllMusic = () => {
                 audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
            }

        });

    </script>

</body>
</html>
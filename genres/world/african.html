<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>African</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,900" rel="stylesheet">
</head>
  
<body class="genre african">
    <div id="box-world">
        <h1>AFRICAN</h1><br>
            
        The traditional music of Africa, given the vastness of the continent, is historically ancient, rich and diverse, with different regions and nations of Africa having many distinct musical traditions. Music in Africa is very important when it comes to religion. Songs and music are used in rituals and religious ceremonies, to pass down stories from generation too generation, as well as to sing and dance to. Traditional music in most of the continent is passed down orally (or aurally) and is not written. In Sub-Saharan African music traditions, it frequently relies on percussion instruments of every variety, including xylophones, djembes, drums, and tone-producing instruments such as the mbira or "thumb piano." The music and dance of the African diaspora, formed to varying degrees on African musical traditions, include American music and many Caribbean genres, such as Soca, Calypso and Zouk. Latin American music genres such as the Rumba, Conga, Bomba, Cumbia and Samba were also founded on the music of enslaved Africans, and have in turn influenced African popular music.<br><br>

        <div class="row icon-list">
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-world">1</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-world">2</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-world">3</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-world">4</div>
            </div>
                
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-world">5</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-world">6</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-world">7</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-world">8</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-world">9</div>
            </div>

            <div class="visible-xs col-xs-1">
                <div class="buttons-world-stop">&#9724;</div>
            </div>
        </div>

        <div class="example"><br>
            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p> 
        </div>

        <div class="hidden-xs col-sm-1 stop">
            <div class="buttons-world-stop">&#9724;</div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
    <script>
        $(document).ready(function() {

            
            var tracks = [
                {
                    artist: "Black Bear Moon Rhythm Ensemble",
                    track: "Sofa",
                    path: "../../samples/world/african1.ogg"
                },
                {
                    artist: "Universal African Dance & Drum Ensemble",
                    track: "Forest Dance",
                    path: "../../samples/world/african2.ogg"
                },
                {
                    artist: "Farafina",
                    track: "Mogoman Wouelé",
                    path: "../../samples/world/african3.ogg"
                },
                {
                    artist: "Tony Vacca",
                    track: "Baoule Dance Song",
                    path: "../../samples/world/african4.ogg"
                },
                {
                    artist: "Babatunde Olatunji",
                    track: "Jin-Go-Lo-Ba (Jin-Go-Low-Bah)",
                    path: "../../samples/world/african5.ogg"
                },
                {
                    artist: "Fore-Fote",
                    track: "Guine Fare",
                    path: "../../samples/world/african6.ogg"
                },
                {
                    artist: "The Drummers Of Burundi",
                    track: "Extract",
                    path: "../../samples/world/african7.ogg"
                },
                {
                    artist: "Sokan",
                    track: "Aīwa Bobo",
                    path: "../../samples/world/african8.ogg"
                },
                {
                    artist: "Les Ballets Africains",
                    track: "Ballade Of Bolons",
                    path: "../../samples/world/african9.ogg"
                }
            ]

            tracks.forEach(track => {
                const audio = new Audio()
                audio.addEventListener('canplaythrough', null, false)
                audio.src = track.path
            })

            var artistSpan = $(document).find('#artist')[0]

            var track = $(document).find('#track')[0]

            var audioInstanceArray = [];

            var buttons = [];

            var audioInstance;

            $(document).find('.buttons-world').each(function(index, button) {

                buttons.push(button);
                
                $(this).click(function() {

                    removeAllButtonBorders()

                    $(this).toggleClass('clicked');
                
                    stopAllMusic()

                    audioInstance = new Audio(tracks[index].path);
                    audioInstanceArray.push(audioInstance);
                    audioInstance.play();

                    artistSpan.innerHTML = tracks[index].artist
                    track.innerHTML = tracks[index].track

                });
            });

            $('.buttons-world-stop').on('click', function() {

                stopAllMusic()

                artistSpan.innerHTML = ''
                track.innerHTML = ''

                removeAllButtonBorders()

            });

            var removeAllButtonBorders = () => {
                buttons.forEach(
                    button => button.className = "buttons-world"
                )
            }

            var stopAllMusic = () => {
                 audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
            }

        });

    </script>

</body>
</html>
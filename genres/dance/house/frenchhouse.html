<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <link rel="stylesheet" href="../../../css/style.css">
        <title>French House</title>
    </head>

    <body id="frenchhouse">
        <div class="box house">
            <h1>FRENCH HOUSE</h1><div class="year year-house">1995</div>

            <p>French House started almost simultaneously with its sibling genres, Deep House and Funky House in the late 80s. It wasn't until the late 90s though, that many French House producers broke through internationally. Being much less ambient and soulful than Deep House, French House was more attracted to the futuristic visions of P-Funk. But more important was Eurodisco, which had a lasting impact in France on Dance music thanks to the regional subgenre Space Disco. Ever since Eurodisco arrived in France, the build-up to French House was already tangible, but to people abroad, the music felt revolutionary. This means spacy Synthpop sounds, a highly danceable nature, and "Electro" effects (such as robotic filters and phaser melodies). French House uses many references in song names or artwork to science-fiction and space. Funky House and French House share a great deal of overlapping. Around 2000, Funky House becomes more popular but both remain well-liked among many. French House is another example of popular music's continuous return to its own history, using the past to shape the future.</p>

            <div class="row">
                <div class="col-1"><div class="buttons buttons-house">1</div></div>
                <div class="col-1"><div class="buttons buttons-house">2</div></div>
                <div class="col-1"><div class="buttons buttons-house">3</div></div>
                <div class="col-1"><div class="buttons buttons-house">4</div></div>
                <div class="col-1"><div class="buttons buttons-house">5</div></div>
                <div class="col-1"><div class="buttons buttons-house">6</div></div>
                <div class="col-1"><div class="buttons buttons-house">7</div></div>
                <div class="col-1"><div class="buttons buttons-house">8</div></div>
                <div class="col-1"><div class="buttons buttons-house">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-house-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Stardust",
                        track: "Music Sounds Better With You",
                        path: "../../../samples/house/frenchhouse1.ogg"
                    },
                    {
                        artist: "Cheek",
                        track: "Venus (Sunshine People)",
                        path: "../../../samples/house/frenchhouse2.ogg"
                    },
                    {
                        artist: "Funky Derrick",
                        track: "Love Me Still",
                        path: "../../../samples/house/frenchhouse3.ogg"
                    },
                    {
                        artist: "Louis La Roche",
                        track: "Gimme Gimme",
                        path: "../../../samples/house/frenchhouse4.ogg"
                    },
                    {
                        artist: "Belgian Beer",
                        track: "Delight",
                        path: "../../../samples/house/frenchhouse5.ogg"
                    },
                    {
                        artist: "Daft Punk",
                        track: "High Life",
                        path: "../../../samples/house/frenchhouse6.ogg"
                    },
                    {
                        artist: "Fonzerelli",
                        track: "Moonlight Party",
                        path: "../../../samples/house/frenchhouse7.ogg"
                    },
                    {
                        artist: "DJ Mehdi",
                        track: "Signatune (Thomas Bangalter Edit)",
                        path: "../../../samples/house/frenchhouse8.ogg"
                    },
                    {
                        artist: "Arno Cost & Norman Doray",
                        track: "Show Luv",
                        path: "../../../samples/house/frenchhouse9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-house').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-house-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-house"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

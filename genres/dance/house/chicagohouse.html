<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../../css/style.css">
        <title>Chicago House</title>
    </head>

    <body class="genre" id="chicagohouse">
        <div class="box house">
            <h1>CHICAGO HOUSE</h1>

            <p>The gay discotheques of Chicago already had a history of long, decadent, hypersexual parties before 1984. But suddenly the scene changed into something even more intense &ndash; the Disco four-to-the-floor beat got more pronounced, most of the lyrics disappeared, and offbeat hi-hats, synth basslines and pianos took their place. King of Chicago House was the TR-909 drum machine, endlessly pounding even harder kick drums than before at the popular rate of 122-125 bpm. The combination of a rather slow EDM tempo, a deep and rich R&amp;B bass, diva vocals and tickling piano melodies culminated in a tingling, all-night-long dance sensation, intensified by XTC. Although ecstasy already existed during the 60s and the flower power age, it wasn’t until the coming of music that was hard enough that it became popular. Although House seemed like a sudden revolution, it really wasn’t. It was just another step in the ongoing evolution of Disco-debauchery, with Italo Disco and Hi-NRG being the intermediate steps. The main difference with Disco however, was that House was here to stay.</p>

            <div class="row icon-list">
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-house">1</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-house">2</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-house">3</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-house">4</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-house">5</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-house">6</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-house">7</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-house">8</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-house">9</div></div>
                <div class="d-block d-md-none col-md-1 col-xs-1"><div class="buttons buttons-house-stop">&#9724;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-md-block col-md-1 stop"><div class="buttons buttons-house-stop">&#9724;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Mr. Fingers",
                        track: "Can You Feel It?",
                        path: "../../../samples/dance/house/chicagohouse1.ogg"
                    },
                    {
                        artist: "Marshall Jefferson",
                        track: "Move Your Body",
                        path: "../../../samples/dance/house/chicagohouse2.ogg"
                    },
                    {
                        artist: 'Steve "Silk" Hurley',
                        track: "Jack Your Body",
                        path: "../../../samples/dance/house/chicagohouse3.ogg"
                    },
                    {
                        artist: "Lil Louis",
                        track: "French Kiss",
                        path: "../../../samples/dance/house/chicagohouse4.ogg"
                    },
                    {
                        artist: "Robert Owens",
                        track: "Bring Down The Walls",
                        path: "../../../samples/dance/house/chicagohouse5.ogg"
                    },
                    {
                        artist: "Ecstasy",
                        track: "This Is My House",
                        path: "../../../samples/dance/house/chicagohouse6.ogg"
                    },
                    {
                        artist: "Mixmasters",
                        track: "In The Mix",
                        path: "../../../samples/dance/house/chicagohouse7.ogg"
                    },
                    {
                        artist: "Aly-Us",
                        track: "Follow Me",
                        path: "../../../samples/dance/house/chicagohouse8.ogg"
                    },
                    {
                        artist: "Jesse Saunders",
                        track: "On & On",
                        path: "../../../samples/dance/house/chicagohouse9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-house').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-house-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-house"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

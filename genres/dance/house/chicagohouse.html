<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
        <link rel="stylesheet" href="../../../css/style.css">
        <title>Chicago House</title>
    </head>

    <body id="chicagohouse">
        <div class="box house">
            <h1>CHICAGO HOUSE</h1><div class="year year-house">1984</div>

            <p>The gay discotheques of Chicago already had a history of long, decadent, hypersexual parties before 1984. But suddenly the scene changed into something even more intense &ndash; the Disco four-to-the-floor beat got more pronounced, most of the lyrics disappeared, and offbeat hi-hats, synth basslines and pianos took their place. King of Chicago House was the TR-909 drum machine, endlessly pounding even harder kick drums than before at the popular rate of 122-125 BPM. The combination of a rather slow EDM tempo, a deep and rich R&amp;B bass, diva vocals and twinkling piano melodies culminated in a tingling, all-night-long dance sensation, intensified by XTC. Although ecstasy already existed during the 60s and the flower power age, it wasn't until the coming of music that was hard enough that it became popular. Although House seemed like a sudden revolution, it really wasn't. It was just another step in the ongoing evolution of Disco-debauchery, with Italo Disco and Hi-NRG being the intermediate steps. The main difference with Disco, however, was that House was here to stay.</p>

            <div class="row">
                <div class="col-1"><div class="buttons buttons-house">1</div></div>
                <div class="col-1"><div class="buttons buttons-house">2</div></div>
                <div class="col-1"><div class="buttons buttons-house">3</div></div>
                <div class="col-1"><div class="buttons buttons-house">4</div></div>
                <div class="col-1"><div class="buttons buttons-house">5</div></div>
                <div class="col-1"><div class="buttons buttons-house">6</div></div>
                <div class="col-1"><div class="buttons buttons-house">7</div></div>
                <div class="col-1"><div class="buttons buttons-house">8</div></div>
                <div class="col-1"><div class="buttons buttons-house">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-house-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.6.1.slim.min.js" integrity="sha256-w8CvhFs7iHNVUtnSP0YKEg00p9Ih13rlL9zGqvLdePA=" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Mr. Fingers",
                        track: "Can You Feel It?",
                        path: "../../../samples/house/chicagohouse1.ogg"
                    },
                    {
                        artist: "Marshall Jefferson",
                        track: "Move Your Body",
                        path: "../../../samples/house/chicagohouse2.ogg"
                    },
                    {
                        artist: 'Steve "Silk" Hurley',
                        track: "Jack Your Body",
                        path: "../../../samples/house/chicagohouse3.ogg"
                    },
                    {
                        artist: "Lil Louis",
                        track: "French Kiss",
                        path: "../../../samples/house/chicagohouse4.ogg"
                    },
                    {
                        artist: "Robert Owens",
                        track: "Bring Down The Walls",
                        path: "../../../samples/house/chicagohouse5.ogg"
                    },
                    {
                        artist: "Ecstasy",
                        track: "This Is My House",
                        path: "../../../samples/house/chicagohouse6.ogg"
                    },
                    {
                        artist: "Mixmasters",
                        track: "In The Mix",
                        path: "../../../samples/house/chicagohouse7.ogg"
                    },
                    {
                        artist: "Curtis McClaine & On The House",
                        track: "Let's Get Busy",
                        path: "../../../samples/house/chicagohouse8.ogg"
                    },
                    {
                        artist: "Scott Grooves",
                        track: "A New Day",
                        path: "../../../samples/house/chicagohouse9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-house').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-house-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-house"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

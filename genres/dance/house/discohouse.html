<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="../../../css/bootstrap.css">
        <link rel="stylesheet" href="../../../css/style.css">
        <title>Disco House</title>
    </head>

    <body id="discohouse">
        <div class="box house">
            <h1>DISCO HOUSE</h1><div class="year year-house">1990</div>

            <p>Disco House is a subgenre of House music that uses Funk and Disco samples, a Funk-inspired bass line or a strong Soul influence, combined with drum breaks that draw inspiration from 70s and 80s Funk records. The use of Disco strings are also common in the genre, although this is not always the case. Disco House uses specific techniques and sounds, characterised by Italo-inspired basslines, lush swooshes, swirls and other synthesised sounds which give the music a bouncy tempo usually around 128 BPM which is typical for House music. The genre is commercially popular, with record labels such as Defected Records, Ministry of Sound, Hed Kandi and Fierce Angel all releasing compilation albums dedicated to the genre. With the renewed interest in Funk and Disco in recent years, Disco House is often mistaken for Nu Disco. While Nu Disco also likes to make use of Funk and Disco samples, it tends to abadon the traditional four-to-the-floor drum programming of its sister genres. In many ways, Disco House is perhaps the purest of all House genres, returning to its true Disco roots.</p>

            <div class="row">
                <div class="col-1"><div class="buttons buttons-house">1</div></div>
                <div class="col-1"><div class="buttons buttons-house">2</div></div>
                <div class="col-1"><div class="buttons buttons-house">3</div></div>
                <div class="col-1"><div class="buttons buttons-house">4</div></div>
                <div class="col-1"><div class="buttons buttons-house">5</div></div>
                <div class="col-1"><div class="buttons buttons-house">6</div></div>
                <div class="col-1"><div class="buttons buttons-house">7</div></div>
                <div class="col-1"><div class="buttons buttons-house">8</div></div>
                <div class="col-1"><div class="buttons buttons-house">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-house-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Sgt Slick",
                        track: "Got To Love Somebody",
                        path: "../../../samples/house/discohouse1.ogg"
                    },
                    {
                        artist: "Jack's On",
                        track: "Relight My Fire (Richard Grey Extended Edit)",
                        path: "../../../samples/house/discohouse2.ogg"
                    },
                    {
                        artist: "The Shapeshifters",
                        track: "Back To Basics",
                        path: "../../../samples/house/discohouse3.ogg"
                    },
                    {
                        artist: "Block & Crown",
                        track: "Makes Me Love You",
                        path: "../../../samples/house/discohouse4.ogg"
                    },
                    {
                        artist: "Harry Lemon",
                        track: "Happy Dayz (Jack Russell's NYC Mix)",
                        path: "../../../samples/house/discohouse5.ogg"
                    },
                    {
                        artist: "Cabin Crew",
                        track: "Star To Fall",
                        path: "../../../samples/house/discohouse6.ogg"
                    },
                    {
                        artist: "Teamsters feat. Errol Reid",
                        track: "Feels Like Love",
                        path: "../../../samples/house/discohouse7.ogg"
                    },
                    {
                        artist: "Corenell vs The Lisa Marie Experience",
                        track: "Keep On Jumpin'",
                        path: "../../../samples/house/discohouse8.ogg"
                    },
                    {
                        artist: "Sharapov, Nott & Alvis",
                        track: "Better With You",
                        path: "../../../samples/house/discohouse9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-house').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-house-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-house"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

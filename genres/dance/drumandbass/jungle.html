<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../../css/style.css">
        <title>Jungle</title>
    </head>

    <body class="genre" id="jungle">
        <div class="box drumandbass">
            <h1>JUNGLE</h1>

            <p>The end of the short but intense Rave subculture preluded the beginning of a new one. The famous Amen Break was sped up to 170 BPM, chopped up and glued together to create an accelerated, rolling, syncopated rhythm. In the beginning this brand new music had two distinctive faces, later blending into one &ndash; on one hand, there was a softer, ambient, rational approach to the rhythm that used the "rolls" to accompany textured melodies. On the other hand, there was the emotional approach, the voice of a hunted down generation &ndash; paranoid, roughneck ravers that were influenced by the matching tempo and fierceness of Jamaican Ragga music. Drum &amp; Bass was part of West Side London culture, which was more upper class and "sophisticated", whereas Jungle was played in the clubs of East Side London. Jungle subculture is Hip Hop meets Ragga in a British jacket &ndash; in your face, militant and profane. Jungle rejected Rave culture which had become too much to bear at the start of the 90s. With menacing samples, criminal themes and deliberate use of cocaine and marijuana instead of XTC, the war against Rave was on.</p>

            <div class="row icon-list">
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-drumandbass">1</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-drumandbass">2</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-drumandbass">3</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-drumandbass">4</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-drumandbass">5</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-drumandbass">6</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-drumandbass">7</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-drumandbass">8</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-drumandbass">9</div></div>
                <div class="d-lg-none col-lg-1 col-xs-1"><div class="buttons buttons-drumandbass-stop">&FilledSmallSquare;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-lg-block col-md-1 stop"><div class="buttons buttons-drumandbass-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Goldie",
                        track: "Inner City Life",
                        path: "../../../samples/dance/drumandbass/jungle1.ogg"
                    },
                    {
                        artist: "Shy FX & UK Apache",
                        track: "Original Nuttah",
                        path: "../../../samples/dance/drumandbass/jungle2.ogg"
                    },
                    {
                        artist: "Bounty Killer & Beenie Man",
                        track: "Borderline Mobster",
                        path: "../../../samples/dance/drumandbass/jungle3.ogg"
                    },
                    {
                        artist: "Krome & Time",
                        track: "The License",
                        path: "../../../samples/dance/drumandbass/jungle4.ogg"
                    },
                    {
                        artist: "Freestylers",
                        track: "Warning",
                        path: "../../../samples/dance/drumandbass/jungle5.ogg"
                    },
                    {
                        artist: "Remark",
                        track: "Sound Murderer",
                        path: "../../../samples/dance/drumandbass/jungle6.ogg"
                    },
                    {
                        artist: "Omni Trio",
                        track: "Renegade Snares",
                        path: "../../../samples/dance/drumandbass/jungle7.ogg"
                    },
                    {
                        artist: "Origin Unknown",
                        track: "Valley Of Shadows",
                        path: "../../../samples/dance/drumandbass/jungle8.ogg"
                    },
                    {
                        artist: "Abstract",
                        track: "The Message",
                        path: "../../../samples/dance/drumandbass/jungle9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-drumandbass').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-drumandbass-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-drumandbass"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="../../../css/bootstrap.css">
        <link rel="stylesheet" href="../../../css/style.css">
        <title>Microfunk</title>
    </head>

    <body id="microfunk">
        <div class="box drumandbass">
            <h1>MICROFUNK</h1><div class="year year-drumandbass">2005</div>

            <p>Just as Techstep is the combination of Techno and Drum &amp; Bass and Neurofunk is Industrial and Drum &amp; Bass, Microfunk is Tech House mixed with Drum &amp; Bass. And not just any Tech House, but the Minimal variety that dominated German clubs for an entire decade in the 2000s. Its prominant use of deep basslines and rolling beats makes this subgenre a staple at many Drum &amp; Bass parties. The bassline keeps on rolling like ocean waves. More importantly, "rolling" is slang for being under the influence of hard party drugs, in particular ecstasy. Rollers were the main style of music played at parties flying under the "Drum &amp; Bass" flag for a long time, and this concept predates other D&amp;B subgenres such as Jump Up and Neurofunk by at least a decade. Those who attempted to make Microfunk were swept up in the Dubstep and Drumstep craze as soon as it was temporally prudent to do so, and Microfunk remains a small side genre that might still exist but probably doesn't. But Microfunk fills a niche in the Drum &amp; Bass scene by being dark and brooding, yet minimal and chilled out at the same time.</p>

            <div class="row icon-list">
                <div class="col-1"><div class="buttons buttons-drumandbass">1</div></div>
                <div class="col-1"><div class="buttons buttons-drumandbass">2</div></div>
                <div class="col-1"><div class="buttons buttons-drumandbass">3</div></div>
                <div class="col-1"><div class="buttons buttons-drumandbass">4</div></div>
                <div class="col-1"><div class="buttons buttons-drumandbass">5</div></div>
                <div class="col-1"><div class="buttons buttons-drumandbass">6</div></div>
                <div class="col-1"><div class="buttons buttons-drumandbass">7</div></div>
                <div class="col-1"><div class="buttons buttons-drumandbass">8</div></div>
                <div class="col-1"><div class="buttons buttons-drumandbass">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-drumandbass-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "DRS feat. Enei",
                        track: "Count To Ten",
                        path: "../../../samples/drumandbass/microfunk1.ogg"
                    },
                    {
                        artist: "BTK",
                        track: "Things I Do (SpectraSoul Remix)",
                        path: "../../../samples/drumandbass/microfunk2.ogg"
                    },
                    {
                        artist: "Skeptical & Alix Perez",
                        track: "Without A Trace",
                        path: "../../../samples/drumandbass/microfunk3.ogg"
                    },
                    {
                        artist: "Jubei",
                        track: "State Of The Art",
                        path: "../../../samples/drumandbass/microfunk4.ogg"
                    },
                    {
                        artist: "Hybris",
                        track: "Keeping Me",
                        path: "../../../samples/drumandbass/microfunk5.ogg"
                    },
                    {
                        artist: "Rockwell",
                        track: "Noir (Ulterior Motive Remix)",
                        path: "../../../samples/drumandbass/microfunk6.ogg"
                    },
                    {
                        artist: "Enei, Eastcolors & Noel",
                        track: "Cracker",
                        path: "../../../samples/drumandbass/microfunk7.ogg"
                    },
                    {
                        artist: "Sustance",
                        track: "Searching For You (Icicle Remix)",
                        path: "../../../samples/drumandbass/microfunk8.ogg"
                    },
                    {
                        artist: "Rockwell",
                        track: "User",
                        path: "../../../samples/drumandbass/microfunk9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-drumandbass').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-drumandbass-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-drumandbass"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

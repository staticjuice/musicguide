<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../../css/style.css">
        <title>Schranz</title>
    </head>

    <body class="genre" id="schranz">
        <div class="box techno">
            <h1>SCHRANZ</h1>

            <p>A constant and furious attack of hacking and rushing Techno beats at an incredible rate (150 BPM or more), like a psychopathic wind-up toy wielding a sledgehammer &ndash; this is Schranz. The genre slowly evolved out of early Hardcore and Minimal Techno, but is clearly distinguishable from other hard EDM genres. The beats all sound very similar due to the minimalist nature of the genre and the recognizable rush distortions. Variation is added by sounds, samples and subtle melodies, which alternate each other and thereby enhance the rhythm and tempo. Typical Schranz kick drums are heavily distorted in such a way that they seem muted instead of punctuated like other hard EDM genres &ndash; it's like a filter of white noise is put on top of the rhythm. Schranz has grown stronger and stronger, combining the love for purism with a hard-edge mentality and a discipline to refrain from ravy or explicit sounds. The downside is that all songs sound incredibly alike, almost in a satirical manner. Most Techno festivals have their own Schranz stage, and large club parties usually have a separate Schranz room as well, which is not very difficult to identify.</p>

            <div class="row icon-list">
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-techno">1</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-techno">2</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-techno">3</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-techno">4</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-techno">5</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-techno">6</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-techno">7</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-techno">8</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-techno">9</div></div>
                <div class="d-block d-lg-none col-lg-1 col-xs-1"><div class="buttons buttons-techno-stop">&FilledSmallSquare;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-lg-block col-md-1 stop"><div class="buttons buttons-techno-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Greg Notill",
                        track: "Transcendance",
                        path: "../../../samples/dance/techno/schranz1.ogg"
                    },
                    {
                        artist: "Jan Fleck",
                        track: "Come Get Some",
                        path: "../../../samples/dance/techno/schranz2.ogg"
                    },
                    {
                        artist: "O.B.I.",
                        track: "Hard Work",
                        path: "../../../samples/dance/techno/schranz3.ogg"
                    },
                    {
                        artist: "Frank Kvitta",
                        track: "Get It",
                        path: "../../../samples/dance/techno/schranz4.ogg"
                    },
                    {
                        artist: "Arkus P. & Sepromatiq",
                        track: "Visions",
                        path: "../../../samples/dance/techno/schranz5.ogg"
                    },
                    {
                        artist: "Svetec",
                        track: "I Can Be Your Freak",
                        path: "../../../samples/dance/techno/schranz6.ogg"
                    },
                    {
                        artist: "Sepromatiq",
                        track: "Reason About Money",
                        path: "../../../samples/dance/techno/schranz7.ogg"
                    },
                    {
                        artist: "Krischmann & Klingenberg",
                        track: "TrÃ¼ffelparade",
                        path: "../../../samples/dance/techno/schranz8.ogg"
                    },
                    {
                        artist: "Sutura",
                        track: "The Story In My Brain",
                        path: "../../../samples/dance/techno/schranz9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-techno').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-techno-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-techno"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <link rel="stylesheet" href="../../../css/style.css">
        <title>Detroit Techno</title>
    </head>

    <body id="detroittechno">
        <div class="box techno">
            <h1>DETROIT TECHNO</h1><div class="year year-techno">1985</div>

            <p>Although officially originating from House, Techno already had a slumbering pre-existence before that. In the depressing, cold "motor city" of Detroit, where high unemployment rates gave little reason to celebrate, a select few composers were working with analogue sequencers on another type of Dance music. Something not meant for upper-class euphoric celebration, but as a soundtrack for the lower class of this city of abandoned factories and machine-like rhythm. Based on the blueprint of Funk-influenced Electro, Techno evolved, borrowing the pounding beat from Chicago House into a fast rhythm. Detroit Techno was first and foremost the brainchild of the three legendary Godfathers of Techno, known as the Belleville Three &ndash; Juan Atkins (the "Originator"), Kevin Saunderson (the "Elevator") and Derrick May (the "Innovator"). The Belleville Three were already experimenting with electronic music during the early 80s, building further on the Electro legacy that was already well-established in Detroit. It wasn't after the explosion of Chicago House though, that Techno truly took form as the genre we know.</p>

            <div class="row">
                <div class="col-1"><div class="buttons buttons-techno">1</div></div>
                <div class="col-1"><div class="buttons buttons-techno">2</div></div>
                <div class="col-1"><div class="buttons buttons-techno">3</div></div>
                <div class="col-1"><div class="buttons buttons-techno">4</div></div>
                <div class="col-1"><div class="buttons buttons-techno">5</div></div>
                <div class="col-1"><div class="buttons buttons-techno">6</div></div>
                <div class="col-1"><div class="buttons buttons-techno">7</div></div>
                <div class="col-1"><div class="buttons buttons-techno">8</div></div>
                <div class="col-1"><div class="buttons buttons-techno">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-techno-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Cybotron",
                        track: "Clear",
                        path: "../../../samples/techno/detroittechno1.ogg"
                    },
                    {
                        artist: "Model 500",
                        track: "Technicolor",
                        path: "../../../samples/techno/detroittechno2.ogg"
                    },
                    {
                        artist: "Dopplereffekt",
                        track: "Superior Race",
                        path: "../../../samples/techno/detroittechno3.ogg"
                    },
                    {
                        artist: "Kenny Larkin",
                        track: "Harmonics",
                        path: "../../../samples/techno/detroittechno4.ogg"
                    },
                    {
                        artist: "Carl Craig",
                        track: "Dreamland",
                        path: "../../../samples/techno/detroittechno5.ogg"
                    },
                    {
                        artist: "Rhythim Is Rhythim",
                        track: "Strings Of Life",
                        path: "../../../samples/techno/detroittechno6.ogg"
                    },
                    {
                        artist: "Juan Atkins",
                        track: "Techno Music",
                        path: "../../../samples/techno/detroittechno7.ogg"
                    },
                    {
                        artist: "Octave One",
                        track: "Black Water",
                        path: "../../../samples/techno/detroittechno8.ogg"
                    },
                    {
                        artist: "Inner City",
                        track: "Big Fun",
                        path: "../../../samples/techno/detroittechno9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-techno').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-techno-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-techno"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

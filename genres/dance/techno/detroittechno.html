<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../../css/style.css">
        <title>Detroit Techno</title>
    </head>

    <body class="genre" id="detroittechno">
        <div class="box techno">
            <h1>DETROIT TECHNO</h1>

            <p>Although officially originated from House, Techno already had a slumbering pre-existence before that. In the depressing, cold "motor city" of Detroit, where high unemployment rates gave little reason to celebrate, a select few composers were working with analogue sequencers on another type of Dance music. Something not meant for upper-class euphoric celebration, but as a soundtrack for the lower class of this city of abandoned factories and machine-like rhythm. Based on the blueprint of Funk-influenced Electro, Techno evolved, borrowing the pounding beat from Chicago House into a fast rhythm. Detroit Techno was first and foremost the brainchild of the three legendary Godfathers of Techno, known as the Belleville Three &ndash; Juan Atkins (the "Originator"), Kevin Saunderson (the "Elevator") and Derrick May (the "Innovator"). The Belleville Three were already experimenting with electronic music in 1982, building further on the Electro legacy of Detroit. It wasn't after the explosion of Chicago House though, that Techno truly took form as the genre we know.</p>

            <div class="row icon-list">
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-techno">1</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-techno">2</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-techno">3</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-techno">4</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-techno">5</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-techno">6</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-techno">7</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-techno">8</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-techno">9</div></div>
                <div class="d-lg-none col-lg-1 col-xs-1"><div class="buttons buttons-techno-stop">&FilledSmallSquare;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-lg-block col-md-1 stop"><div class="buttons buttons-techno-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Cybotron",
                        track: "Clear",
                        path: "../../../samples/dance/techno/detroittechno1.ogg"
                    },
                    {
                        artist: "Model 500",
                        track: "Technicolor",
                        path: "../../../samples/dance/techno/detroittechno2.ogg"
                    },
                    {
                        artist: "Dopplereffekt",
                        track: "Superior Race",
                        path: "../../../samples/dance/techno/detroittechno3.ogg"
                    },
                    {
                        artist: "Kenny Larkin",
                        track: "Harmonics",
                        path: "../../../samples/dance/techno/detroittechno4.ogg"
                    },
                    {
                        artist: "Carl Craig",
                        track: "Dreamland",
                        path: "../../../samples/dance/techno/detroittechno5.ogg"
                    },
                    {
                        artist: "Rhythim Is Rhythim",
                        track: "Strings Of Life",
                        path: "../../../samples/dance/techno/detroittechno6.ogg"
                    },
                    {
                        artist: "Juan Atkins",
                        track: "Techno Music",
                        path: "../../../samples/dance/techno/detroittechno7.ogg"
                    },
                    {
                        artist: "Octave One",
                        track: "Black Water",
                        path: "../../../samples/dance/techno/detroittechno8.ogg"
                    },
                    {
                        artist: "Inner City",
                        track: "Big Fun",
                        path: "../../../samples/dance/techno/detroittechno9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-techno').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-techno-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-techno"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

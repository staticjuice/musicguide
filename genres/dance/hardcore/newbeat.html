<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../../css/style.css">
        <title>New Beat</title>
    </head>

    <body class="genre" id="newbeat">
        <div class="box hardcore">
            <h1>NEW BEAT</h1>

            <p>Once upon a time, there was a club in a strange country where they decided to take some brand new and exciting Acid House records, and play them at the lower 33 RPM instead of their intentional 45 RPM. The club was the famous Boccaccio and the country was Belgium &ndash; home to the gloomy and avant-garde EBM. The atmosphere and sounds of EBM matched perfectly the lower tempo of this "New Acid House Beat", forming a gateway between Industrial and Dance and leading eventually to a whole new group of genres. The genre was not dark or depressing though. The sounds were heavy and sluggish, like a crushing giant, but the lyrics were a mix of fun and nonsense. With its rather slow 110 BPM, New Beat formed a comfortable prologue for House/Techno, as the European public wasn't ready yet for American 130 BPM House or Techno. Eventually New Beat became too ridiculous (with opportunistic bands cashing in on a template of mystery and sex), which forced the original composers to flee the scene. But the foundations were already laid for a whole new supergenre that was not born to please the majority &ndash; Hardcore.</p>

            <div class="row icon-list">
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-hardcore">1</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-hardcore">2</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-hardcore">3</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-hardcore">4</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-hardcore">5</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-hardcore">6</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-hardcore">7</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-hardcore">8</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-hardcore">9</div></div>
                <div class="d-block d-md-none col-md-1 col-xs-1"><div class="buttons buttons-hardcore-stop">&#9724;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-md-block col-md-1 stop"><div class="buttons buttons-hardcore-stop">&#9724;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Lords Of Acid",
                        track: "I Sit On Acid",
                        path: "../../../samples/dance/hardcore/newbeat1.ogg"
                    },
                    {
                        artist: "Amnesia",
                        track: "Ibiza",
                        path: "../../../samples/dance/hardcore/newbeat2.ogg"
                    },
                    {
                        artist: "101",
                        track: "Rock To The Beat",
                        path: "../../../samples/dance/hardcore/newbeat3.ogg"
                    },
                    {
                        artist: "The KLF",
                        track: "It's Grim Up North",
                        path: "../../../samples/dance/hardcore/newbeat4.ogg"
                    },
                    {
                        artist: "Dirty Harry",
                        track: "D'Bop",
                        path: "../../../samples/dance/hardcore/newbeat5.ogg"
                    },
                    {
                        artist: "Confetti's",
                        track: "The Sound Of C",
                        path: "../../../samples/dance/hardcore/newbeat6.ogg"
                    },
                    {
                        artist: "Edwards & Armani",
                        track: "La Cosa Nostra",
                        path: "../../../samples/dance/hardcore/newbeat7.ogg"
                    },
                    {
                        artist: "Major Problem",
                        track: "I Still Have A Dream",
                        path: "../../../samples/dance/hardcore/newbeat8.ogg"
                    },
                    {
                        artist: "Nasty Thoughts",
                        track: "Rock The House",
                        path: "../../../samples/dance/hardcore/newbeat9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-hardcore').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-hardcore-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-hardcore"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

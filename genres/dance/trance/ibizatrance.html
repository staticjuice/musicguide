<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../../css/style.css">
        <title>Ibiza Trance</title>
    </head>

    <body class="genre" id="ibizatrance">
        <div class="box trance">
            <h1>IBIZA TRANCE</h1>

            <p>On the warm and lush Balearic Islands, mainly Ibiza, lots of DJs found an ideal party heaven, far away from dirty cities and oppressing governments. But Ibiza did not become popular in the 90s to party &ndash; the island was a refuge for thousands and thousands of worn-out ravers, tired of a music scene spun out of control and too much drug abuse. Alongside the migration of gays, artists and social outcasts to this asylum, these ravers sought a musical healing treatment for after-rave symptoms and withdrawals, which would ideally be a Downtempo fusion of soft House and Trance. Another result was similar but slightly more energetic, with less complex melodies and added vocals, like an ambient version of Eurodance. This was called Balearic Beat, which isn't much different than Ibiza Trance. Balearic Beat builds further on the local genre of the 80s &ndash; a summer-infused, ambient type of Eurodisco. Sometimes exotic samples such as Spanish guitars or bandoneons are added, which makes Ibiza even more a sanctuary to forget all troubles &ndash; a concept to which the famous Amnesia club owed its name.</p>

            <div class="row icon-list">
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-trance">1</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-trance">2</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-trance">3</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-trance">4</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-trance">5</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-trance">6</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-trance">7</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-trance">8</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-trance">9</div></div>
                <div class="d-block d-lg-none col-lg-1 col-xs-1"><div class="buttons buttons-trance-stop">&FilledSmallSquare;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-lg-block col-md-1 stop"><div class="buttons buttons-trance-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Chicane",
                        track: "Offshore",
                        path: "../../../samples/dance/trance/ibizatrance1.ogg"
                    },
                    {
                        artist: "Miro",
                        track: "Paradise",
                        path: "../../../samples/dance/trance/ibizatrance2.ogg"
                    },
                    {
                        artist: "Solar Stone",
                        track: "Seven Cities",
                        path: "../../../samples/dance/trance/ibizatrance3.ogg"
                    },
                    {
                        artist: "ATB",
                        track: "Underwater World",
                        path: "../../../samples/dance/trance/ibizatrance4.ogg"
                    },
                    {
                        artist: "Nalin & Kane",
                        track: "Beachball",
                        path: "../../../samples/dance/trance/ibizatrance5.ogg"
                    },
                    {
                        artist: "Jam & Spoon",
                        track: "Stella",
                        path: "../../../samples/dance/trance/ibizatrance6.ogg"
                    },
                    {
                        artist: "Gouryella",
                        track: "Gouryella",
                        path: "../../../samples/dance/trance/ibizatrance7.ogg"
                    },
                    {
                        artist: "Global Experience",
                        track: "Zanzibar",
                        path: "../../../samples/dance/trance/ibizatrance8.ogg"
                    },
                    {
                        artist: "Energy 52",
                        track: "CafÃ© Del Mar (Three N One Mix)",
                        path: "../../../samples/dance/trance/ibizatrance9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-trance').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-trance-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-trance"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

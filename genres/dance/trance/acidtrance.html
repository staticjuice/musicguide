<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../../css/style.css">
        <title>Acid Trance</title>
    </head>

    <body class="genre" id="acidtrance">
        <div class="box trance">
            <h1>ACID TRANCE</h1>

            <p>In the centre of the great electronic Dance storm of the late 80s and early 90s, House music started to take on many forms. As both Techno and Ambient music had their influence on Eurodance, a whirlwind of subgenres confused many music enthusiasts. It is within this surge of styles that the earliest evolutions of Trance can also be found. Like House and Techno, Trance features a strong four-to-the-floor kick beat and a similar bassline but unlike both of them, synthesizer melodies absolutely dominate any other part of the music. Usually there is more than one melody, strongly intertwined with the synth bassline, hereby creating a layered structure. To facilitate the hypnotic, entrancing effect of the music, the beat and rhythm are highly repetitive, with as little variation as possible. The earliest forms of Trance started in Germany, where House/Techno DJs created the plainest, purest Trance style. Acid Trance is a highly varied genre and difficult to outline, but its identity lies in sheer simplicity, serenity and harmony &ndash; Acid Trance searches for an enlightened state of consciousness without forcing itself onto the listener.</p>

            <div class="row icon-list">
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-trance">1</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-trance">2</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-trance">3</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-trance">4</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-trance">5</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-trance">6</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-trance">7</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-trance">8</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-trance">9</div></div>
                <div class="d-block d-lg-none col-md-1 col-xs-1"><div class="buttons buttons-trance-stop">&FilledSmallSquare;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-lg-block col-md-1 stop"><div class="buttons buttons-trance-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Age Of Love",
                        track: "Age Of Love",
                        path: "../../../samples/dance/trance/acidtrance1.ogg"
                    },
                    {
                        artist: "Hardfloor",
                        track: "Acperience",
                        path: "../../../samples/dance/trance/acidtrance2.ogg"
                    },
                    {
                        artist: "Commander Tom",
                        track: "The Vulcan",
                        path: "../../../samples/dance/trance/acidtrance3.ogg"
                    },
                    {
                        artist: "Union Jack",
                        track: "Red Herring",
                        path: "../../../samples/dance/trance/acidtrance4.ogg"
                    },
                    {
                        artist: "Awex",
                        track: "It's Our Future",
                        path: "../../../samples/dance/trance/acidtrance5.ogg"
                    },
                    {
                        artist: "Emmanuel Top",
                        track: "Acid Phase",
                        path: "../../../samples/dance/trance/acidtrance6.ogg"
                    },
                    {
                        artist: "Balil",
                        track: "Parasight",
                        path: "../../../samples/dance/trance/acidtrance7.ogg"
                    },
                    {
                        artist: "Spicelab",
                        track: "Amorph",
                        path: "../../../samples/dance/trance/acidtrance8.ogg"
                    },
                    {
                        artist: "Underworld",
                        track: "Thing In A Book",
                        path: "../../../samples/dance/trance/acidtrance9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-trance').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-trance-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-trance"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

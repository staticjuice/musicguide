<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Psychedelic Trance</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../../css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,900" rel="stylesheet">
</head>
  
<body class="genre psychedelictrance">
    <div id="box-trance">
        <h1>PSYCHEDELIC TRANCE</h1><br>
            
        Goa Trance and Psytrance, two technically different but very similar genres, started off early and slowly in the province of Goa, India. Here, spiritual refugee hippies sought new forms of psychedelic music as Psychdedelic Rock was no longer hip. When Trance was invented, it quickly became the preferred music of choice, lending itself perfectly to accompany hallucinogenic drug experiences. Almost every element of Goa Trance is based on hallucinogenic drugs and trip experiences, particularly magic mushrooms, LSD, salvia divinorum and DMT. But Goa was not just a refuge &ndash; it was the destination of a long and adventurous hippie trail, starting in Ibiza, towards Marrakech, then the Middle East, across Asia to Kathmandu and then finally India. With all these influences, Goa Trance rapidly transformed into the most complex, multi-layered dance music ever invented &ndash; a tsunami of psychedelic sound effects, intricate melodies, and hyperclean, punctuated kick beats. Goa often uses more simultaneous tracks than any other music genre &ndash; it is the perfect soundtrack for a lightning-speed transcendental journey into the unconscious mind.<br><br>

        <div class="row icon-list">
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-trance">1</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-trance">2</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-trance">3</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-trance">4</div>
            </div>
                
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-trance">5</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-trance">6</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-trance">7</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-trance">8</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-trance">9</div>
            </div>

            <div class="visible-xs col-xs-1">
                <div class="buttons-trance-stop">&#9724;</div>
            </div>
        </div>

        <div class="example"><br>
            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p> 
        </div>

        <div class="hidden-xs col-sm-1 stop">
            <div class="buttons-trance-stop">&#9724;</div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
    <script>
        $(document).ready(function() {

            
            var tracks = [
                {
                    artist: "Koxbox",
                    track: "Geomancer 2004",
                    path: "../../../samples/dance/trance/psychedelictrance1.ogg"
                },
                {
                    artist: "Penta",
                    track: "Time Jump",
                    path: "../../../samples/dance/trance/psychedelictrance2.ogg"
                },
                {
                    artist: "Astral Projection",
                    track: "Mahadeva",
                    path: "../../../samples/dance/trance/psychedelictrance3.ogg"
                },
                {
                    artist: "Shakta",
                    track: "Lepton Head (Deedrah Remix)",
                    path: "../../../samples/dance/trance/psychedelictrance4.ogg"
                },
                {
                    artist: "Earthling",
                    track: "Star Bus",
                    path: "../../../samples/dance/trance/psychedelictrance5.ogg"
                },
                {
                    artist: "Kindzadza",
                    track: "Keep It Clean",
                    path: "../../../samples/dance/trance/psychedelictrance6.ogg"
                },
                {
                    artist: "Infected Mushroom",
                    track: "Acid Killer",
                    path: "../../../samples/dance/trance/psychedelictrance7.ogg"
                },
                {
                    artist: "Filteria",
                    track: "Dog Days Bliss",
                    path: "../../../samples/dance/trance/psychedelictrance8.ogg"
                },
                {
                    artist: "1200 Micrograms",
                    track: "Marijuana",
                    path: "../../../samples/dance/trance/psychedelictrance9.ogg"
                }
            ]

            tracks.forEach(track => {
                const audio = new Audio()
                audio.addEventListener('canplaythrough', null, false)
                audio.src = track.path
            })

            var artistSpan = $(document).find('#artist')[0]

            var track = $(document).find('#track')[0]

            var audioInstanceArray = [];

            var buttons = [];

            var audioInstance;

            $(document).find('.buttons-trance').each(function(index, button) {

                buttons.push(button);
                
                $(this).click(function() {

                    removeAllButtonBorders()

                    $(this).toggleClass('clicked');
                
                    stopAllMusic()

                    audioInstance = new Audio(tracks[index].path);
                    audioInstanceArray.push(audioInstance);
                    audioInstance.play();

                    artistSpan.innerHTML = tracks[index].artist
                    track.innerHTML = tracks[index].track

                });
            });

            $('.buttons-trance-stop').on('click', function() {

                stopAllMusic()

                artistSpan.innerHTML = ''
                track.innerHTML = ''

                removeAllButtonBorders()

            });

            var removeAllButtonBorders = () => {
                buttons.forEach(
                    button => button.className = "buttons-trance"
                )
            }

            var stopAllMusic = () => {
                 audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
            }

        });

    </script>

</body>
</html>
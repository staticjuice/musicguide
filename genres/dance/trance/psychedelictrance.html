<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="../../../css/bootstrap.css">
        <link rel="stylesheet" href="../../../css/style.css">
        <title>Psychedelic Trance</title>
    </head>

    <body class="genre" id="psychedelictrance">
        <div class="box trance">
            <h1>PSYCHEDELIC TRANCE</h1>

            <p>Goa Trance and Psytrance, two technically different but very similar genres, started early and slowly in the province of Goa, India. Here, spiritual refugee hippies sought new forms of psychedelic music as Psychedelic Rock was no longer hip. When Trance was invented, it quickly became the preferred music of choice, lending itself perfectly to accompany hallucinogenic drug experiences. Almost every element of Goa Trance is based on hallucinogenic drugs and trip experiences, particularly magic mushrooms, LSD, salvia divinorum and DMT. But Goa was not just a refuge &ndash; it was the destination of a long and adventurous hippie trail, starting in Ibiza, towards Marrakech, then the Middle East, across Asia to Kathmandu and then finally India. With all these influences, Goa Trance rapidly transformed into the most complex, multi-layered dance music ever invented &ndash; a tsunami of psychedelic sound effects, intricate melodies, and hyperclean, punctuated kick beats. Goa often uses more simultaneous tracks than any other music genre &ndash; it is the perfect soundtrack for a lightning-speed transcendental journey into the unconscious mind.</p>

            <div class="row icon-list">
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-trance">1</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-trance">2</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-trance">3</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-trance">4</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-trance">5</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-trance">6</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-trance">7</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-trance">8</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-trance">9</div></div>
                <div class="d-lg-none col-lg-1 col-xs-1"><div class="buttons buttons-trance-stop">&FilledSmallSquare;</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="d-none d-lg-block col-md-1 stop"><div class="buttons buttons-trance-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Earthling",
                        track: "Star Bus",
                        path: "../../../samples/trance/psychedelictrance1.ogg"
                    },
                    {
                        artist: "Penta",
                        track: "Time Jump",
                        path: "../../../samples/trance/psychedelictrance2.ogg"
                    },
                    {
                        artist: "GMS vs Alien Project",
                        track: "One Good",
                        path: "../../../samples/trance/psychedelictrance3.ogg"
                    },
                    {
                        artist: "Astral Projection",
                        track: "Mahadeva",
                        path: "../../../samples/trance/psychedelictrance4.ogg"
                    },
                    {
                        artist: "Shakta",
                        track: "Lepton Head (Deedrah Remix)",
                        path: "../../../samples/trance/psychedelictrance5.ogg"
                    },
                    {
                        artist: "Koxbox",
                        track: "Geomancer 2004",
                        path: "../../../samples/trance/psychedelictrance6.ogg"
                    },
                    {
                        artist: "Kindzadza",
                        track: "Kindzadza",
                        path: "../../../samples/trance/psychedelictrance7.ogg"
                    },
                    {
                        artist: "Infected Mushroom",
                        track: "Acid Killer",
                        path: "../../../samples/trance/psychedelictrance8.ogg"
                    },
                    {
                        artist: "1200 Micrograms",
                        track: "Marijuana",
                        path: "../../../samples/trance/psychedelictrance9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-trance').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-trance-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-trance"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

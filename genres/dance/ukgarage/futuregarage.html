<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <link rel="stylesheet" href="../../../css/style.css">
        <title>Future Garage</title>
    </head>

    <body id="futuregarage">
        <div class="box ukgarage">
            <h1>FUTURE GARAGE</h1><div class="year year-ukgarage">2006</div>

            <p>After the rise of Dubstep, some artists wanted to take Dubstep back to its original UK Garage roots, away from the influx of the overused wobble sound and extremely heavy production. This resulted in a deep but much more melodic sound, often employing many off-kilter rhythmic production styles. Characteristic of Future Garage is the use of pitched vocal chops, warm filtered Reese basses, dark atmospheres (including synth pads, field recordings and other atmospheric sounds). Future Garage also likes to make frequent use of foley sounds such as glass shattering and vinyl crackle to deliver an overall rich texture to the percussion. The tempo usually ranges from 130 to 140 BPM, but can also be slower or faster. The overall vibe of Future Garage tracks tend to be very dreamy and melancholic, often giving off a sense of loneliness but in a beautiful way. After the rise of Future Bass, many artists have produced music that sounds in-between Future Garage and Future Bass. The overall sound from this combination results in a sound that is much more upbeat, yet still melancholic with a laidback feel.</p>

            <div class="row">
                <div class="col-1"><div class="buttons buttons-ukgarage">1</div></div>
                <div class="col-1"><div class="buttons buttons-ukgarage">2</div></div>
                <div class="col-1"><div class="buttons buttons-ukgarage">3</div></div>
                <div class="col-1"><div class="buttons buttons-ukgarage">4</div></div>
                <div class="col-1"><div class="buttons buttons-ukgarage">5</div></div>
                <div class="col-1"><div class="buttons buttons-ukgarage">6</div></div>
                <div class="col-1"><div class="buttons buttons-ukgarage">7</div></div>
                <div class="col-1"><div class="buttons buttons-ukgarage">8</div></div>
                <div class="col-1"><div class="buttons buttons-ukgarage">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-ukgarage-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Burial",
                        track: "Archangel",
                        path: "../../../samples/ukgarage/futuregarage1.ogg"
                    },
                    {
                        artist: "Sorrow feat. CoMa",
                        track: "Dreamstone",
                        path: "../../../samples/ukgarage/futuregarage2.ogg"
                    },
                    {
                        artist: "Fractal",
                        track: "Mountain Hunter",
                        path: "../../../samples/ukgarage/futuregarage3.ogg"
                    },
                    {
                        artist: "KOAN Sound & Asa",
                        track: "Hesitation",
                        path: "../../../samples/ukgarage/futuregarage4.ogg"
                    },
                    {
                        artist: "Snow Dayy",
                        track: "The Tunnel (Said The Sky Remix)",
                        path: "../../../samples/ukgarage/futuregarage5.ogg"
                    },
                    {
                        artist: "Soular Order",
                        track: "Movements",
                        path: "../../../samples/ukgarage/futuregarage6.ogg"
                    },
                    {
                        artist: "Fracture Design",
                        track: "Goodbye Kiss",
                        path: "../../../samples/ukgarage/futuregarage7.ogg"
                    },
                    {
                        artist: "Vacant",
                        track: "Serenity",
                        path: "../../../samples/ukgarage/futuregarage8.ogg"
                    },
                    {
                        artist: "Vacant",
                        track: "Desolate",
                        path: "../../../samples/ukgarage/futuregarage9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-ukgarage').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-ukgarage-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-ukgarage"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

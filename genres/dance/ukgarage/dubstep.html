<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../../css/style.css">
        <title>Dubstep</title>
    </head>

    <body class="genre" id="dubstep">
        <div class="box ukgarage">
            <h1>DUBSTEP</h1>

            <p>Dubstep can be described as the only true innovative Dance genre since 2000 (alongside Grime), and is sometimes even labeled as a supergenre on its own. After all, it's hard to categorize, being a mixture of Breakbeat, Drum &amp; Bass and Jamaican Dub music. Just like Dub, Dubstep started out as instrumental B-sides, only Grime ones instead of Reggae. Early or True Dubstep is recognizable by an eerie, ambient soundscape, heavily influenced by Dub, which it lost over the years in subsequent subgenres. To fully appreciate Dubstep, a decent subwoofer or club sound system is vital, as frequencies tend to drop even below Drum &amp; Bass. These LFO-subsonic basslines are often re-oscillated, creating the stereotypical Dubstep "wobbly bass", which got transferred to other music genres afterwards. Dubstep has a steady drum rhythm (kick-snare-kick-snare) stretched far apart, and thus leaving lots of listening room, while also making Dubstep appear slower than its actual tempo (140 BPM). Dubstep eventually led to an abundance of crossovers, subgenres and a more commercial approach &ndash; enter Post-Dubstep.</p>

            <div class="row icon-list">
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-ukgarage">1</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-ukgarage">2</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-ukgarage">3</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-ukgarage">4</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-ukgarage">5</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-ukgarage">6</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-ukgarage">7</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-ukgarage">8</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-ukgarage">9</div></div>
                <div class="d-block d-md-none col-md-1 col-xs-1"><div class="buttons buttons-ukgarage-stop">&#9724;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-md-block col-md-1 stop"><div class="buttons buttons-ukgarage-stop">&#9724;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Icicle",
                        track: "Xylophobia",
                        path: "../../../samples/dance/ukgarage/dubstep1.ogg"
                    },
                    {
                        artist: "Skream",
                        track: "Hedd Banger",
                        path: "../../../samples/dance/ukgarage/dubstep2.ogg"
                    },
                    {
                        artist: "16bit",
                        track: "Boston Cream",
                        path: "../../../samples/dance/ukgarage/dubstep3.ogg"
                    },
                    {
                        artist: "Excision & Datsik",
                        track: "Swagga",
                        path: "../../../samples/dance/ukgarage/dubstep4.ogg"
                    },
                    {
                        artist: "Nero",
                        track: "Innocence",
                        path: "../../../samples/dance/ukgarage/dubstep5.ogg"
                    },
                    {
                        artist: "Flux Pavilion",
                        track: "Hold Me Close",
                        path: "../../../samples/dance/ukgarage/dubstep6.ogg"
                    },
                    {
                        artist: "Modestep",
                        track: "Sunlight (Torqux & Twist Remix)",
                        path: "../../../samples/dance/ukgarage/dubstep7.ogg"
                    },
                    {
                        artist: "Skrillex",
                        track: "Scary Monsters And Nice Sprites",
                        path: "../../../samples/dance/ukgarage/dubstep8.ogg"
                    },
                    {
                        artist: "Zomboy",
                        track: "Immunity",
                        path: "../../../samples/dance/ukgarage/dubstep9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-ukgarage').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-ukgarage-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-ukgarage"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Brostep</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../../css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,900" rel="stylesheet">
</head>
  
<body class="genre brostep">
    <div id="box-ukgarage">
        <h1>BROSTEP</h1><br>
            
        In early Dubstep, beat drops were accentuated by the stretched drum pattern. Over the course of time, these drops became more and more important, with long build-ups running up to them. Artists even held races to see who could create “the biggest drop”. Ambient soundscapes also got replaced by hooks providing catchy melodic themes. When finally mid-frequency rifflike synth lines get introduced in the subgenre, Dubstep becomes accepted by the masses in the US and a versatile template on which just about any song can get remixed. This sparked a huge wave of revulsion between the early Dubstep producers/fans and the new Dubstep fans. Dubstep breaks loose out of its UK underground environment and spreads like a virus to other contemporary genres also eager to cross over. A whole array of subgenres appears on the stage, but most importantly is the merging with Drum &amp; Bass. Hereby, Dubstep reinvigorated the super-genre and united both subcultures in the form of Drumstep. Apart from alternating between Jump-Up’s rolling and Dubstep’s chopped breakbeats, Drumstep is composed in half-time rhythm.<br><br>

        <div class="row icon-list">
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-ukgarage">1</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-ukgarage">2</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-ukgarage">3</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-ukgarage">4</div>
            </div>
                
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-ukgarage">5</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-ukgarage">6</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-ukgarage">7</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-ukgarage">8</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-ukgarage">9</div>
            </div>

            <div class="visible-xs col-xs-1">
                <div class="buttons-ukgarage-stop">&#9724;</div>
            </div>
        </div>

        <div class="example"><br>
            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p> 
        </div>

        <div class="hidden-xs col-sm-1 stop">
            <div class="buttons-ukgarage-stop">&#9724;</div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
    <script>
        $(document).ready(function() {

            
            var tracks = [
                {
                    artist: "Skrillex feat. Ragga Twins",
                    track: "All Is Fair In Love And Brostep",
                    path: "../../../samples/dance/ukgarage/brostep1.ogg"
                },
                {
                    artist: "Barely Alive & Datsik",
                    track: "Candy Kids (Diamond Eyes Remix)",
                    path: "../../../samples/dance/ukgarage/brostep2.ogg"
                },
                {
                    artist: "Zomboy",
                    track: "Immunity",
                    path: "../../../samples/dance/ukgarage/brostep3.ogg"
                },
                {
                    artist: "Barely Alive",
                    track: "Dead Link",
                    path: "../../../samples/dance/ukgarage/brostep4.ogg"
                },
                {
                    artist: "Pegboard Nerds",
                    track: "Here It Comes",
                    path: "../../../samples/dance/ukgarage/brostep5.ogg"
                },
                {
                    artist: "Kill The Noise feat. Stalking Gia",
                    track: "Without A Trace (Kill The Noise & Virtual Riot Remix)",
                    path: "../../../samples/dance/ukgarage/brostep6.ogg"
                },
                {
                    artist: "Space Laces",
                    track: "Digital Gangsta",
                    path: "../../../samples/dance/ukgarage/brostep7.ogg"
                },
                {
                    artist: "Modestep feat. Popeska",
                    track: "Another Day (xKore Remix)",
                    path: "../../../samples/dance/ukgarage/brostep8.ogg"
                },
                {
                    artist: "Slander & Yookie feat. Jinzo",
                    track: "After All (Xilent Remix)",
                    path: "../../../samples/dance/ukgarage/brostep9.ogg"
                }
            ]

            tracks.forEach(track => {
                const audio = new Audio()
                audio.addEventListener('canplaythrough', null, false)
                audio.src = track.path
            })

            var artistSpan = $(document).find('#artist')[0]

            var track = $(document).find('#track')[0]

            var audioInstanceArray = [];

            var buttons = [];

            var audioInstance;

            $(document).find('.buttons-ukgarage').each(function(index, button) {

                buttons.push(button);
                
                $(this).click(function() {

                    removeAllButtonBorders()

                    $(this).toggleClass('clicked');
                
                    stopAllMusic()

                    audioInstance = new Audio(tracks[index].path);
                    audioInstanceArray.push(audioInstance);
                    audioInstance.play();

                    artistSpan.innerHTML = tracks[index].artist
                    track.innerHTML = tracks[index].track

                });
            });

            $('.buttons-ukgarage-stop').on('click', function() {

                stopAllMusic()

                artistSpan.innerHTML = ''
                track.innerHTML = ''

                removeAllButtonBorders()

            });

            var removeAllButtonBorders = () => {
                buttons.forEach(
                    button => button.className = "buttons-ukgarage"
                )
            }

            var stopAllMusic = () => {
                 audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
            }

        });

    </script>

</body>
</html>
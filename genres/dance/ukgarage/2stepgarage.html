<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../../css/style.css">
        <title>2-Step Garage</title>
    </head>

    <body class="genre" id="twostepgarage">
        <div class="box ukgarage">
            <h1>2-STEP GARAGE</h1>

            <p>Drum &amp; Bass was hip because it was underground and brand new. The problem was that it sounded too heavy and hardcore for the masses and that it detracted too many women from going to the clubs. By merging Garage House with Jungle and adding sampled Soul vocals, a smooth, textured music was being created that had little in common with regular Drum &amp; Bass. This was fancy Breakbeat. Fast, but gentle, bass-driven but with a subtle timbre. The first form of UK Garage was a rapid type of syncopated Garage House, known as Speed Garage. Speed Garageâ€™s abundant percussion and heavy bass made the influences from Garage House barely noticeable and thus was still not good enough to attract a large female crowd. Speed Garage became influenced by Ragga and Drum &amp; Bass which altered its time signature in two beats per bar instead of four, which is known as <q>2-Step</q>. Despite these influences, 2-Step Garage abandoned bass in favour of sharp but soft treble and returned the sound of Garage House with a touch of R&amp;B. Ultimately this marked the start of a large music family that led to Dubstep and UK Bass.</p>

            <div class="row icon-list">
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-ukgarage">1</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-ukgarage">2</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-ukgarage">3</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-ukgarage">4</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-ukgarage">5</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-ukgarage">6</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-ukgarage">7</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-ukgarage">8</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-ukgarage">9</div></div>
                <div class="d-block d-md-none col-md-1 col-xs-1"><div class="buttons buttons-ukgarage-stop">&#9724;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-md-block col-md-1 stop"><div class="buttons buttons-ukgarage-stop">&#9724;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Artful Dodger feat. Craig David",
                        track: "Re-Rewind",
                        path: "../../../samples/dance/ukgarage/2stepgarage1.ogg"
                    },
                    {
                        artist: "Gabrielle",
                        track: "Sunshine (Wookie Main Mix)",
                        path: "../../../samples/dance/ukgarage/2stepgarage2.ogg"
                    },
                    {
                        artist: "MJ Cole",
                        track: "Sincere",
                        path: "../../../samples/dance/ukgarage/2stepgarage3.ogg"
                    },
                    {
                        artist: "The Streets",
                        track: "Has It Come To This?",
                        path: "../../../samples/dance/ukgarage/2stepgarage4.ogg"
                    },
                    {
                        artist: "Joy Orbison",
                        track: "Hyph Mngo",
                        path: "../../../samples/dance/ukgarage/2stepgarage5.ogg"
                    },
                    {
                        artist: "Neneh Cherry",
                        track: "Buddy X '99 (Dreem House Edit)",
                        path: "../../../samples/dance/ukgarage/2stepgarage6.ogg"
                    },
                    {
                        artist: "Stephen Emmanuel Presents Colours",
                        track: "Hold On (SE22 Mix)",
                        path: "../../../samples/dance/ukgarage/2stepgarage7.ogg"
                    },
                    {
                        artist: "Dem 2",
                        track: "Destiny",
                        path: "../../../samples/dance/ukgarage/2stepgarage8.ogg"
                    },
                    {
                        artist: "Sunship",
                        track: "Try Me Out",
                        path: "../../../samples/dance/ukgarage/2stepgarage9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-ukgarage').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-ukgarage-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-ukgarage"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

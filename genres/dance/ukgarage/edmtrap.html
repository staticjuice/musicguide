<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="../../../css/bootstrap.css">
        <link rel="stylesheet" href="../../../css/style.css">
        <title>EDM Trap</title>
    </head>

    <body id="edmtrap">
        <div class="box ukgarage">
            <h1>EDM TRAP</h1><div class="year year-ukgarage">2012</div>

            <p>Shortly after the rise of Dubstep, a new Trap movement takes place, crossing so much over into Dance music that there is barely anything Hip Hop left. This new type of Trap proves so successful that a new, instrumental EDM genre emerges. Due to having the same name, it can be hard to separate the original Hip Hop version and the newer EDM one. The difference between these two "traps" is large though. EDM Trap uses only electronic sounds, no turntables, and it has no rap lyrics or samples. EDM Trap is dancefloor DJ music, not Hip Hop music. Due to the absence of lyrics, EDM Trap focuses a lot more on the drop &ndash; the energy is strongly tangible in the build-up, which is often prolonged. The drop itself is as climatic as possible and consists of very deep synth basslines. It's striking that once again Hip Hop culture reinvigorates Dance music with a whole new style. Trap becomes so popular that it merges with other genres that were already focused around the drop. All these syncopated "drop genres" have become one big melting pot during the 2010s, making the musical future of EDM even harder to predict.</p>

            <div class="row">
                <div class="col-1"><div class="buttons buttons-ukgarage">1</div></div>
                <div class="col-1"><div class="buttons buttons-ukgarage">2</div></div>
                <div class="col-1"><div class="buttons buttons-ukgarage">3</div></div>
                <div class="col-1"><div class="buttons buttons-ukgarage">4</div></div>
                <div class="col-1"><div class="buttons buttons-ukgarage">5</div></div>
                <div class="col-1"><div class="buttons buttons-ukgarage">6</div></div>
                <div class="col-1"><div class="buttons buttons-ukgarage">7</div></div>
                <div class="col-1"><div class="buttons buttons-ukgarage">8</div></div>
                <div class="col-1"><div class="buttons buttons-ukgarage">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-ukgarage-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Baauer",
                        track: "Harlem Shake",
                        path: "../../../samples/ukgarage/edmtrap1.ogg"
                    },
                    {
                        artist: "Aero Chord",
                        track: "Surface",
                        path: "../../../samples/ukgarage/edmtrap2.ogg"
                    },
                    {
                        artist: "Gent & Jawns",
                        track: "Turn Up",
                        path: "../../../samples/ukgarage/edmtrap3.ogg"
                    },
                    {
                        artist: "Diskord",
                        track: "Freak",
                        path: "../../../samples/ukgarage/edmtrap4.ogg"
                    },
                    {
                        artist: "Buku",
                        track: "Fullagold",
                        path: "../../../samples/ukgarage/edmtrap5.ogg"
                    },
                    {
                        artist: "Keys N Krates",
                        track: "Dum Dee Dum",
                        path: "../../../samples/ukgarage/edmtrap6.ogg"
                    },
                    {
                        artist: "Boombox Cartel",
                        track: "Phoenix (Candyland Remix)",
                        path: "../../../samples/ukgarage/edmtrap7.ogg"
                    },
                    {
                        artist: "NGHTMRE",
                        track: "Street",
                        path: "../../../samples/ukgarage/edmtrap8.ogg"
                    },
                    {
                        artist: "TroyBoi",
                        track: "Do You?",
                        path: "../../../samples/ukgarage/edmtrap9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-ukgarage').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-ukgarage-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-ukgarage"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

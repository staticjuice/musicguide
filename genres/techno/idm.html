<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>IDM</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,900" rel="stylesheet">
</head>
  
<body class="genre idm">
    <div id="box-techno">
        <h1>IDM</h1><br>
            
        The term “Intelligent Dance Music” or IDM is despised by both its practitioners as its opponents. This makes sense, as what exactly does make music intelligent? There certainly never was any intention to do so. Early IDM composers just wanted to create Techno music with analog instruments and samples. The songs have a complicated, unexpected structure and are compiled of a variety of analog effects, acid bleeps, washes, breaks and scratches. There’s often more than one bassline, as deep as possible. IDM is sometimes hard to separate from more experimental forms of Breakbeat, because the classic four-to-the-floor Techno beat is often abandoned. After the rise of Jungle, IDM starts to use Drum &amp; Bass rhythms as well, which makes the genre almost impossible to categorize within a single supergenre. IDM can also be regarded as one with Ambient Techno, as they share a great deal of overlapping. Like Rave, IDM was born in a series of illegal parties across the UK, but where they preferred the opposite type of music. At first the music was rather minimal and less experimental and called Bleep Techno.<br><br>

        <div class="row icon-list">
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-techno">1</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-techno">2</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-techno">3</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-techno">4</div>
            </div>
                
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-techno">5</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-techno">6</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-techno">7</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-techno">8</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-techno">9</div>
            </div>

            <div class="visible-xs col-xs-1">
                <div class="buttons-techno-stop">&#9724;</div>
            </div>
        </div>

        <div class="example"><br>
            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p> 
        </div>

        <div class="hidden-xs col-sm-1 stop">
            <div class="buttons-techno-stop">&#9724;</div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
    <script>
        $(document).ready(function() {

            
            var tracks = [
                {
                    artist: "Autechre",
                    track: "AcroyearII",
                    path: "../../samples/techno/idm1.ogg"
                },
                {
                    artist: "The Black Dog",
                    track: "Nommo",
                    path: "../../samples/techno/idm2.ogg"
                },
                {
                    artist: "Plastikman",
                    track: "Consumed",
                    path: "../../samples/techno/idm3.ogg"
                },
                {
                    artist: "Aphex Twin",
                    track: "Xtal",
                    path: "../../samples/techno/idm4.ogg"
                },
                {
                    artist: "Ochre",
                    track: "Infotain Me",
                    path: "../../samples/techno/idm5.ogg"
                },
                {
                    artist: "Amon Tobin",
                    track: "Journeyman",
                    path: "../../samples/techno/idm6.ogg"
                },
                {
                    artist: "Tricky Disco",
                    track: "Tricky Disco (Plone Mix)",
                    path: "../../samples/techno/idm7.ogg"
                },
                {
                    artist: "Hrvatski",
                    track: "Insect Digestion Melancholy",
                    path: "../../samples/techno/idm8.ogg"
                },
                {
                    artist: "Mouse On Mars",
                    track: "Tux & Damask",
                    path: "../../samples/techno/idm9.ogg"
                }
            ]

            tracks.forEach(track => {
                const audio = new Audio()
                audio.addEventListener('canplaythrough', null, false)
                audio.src = track.path
            })

            var artistSpan = $(document).find('#artist')[0]

            var track = $(document).find('#track')[0]

            var audioInstanceArray = [];

            var buttons = [];

            var audioInstance;

            $(document).find('.buttons-techno').each(function(index, button) {

                buttons.push(button);
                
                $(this).click(function() {

                    removeAllButtonBorders()

                    $(this).toggleClass('clicked');
                
                    stopAllMusic()

                    audioInstance = new Audio(tracks[index].path);
                    audioInstanceArray.push(audioInstance);
                    audioInstance.play();

                    artistSpan.innerHTML = tracks[index].artist
                    track.innerHTML = tracks[index].track

                });
            });

            $('.buttons-techno-stop').on('click', function() {

                stopAllMusic()

                artistSpan.innerHTML = ''
                track.innerHTML = ''

                removeAllButtonBorders()

            });

            var removeAllButtonBorders = () => {
                buttons.forEach(
                    button => button.className = "buttons-techno"
                )
            }

            var stopAllMusic = () => {
                 audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
            }

        });

    </script>

</body>
</html>
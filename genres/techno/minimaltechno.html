<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="../../css/bootstrap.css">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Minimal Techno</title>
    </head>

    <body id="minimaltechno">
        <div class="box techno">
            <h1>MINIMAL TECHNO</h1>

            <p>In the early 90s, Techno was being contaminated by the things it defies most &ndash; melody, eclecticism and noise. Minimal Techno was their resort and the genre is exactly what you would expect &ndash; a simple 4/4 electronic kick beat, enhanced by rhythmical electronic sounds with barely anything more. Some authors even claim that Minimal Techno "is defined by what it denies itself". Minimal Techno focuses more on slow and steady progression and therefore can have much longer songs than regular Techno. Since all kind of melody is removed, it may be perceived as dark and menacing, a trait that sometimes gets enhanced in its sound manipulation. But because of its purity and simplicity, its appeal and sound are timeless, withstanding any change or revolution in the world of EDM since its birth. And this is exactly why many Techno fans adore Minimal &ndash; due to its purism it is furthest removed from House, Trance and Hardcore &ndash; the paragon of Techno. Two smaller Techno subgenres are closely related to Minimal Techno &ndash; Dub Techno, which features influences from Dub, and Gloomcore, a darker form of Minimal Techno.</p>

            <div class="row icon-list">
                <div class="col-1"><div class="buttons buttons-techno">1</div></div>
                <div class="col-1"><div class="buttons buttons-techno">2</div></div>
                <div class="col-1"><div class="buttons buttons-techno">3</div></div>
                <div class="col-1"><div class="buttons buttons-techno">4</div></div>
                <div class="col-1"><div class="buttons buttons-techno">5</div></div>
                <div class="col-1"><div class="buttons buttons-techno">6</div></div>
                <div class="col-1"><div class="buttons buttons-techno">7</div></div>
                <div class="col-1"><div class="buttons buttons-techno">8</div></div>
                <div class="col-1"><div class="buttons buttons-techno">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-techno-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Mike Ink",
                        track: "Orange",
                        path: "../../samples/techno/minimaltechno1.ogg"
                    },
                    {
                        artist: "Safety Scissors",
                        track: "Fridgelife",
                        path: "../../samples/techno/minimaltechno2.ogg"
                    },
                    {
                        artist: "Subjected",
                        track: "Concept 3",
                        path: "../../samples/techno/minimaltechno3.ogg"
                    },
                    {
                        artist: "Green Velvet",
                        track: "Flash",
                        path: "../../samples/techno/minimaltechno4.ogg"
                    },
                    {
                        artist: "Teenage Mutants",
                        track: "Future",
                        path: "../../samples/techno/minimaltechno5.ogg"
                    },
                    {
                        artist: "Maxie Devine",
                        track: "Express 90",
                        path: "../../samples/techno/minimaltechno6.ogg"
                    },
                    {
                        artist: "Mikael StavÃ¶strand",
                        track: "Repl",
                        path: "../../samples/techno/minimaltechno7.ogg"
                    },
                    {
                        artist: "Laurel Halo",
                        track: "Chance Of Rain",
                        path: "../../samples/techno/minimaltechno8.ogg"
                    },
                    {
                        artist: "Dminus",
                        track: "Ultramarine",
                        path: "../../samples/techno/minimaltechno9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-techno').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-techno-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-techno"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

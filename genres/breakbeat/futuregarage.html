<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Future Garage</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,900" rel="stylesheet">
</head>
  
<body class="genre futuregarage">
    <div id="box-breakbeat">
        <h1>FUTURE GARAGE</h1><br>
            
        After the rise of Brostep, some Dubstep artists wanted to take Dubstep back to its original UK Garage roots, away from the influx of the overused wobble sound and extremely heavy production. This resulted in a deep but much more melodic sound, often employing many off-kilter rhythmic production styles. Characteristic of Future Garage is the use of pitched vocal chops, warm filtered reese basses, dark atmospheres (including synth pads, field recordings and other atmospheric sounds). Future Garage also likes to make frequent use of foley sounds such as glass shattering and vinyl crackle to deliver an overall rich texture to the percussion. The tempo usually ranges from 130 to 140 bpm, but can also be slower or faster. The overall vibe of Future Garage tracks tend to be very dreamy and melancholic, often giving off a sense of loneliness but in a beautiful way. After the rise of Future Bass, many artists have produced music that sounds in-between Future Garage and Future Bass. The overall sound from this combination results in a much more upbeat, but still melancholic and laidback feel.<br><br>

        <div class="row icon-list">
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-breakbeat">1</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-breakbeat">2</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-breakbeat">3</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-breakbeat">4</div>
            </div>
                
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-breakbeat">5</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-breakbeat">6</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-breakbeat">7</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-breakbeat">8</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-breakbeat">9</div>
            </div>

            <div class="visible-xs col-xs-1">
                <div class="buttons-breakbeat-stop">&#9724;</div>
            </div>
        </div>

        <div class="example"><br>
            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p> 
        </div>

        <div class="hidden-xs col-sm-1 stop">
            <div class="buttons-breakbeat-stop">&#9724;</div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
    <script>
        $(document).ready(function() {

            
            var tracks = [
                {
                    artist: "Sorrow feat. CoMa",
                    track: "Dreamstone",
                    path: "../../samples/breakbeat/futuregarage1.ogg"
                },
                {
                    artist: "Fractal",
                    track: "Mountain Hunter",
                    path: "../../samples/breakbeat/futuregarage2.ogg"
                },
                {
                    artist: "KOAN Sound & Asa",
                    track: "Hesitation",
                    path: "../../samples/breakbeat/futuregarage3.ogg"
                },
                {
                    artist: "The Gremlin feat. Jessica Endara",
                    track: "Late Night Love (Venemy Remix)",
                    path: "../../samples/breakbeat/futuregarage4.ogg"
                },
                {
                    artist: "Snow Dayy",
                    track: "The Tunnel (Said The Sky Remix)",
                    path: "../../samples/breakbeat/futuregarage5.ogg"
                },
                {
                    artist: "Soular Order",
                    track: "Movements",
                    path: "../../samples/breakbeat/futuregarage6.ogg"
                },
                {
                    artist: "Fracture Design",
                    track: "Goodbye Kiss",
                    path: "../../samples/breakbeat/futuregarage7.ogg"
                },
                {
                    artist: "Vacant",
                    track: "Serenity",
                    path: "../../samples/breakbeat/futuregarage8.ogg"
                },
                {
                    artist: "Vacant",
                    track: "Desolate",
                    path: "../../samples/breakbeat/futuregarage9.ogg"
                }
            ]

            tracks.forEach(track => {
                const audio = new Audio()
                audio.addEventListener('canplaythrough', null, false)
                audio.src = track.path
            })

            var artistSpan = $(document).find('#artist')[0]

            var track = $(document).find('#track')[0]

            var audioInstanceArray = [];

            var buttons = [];

            var audioInstance;

            $(document).find('.buttons-breakbeat').each(function(index, button) {

                buttons.push(button);
                
                $(this).click(function() {

                    removeAllButtonBorders()

                    $(this).toggleClass('clicked');
                
                    stopAllMusic()

                    audioInstance = new Audio(tracks[index].path);
                    audioInstanceArray.push(audioInstance);
                    audioInstance.play();

                    artistSpan.innerHTML = tracks[index].artist
                    track.innerHTML = tracks[index].track

                });
            });

            $('.buttons-breakbeat-stop').on('click', function() {

                stopAllMusic()

                artistSpan.innerHTML = ''
                track.innerHTML = ''

                removeAllButtonBorders()

            });

            var removeAllButtonBorders = () => {
                buttons.forEach(
                    button => button.className = "buttons-breakbeat"
                )
            }

            var stopAllMusic = () => {
                 audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
            }

        });

    </script>

</body>
</html>
<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
        <link rel="stylesheet" href="../../css/style.css">
        <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js" integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>
        <title>Funk</title>
    </head>

    <body id="funk">
        <div class="quaternary-box rhythmandblues">
            <h1>FUNK</h1><div class="quaternary-year rhythmandblues-light">1967</div>

            <p>Soul was very popular and melodic, but it wasn't really daring or danceable. After a while, artists started looking at Rock and Jazz for new elements. They preferred the psychedelic, rebellious nature of Psychedelic Rock alongside the deep, dynamic part of Soul Jazz as flavours of choice for the revolutionary fusion that was Funk. James Brown spearheaded the evolution from Soul to what became known as Funk Soul and eventually Funk. Funk places strong emphasis on the first beat of each bar while the rest of the rhythm constantly changes, like an early form of Breakbeat. This is known as "The Rhythm of the One" (the one beat, instead of four or two). All instruments work together to enhance this feeling. Percussion becomes accentuated by short, monotone riffs, slapping bass, brass instruments, and accents on synth/piano to create what is known as "the groove" &ndash; the pulsing force behind each Funk song. Yet Funk does not try to blend all instruments into a carefully assembled and produced whole (like Soul) but it maintains their individuality to create a more organic sound.</p>

            <div id="quaternary-grid">
                <div class="quaternary-button rhythmandblues-light">1</div>
                <div class="quaternary-button rhythmandblues-light">2</div>
                <div class="quaternary-button rhythmandblues-light">3</div>
                <div class="quaternary-button rhythmandblues-light">4</div>
                <div class="quaternary-button rhythmandblues-light">5</div>
                <div class="quaternary-button rhythmandblues-light">6</div>
                <div class="quaternary-button rhythmandblues-light">7</div>
                <div class="quaternary-button rhythmandblues-light">8</div>
                <div class="quaternary-button rhythmandblues-light">9</div>
                <div class="quaternary-stop"><div class="quaternary-button rhythmandblues-light"><i class="fa-solid fa-stop"></i></div></div>
            </div>

            <div class="quaternary-artisttrack" data-label="Artist:"><span id="artist"></span></div>
            <div class="quaternary-artisttrack" data-label="Track:"><span id="track"></span></div>
            <div class="quaternary-stop"><div class="quaternary-button rhythmandblues-light"><i class="fa-solid fa-stop"></i></div></div>
        </div>

        <script>
            $(function() {
                const tracks = [
                    { artist: "James Brown", track: "Papa's Got A Brand New Bag", path: "../../samples/rhythmandblues/funk1.ogg" },
                    { artist: "Parliament", track: "P-Funk (Wants To Get Funked Up)", path: "../../samples/rhythmandblues/funk2.ogg" },
                    { artist: "Tower Of Power", track: "What Is Hip?", path: "../../samples/rhythmandblues/funk3.ogg" },
                    { artist: "Funkadelic", track: "Standing On The Verge Of Getting It On", path: "../../samples/rhythmandblues/funk4.ogg" },
                    { artist: "Bootsy Collins", track: "Bootzilla", path: "../../samples/rhythmandblues/funk5.ogg" },
                    { artist: "Sly & The Family Stone", track: "Underdog", path: "../../samples/rhythmandblues/funk6.ogg" },
                    { artist: "Average White Band", track: "Pick Up The Pieces", path: "../../samples/rhythmandblues/funk7.ogg" },
                    { artist: "Curtis Mayfield", track: "Superfly", path: "../../samples/rhythmandblues/funk8.ogg" },
                    { artist: "Maceo", track: "Soul Power '74", path: "../../samples/rhythmandblues/funk9.ogg" }
                ];

                const audioInstances = tracks.map(track => new Audio(track.path));
                const $artistSpan = $('#artist');
                const $trackSpan = $('#track');
                const $button = $('.quaternary-button');

                $button.on('click', function() {
                    stopAllMusic();
                    const index = $button.index(this);
                    $(this).toggleClass('clicked');
                    const audio = audioInstances[index];
                    audio.play();
                    $artistSpan.text(tracks[index].artist);
                    $trackSpan.text(tracks[index].track);
                });

                $('.quaternary-stop').on('click', function() {
                    stopAllMusic();
                    $artistSpan.text('');
                    $trackSpan.text('');
                });

                function stopAllMusic() {
                    audioInstances.forEach(audio => {
                        audio.pause();
                        audio.currentTime = 0;
                    });
                    $button.removeClass('clicked');
                }
            });
        </script>
    </body>
</html>

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Doo Wop</title>
    </head>

    <body class="genre" id="doowop">
        <div class="box rhythmandblues">
            <h1>DOO WOP</h1>

            <p>Doo Wop is an often neglected, but familiar and characteristic genre. It's being performed by girl or boy groups that sing in vocal harmony &ndash; one person sings lyrics while the others perform backing vocals in a polyphonic symphony of gibberish and mumbling, humming sounds or onomatopoeias (like "Doo-Wop", hence the name). Sometimes Doo Wop features no instruments at all, it can be purely a cappella &ndash; a step further in the already modest instrumentation of R&amp;B. But Doo Wop can just as easily feature a supporting band or accompanying instrument on top of its barbershop group. However, this minimal setup was for most Doo Wop artists not a choice &ndash; they were so poor that they couldn't afford any instruments. And while many of them wandered around in New York city, hoping for a glimpse of fortune and fame, only very few succeeded. The ones that did, had the joy of their success resonating in their music. In its smooth, warm, cheerful sound, one can already distinguish the yet-to-come embrace of Soul. Doo Wop has experienced revivals in subsequent decades and influenced in subtle ways a number of cross-genre songs.</p>

            <div class="row icon-list">
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-rhythmandblues">1</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-rhythmandblues">2</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-rhythmandblues">3</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-rhythmandblues">4</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-rhythmandblues">5</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-rhythmandblues">6</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-rhythmandblues">7</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-rhythmandblues">8</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-rhythmandblues">9</div></div>
                <div class="d-block d-md-none col-md-1 col-xs-1"><div class="buttons buttons-rhythmandblues-stop">&#9724;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-md-block col-md-1 stop"><div class="buttons buttons-rhythmandblues-stop">&#9724;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "The Platters",
                        track: "The Great Pretender",
                        path: "../../samples/rhythmandblues/doowop1.ogg"
                    },
                    {
                        artist: "The Mills Brothers",
                        track: "The Glow Worm",
                        path: "../../samples/rhythmandblues/doowop2.ogg"
                    },
                    {
                        artist: "The Coasters",
                        track: "Down In Mexico",
                        path: "../../samples/rhythmandblues/doowop3.ogg"
                    },
                    {
                        artist: "The Quotations",
                        track: "Imagination",
                        path: "../../samples/rhythmandblues/doowop4.ogg"
                    },
                    {
                        artist: "The Orioles",
                        track: "For All We Know",
                        path: "../../samples/rhythmandblues/doowop5.ogg"
                    },
                    {
                        artist: "Frankie Lymon & The Teenagers",
                        track: "Baby Baby",
                        path: "../../samples/rhythmandblues/doowop6.ogg"
                    },
                    {
                        artist: "The Turbans",
                        track: "When You Dance",
                        path: "../../samples/rhythmandblues/doowop7.ogg"
                    },
                    {
                        artist: "Randy & The Rainbows",
                        track: "Denise",
                        path: "../../samples/rhythmandblues/doowop8.ogg"
                    },
                    {
                        artist: "The Clovers",
                        track: "Love Potion No. 9",
                        path: "../../samples/rhythmandblues/doowop9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-rhythmandblues').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-rhythmandblues-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-rhythmandblues"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Urban Contemporary</title>
    </head>

    <body id="urbancontemporary">
        <div class="box rhythmandblues">
            <h1>URBAN CONTEMPORARY</h1><div class="year year-rhythmandblues">1998</div>

            <p>What is referred to as Urban Contemporary is so omnipresent that it's often identified with the general term R&amp;B. Here we have a soft and smooth type of Hip Hop/R&amp;B music with big hooks and strong, loud and heavily autotuned choruses alternated by rap verses. The music genre became immensely popular, but not just for its catchy sound. Major record labels and clever producers marketed this sound to the youth and simply labelled it "R&amp;B", leading to a great deal of ignorance about the term to this day. It is often considered the most commercial genre of all time, and therefore also one of the most despised, especially by true Hip Hop and R&amp;B artists who feel their genres have been violated. But Urban Contemporary is also adored, especially by a young female crowd, to which the slow but hooky breakbeat rhythm is addictive and encourages sexual dancing, which in turn attracts a largely male audience. Although the genre might be considered formulaic Pop music and be partly despised for it, this simply proves that it succeeds in finding that perfect formula with Hip Hop, Pop, and R&amp;B ingredients.</p>

            <div class="row">
                <div class="col-1"><div class="buttons buttons-rhythmandblues">1</div></div>
                <div class="col-1"><div class="buttons buttons-rhythmandblues">2</div></div>
                <div class="col-1"><div class="buttons buttons-rhythmandblues">3</div></div>
                <div class="col-1"><div class="buttons buttons-rhythmandblues">4</div></div>
                <div class="col-1"><div class="buttons buttons-rhythmandblues">5</div></div>
                <div class="col-1"><div class="buttons buttons-rhythmandblues">6</div></div>
                <div class="col-1"><div class="buttons buttons-rhythmandblues">7</div></div>
                <div class="col-1"><div class="buttons buttons-rhythmandblues">8</div></div>
                <div class="col-1"><div class="buttons buttons-rhythmandblues">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-rhythmandblues-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Jennifer Lopez",
                        track: "If You Had My Love",
                        path: "../../samples/rhythmandblues/urbancontemporary1.ogg"
                    },
                    {
                        artist: "Brandy & Monica",
                        track: "The Boy Is Mine",
                        path: "../../samples/rhythmandblues/urbancontemporary2.ogg"
                    },
                    {
                        artist: "Ja Rule feat. Ashanti",
                        track: "Always On Time",
                        path: "../../samples/rhythmandblues/urbancontemporary3.ogg"
                    },
                    {
                        artist: "BeyoncÃ© feat. Jay-Z",
                        track: "Crazy In Love",
                        path: "../../samples/rhythmandblues/urbancontemporary4.ogg"
                    },
                    {
                        artist: "Timbaland feat. Keri Hilson",
                        track: "The Way I Are",
                        path: "../../samples/rhythmandblues/urbancontemporary5.ogg"
                    },
                    {
                        artist: "Rihanna feat. Jay-Z",
                        track: "Umbrella",
                        path: "../../samples/rhythmandblues/urbancontemporary6.ogg"
                    },
                    {
                        artist: "Akon",
                        track: "Lonely",
                        path: "../../samples/rhythmandblues/urbancontemporary7.ogg"
                    },
                    {
                        artist: "Chris Brown",
                        track: "Forever",
                        path: "../../samples/rhythmandblues/urbancontemporary8.ogg"
                    },
                    {
                        artist: "Jay Sean feat. Lil Wayne",
                        track: "Down",
                        path: "../../samples/rhythmandblues/urbancontemporary9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-rhythmandblues').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-rhythmandblues-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-rhythmandblues"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

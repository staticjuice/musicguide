<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="../../css/bootstrap.css">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Rare Groove</title>
    </head>

    <body id="raregroove">
        <div class="box rhythmandblues">
            <h1>RARE GROOVE</h1><div class="year year-rhythmandblues">1972</div>

            <p>Some may say that Funk is just Funk, but there is a difference between well-known vocal Funk aimed at performing and the heavier, instrumental Funk focused on recording, known as Rare Groove. Although this genre already existed in the early 70s, the popularity of Disco pushed many artists underground during the 80s. Bass got stronger and breaks became more pronounced. The focus laid slightly less on fast drums and rolls but more on a slower tempo groove, pushing the music forward. Production was very raw and gritty like Soul. Lots and lots of barely known artists brought out their own, more modern approach of their favourite genre, almost always on vinyl (particularly 45 RPM singles). Although these records did get pressed, the number of editions were usually meagre. These hard-to-find records (hence the term Rare Groove) were being hunted by Hip Hop, Acid Jazz and Breakbeat DJs everywhere (and still are). Rare Groove's characteristics (heavy beats, instrumental, recording-focused and obscurity) make the genre ideal for sampling and extremely popular with Hip Hop and Breakbeat artists.</p>

            <div class="row icon-list">
                <div class="col-1"><div class="buttons buttons-rhythmandblues">1</div></div>
                <div class="col-1"><div class="buttons buttons-rhythmandblues">2</div></div>
                <div class="col-1"><div class="buttons buttons-rhythmandblues">3</div></div>
                <div class="col-1"><div class="buttons buttons-rhythmandblues">4</div></div>
                <div class="col-1"><div class="buttons buttons-rhythmandblues">5</div></div>
                <div class="col-1"><div class="buttons buttons-rhythmandblues">6</div></div>
                <div class="col-1"><div class="buttons buttons-rhythmandblues">7</div></div>
                <div class="col-1"><div class="buttons buttons-rhythmandblues">8</div></div>
                <div class="col-1"><div class="buttons buttons-rhythmandblues">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-rhythmandblues-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Incredible Bongo Band",
                        track: "Apache",
                        path: "../../samples/rhythmandblues/raregroove1.ogg"
                    },
                    {
                        artist: "Fred Wesley & The J.B.'s",
                        track: "Blow Your Head",
                        path: "../../samples/rhythmandblues/raregroove2.ogg"
                    },
                    {
                        artist: "The Mohawks",
                        track: "The Champ",
                        path: "../../samples/rhythmandblues/raregroove3.ogg"
                    },
                    {
                        artist: "Rhythm Heritage",
                        track: "Theme From S.W.A.T.",
                        path: "../../samples/rhythmandblues/raregroove4.ogg"
                    },
                    {
                        artist: "Commodores",
                        track: "Machine Gun",
                        path: "../../samples/rhythmandblues/raregroove5.ogg"
                    },
                    {
                        artist: "The Bamboos",
                        track: "The Bamboos Theme",
                        path: "../../samples/rhythmandblues/raregroove6.ogg"
                    },
                    {
                        artist: "Fort Knox Five",
                        track: "Blowing Up The Barrio",
                        path: "../../samples/rhythmandblues/raregroove7.ogg"
                    },
                    {
                        artist: "Ashley & Jackson",
                        track: "Solid Gold (Acid Jazz Mix)",
                        path: "../../samples/rhythmandblues/raregroove8.ogg"
                    },
                    {
                        artist: "Brownout",
                        track: "Flaximus (Renegades Of Jazz Bboy Edit)",
                        path: "../../samples/rhythmandblues/raregroove9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-rhythmandblues').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-rhythmandblues-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-rhythmandblues"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

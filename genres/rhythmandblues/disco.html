<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Disco</title>
    </head>

    <body class="genre" id="disco">
        <div class="box rhythmandblues">
            <h1>DISCO</h1>

            <p>Disco marked the dawn of the modern era of Dance-based popular music. Growing out of the increasingly groove-oriented sound of early 70s and Funk, Disco emphasised the beat above anything else, even the singer and the song. Disco was named after discotheques, clubs that played nothing but music for dancing. Most of the discotheques were gay clubs in New York, and the DJs in these clubs specifically picked Soul and Funk records that had a strong, heavy groove. Along from that, the singles were often issued on 12-inch records, which allowed for extended remixes. DJs could mix these tracks together, matching the beats on each song since they were marked with how fast they were in terms of beats per minute. As one of the biggest mainstream hypes in the history of music, it is no surprise that Disco declined almost as fast as it peaked and that it sparked a wave of revulsion (symbolised by the infamous "Disco Sucks" tag). Although not without leaving a legacy of various Post-Disco genres and eventually what became known as "Disco's Revenge" &ndash; House music.</p>

            <div class="row icon-list">
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-rhythmandblues">1</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-rhythmandblues">2</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-rhythmandblues">3</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-rhythmandblues">4</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-rhythmandblues">5</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-rhythmandblues">6</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-rhythmandblues">7</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-rhythmandblues">8</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-rhythmandblues">9</div></div>
                <div class="d-block d-lg-none col-lg-1 col-xs-1"><div class="buttons buttons-rhythmandblues-stop">&FilledSmallSquare;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-lg-block col-md-1 stop"><div class="buttons buttons-rhythmandblues-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Lipps Inc.",
                        track: "Funkytown",
                        path: "../../samples/rhythmandblues/disco1.ogg"
                    },
                    {
                        artist: "Patrick Hernandez",
                        track: "Born To Be Alive",
                        path: "../../samples/rhythmandblues/disco2.ogg"
                    },
                    {
                        artist: "Bee Gees",
                        track: "You Should Be Dancing",
                        path: "../../samples/rhythmandblues/disco3.ogg"
                    },
                    {
                        artist: "Chic",
                        track: "Le Freak",
                        path: "../../samples/rhythmandblues/disco4.ogg"
                    },
                    {
                        artist: "Earth, Wind & Fire",
                        track: "September",
                        path: "../../samples/rhythmandblues/disco5.ogg"
                    },
                    {
                        artist: "Boney M.",
                        track: "Gotta Go Home",
                        path: "../../samples/rhythmandblues/disco6.ogg"
                    },
                    {
                        artist: "The Trammps",
                        track: "Disco Inferno",
                        path: "../../samples/rhythmandblues/disco7.ogg"
                    },
                    {
                        artist: "The Jacksons",
                        track: "Blame It On The Boogie",
                        path: "../../samples/rhythmandblues/disco8.ogg"
                    },
                    {
                        artist: "Village People",
                        track: "Y.M.C.A.",
                        path: "../../samples/rhythmandblues/disco9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-rhythmandblues').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-rhythmandblues-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-rhythmandblues"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

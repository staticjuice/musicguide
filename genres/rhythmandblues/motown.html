<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Motown</title>
    </head>

    <body class="genre" id="motown">
        <div class="box rhythmandblues">
            <h1>MOTOWN</h1>

            <p>After the rural areas, Soul quickly caught on in the urban areas, where it lost a bit of that rural roughness (just as happened with Country). First almost immediately in Chicago and a bit later in the motor city &ndash; Detroit. These urban types of Soul were more uptempo and happy than usual (the first wave of Soul could sometimes be tragic). The experimental melting pot was turned into a factory-produced popular recipe &ndash; a strong backbeat, a bouncy, melodic bassline, four part harmony vocals (often female), a tight snare drum, and usually tambourines. It was heavily produced, polished music, especially by that record company that became so well known that its name is a synonym for the genre &ndash; Motown. Compared to early Soul, Motown has more an "urban" sound and production and is a lot more danceable. Motown's rhythm sections (drum and bass or tambourine) were all very uniform but thoroughly contemplated. Motown became exceptionally popular with both black and white audiences (hereby connecting the two cultures), whereas the first Soul was purely black-oriented.</p>

            <div class="row icon-list">
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-rhythmandblues">1</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-rhythmandblues">2</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-rhythmandblues">3</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-rhythmandblues">4</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-rhythmandblues">5</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-rhythmandblues">6</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-rhythmandblues">7</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-rhythmandblues">8</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-rhythmandblues">9</div></div>
                <div class="d-block d-lg-none col-lg-1 col-xs-1"><div class="buttons buttons-rhythmandblues-stop">&FilledSmallSquare;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-lg-block col-md-1 stop"><div class="buttons buttons-rhythmandblues-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "The Supremes",
                        track: "You Keep Me Hangin' On",
                        path: "../../samples/rhythmandblues/motown1.ogg"
                    },
                    {
                        artist: "Four Tops",
                        track: "Reach Out, I'll Be There",
                        path: "../../samples/rhythmandblues/motown2.ogg"
                    },
                    {
                        artist: "The Velvelettes",
                        track: "Needle In A Haystack",
                        path: "../../samples/rhythmandblues/motown3.ogg"
                    },
                    {
                        artist: "Smokey Robinson & The Miracles",
                        track: "The Tears Of A Clown",
                        path: "../../samples/rhythmandblues/motown4.ogg"
                    },
                    {
                        artist: "The Impressions",
                        track: "It's All Right",
                        path: "../../samples/rhythmandblues/motown5.ogg"
                    },
                    {
                        artist: "Donny Hathaway",
                        track: "The Ghetto",
                        path: "../../samples/rhythmandblues/motown6.ogg"
                    },
                    {
                        artist: "Frank Wilson",
                        track: "Do I Love You (Indeed I Do)",
                        path: "../../samples/rhythmandblues/motown7.ogg"
                    },
                    {
                        artist: "The Temptations",
                        track: "Ain't Too Proud To Beg",
                        path: "../../samples/rhythmandblues/motown8.ogg"
                    },
                    {
                        artist: "Stevie Wonder",
                        track: "For Once In My Life",
                        path: "../../samples/rhythmandblues/motown9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-rhythmandblues').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-rhythmandblues-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-rhythmandblues"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

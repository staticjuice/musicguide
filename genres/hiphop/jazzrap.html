<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Jazz Rap</title>
    </head>

    <body class="genre" id="jazzrap">
        <div class="box hiphop">
            <h1>JAZZ RAP</h1>

            <p>Jazz Rap was an attempt to fuse African-American music of the past with a newly dominant form of the present, paying tribute to and reinvigorating the former while expanding the horizons of the latter. While the rhythms of Jazz Rap came entirely from Hip Hop, the samples and sonic textures were drawn mainly from Jazz. It was cooler and more cerebral than other styles of Hip Hop, and many of its artists displayed an Afrocentric political consciousness, complementing the style's historical awareness. Given its more intellectual bent, it's not surprising that Jazz Rap never really caught on as a street favourite, but then again it wasn't meant to. Jazz Rap styled itself as a more positive alternative to the Gangsta Rap movement taking over Hip Hop's mainstream at the dawn of the 90s and concerned itself with spreading Hip Hop to listeners unable to embrace or identify with the music's increasing inner-city aggression. As such, Jazz Rap found its main audiences in places like college campuses, and was also embraced by a number of critics and white Alternative Rock fans.</p>

            <div class="row icon-list">
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-hiphop">1</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-hiphop">2</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-hiphop">3</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-hiphop">4</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-hiphop">5</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-hiphop">6</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-hiphop">7</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-hiphop">8</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-hiphop">9</div></div>
                <div class="d-block d-lg-none col-lg-1 col-xs-1"><div class="buttons buttons-hiphop-stop">&FilledSmallSquare;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-lg-block col-md-1 stop"><div class="buttons buttons-hiphop-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "A Tribe Called Quest",
                        track: "Award Tour",
                        path: "../../samples/hiphop/jazzrap1.ogg"
                    },
                    {
                        artist: "Gang Starr",
                        track: "Lovesick",
                        path: "../../samples/hiphop/jazzrap2.ogg"
                    },
                    {
                        artist: "Del The Funky Homosapien",
                        track: "Mistadobalina",
                        path: "../../samples/hiphop/jazzrap3.ogg"
                    },
                    {
                        artist: "The Beatnuts",
                        track: "Watch Out Now",
                        path: "../../samples/hiphop/jazzrap4.ogg"
                    },
                    {
                        artist: "Naughty By Nature",
                        track: "Hip Hip Hooray",
                        path: "../../samples/hiphop/jazzrap5.ogg"
                    },
                    {
                        artist: "Queen Latifah",
                        track: "U.N.I.T.Y.",
                        path: "../../samples/hiphop/jazzrap6.ogg"
                    },
                    {
                        artist: "Brand Nubian",
                        track: "Punks Jump Up To Get Beat Down",
                        path: "../../samples/hiphop/jazzrap7.ogg"
                    },
                    {
                        artist: "Common",
                        track: "I Used To Love H.E.R.",
                        path: "../../samples/hiphop/jazzrap8.ogg"
                    },
                    {
                        artist: "Souls Of Mischief",
                        track: "93 'Til Infinity",
                        path: "../../samples/hiphop/jazzrap9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-hiphop').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-hiphop-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-hiphop"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Crunk</title>
    </head>

    <body id="crunk">
        <div class="box hiphop">
            <h1>CRUNK</h1><div class="year year-hiphop">1996</div>

            <p>During the 2000s, a more uptempo, twerk-friendly, dance-orientated genre named Crunk arrives with its overlapping subgenre Snap. Crunk gets its name from shouts to the crowd, known as "crunks". The combination of synth-bass-heavy Crunk with slow-motion, criminal Hip Hop is only a small step away from Trap. Heavy use of synthesised instruments and sparse, truncated 808 drums are staples of the Crunk sound. Looped, stripped-down drum machine rhythms are usually used, with the Roland TR-808 and TR-909 being among the most popular. The tempo of the music is somewhat slower than Hip Hop, around the speed of Reggaeton. However, the focal point of Crunk is more often focused on the beats and music than the lyrics therein. Crunk rappers often shout and scream their lyrics, creating a heavy, aggressive style of Hip Hop unlike other styles of the time. These lyrics can often be isolated to simple chants. While other subgenres of Hip Hop address sociopolitical or personal concerns, Crunk is almost exclusively party music, favouring call and response slogans instead of more substantive approaches.</p>

            <div class="row">
                <div class="col-1"><div class="buttons buttons-hiphop">1</div></div>
                <div class="col-1"><div class="buttons buttons-hiphop">2</div></div>
                <div class="col-1"><div class="buttons buttons-hiphop">3</div></div>
                <div class="col-1"><div class="buttons buttons-hiphop">4</div></div>
                <div class="col-1"><div class="buttons buttons-hiphop">5</div></div>
                <div class="col-1"><div class="buttons buttons-hiphop">6</div></div>
                <div class="col-1"><div class="buttons buttons-hiphop">7</div></div>
                <div class="col-1"><div class="buttons buttons-hiphop">8</div></div>
                <div class="col-1"><div class="buttons buttons-hiphop">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-hiphop-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.7.0.slim.min.js" integrity="sha256-tG5mcZUtJsZvyKAxYLVXrmjKBVLd6VpVccqz/r4ypFE=" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Lil Jon & The East Side Boyz feat. Lil Scrappy",
                        track: "What U Gon' Do",
                        path: "../../samples/hiphop/crunk1.ogg"
                    },
                    {
                        artist: "Soulja Boy Tell 'Em",
                        track: "Crank That (Soulja Boy)",
                        path: "../../samples/hiphop/crunk2.ogg"
                    },
                    {
                        artist: "Ludacris feat. Mystikal",
                        track: "Move Bitch",
                        path: "../../samples/hiphop/crunk3.ogg"
                    },
                    {
                        artist: "Chingy",
                        track: "Right Thurr",
                        path: "../../samples/hiphop/crunk4.ogg"
                    },
                    {
                        artist: "Three 6 Mafia feat. Lil Flip",
                        track: "Ridin' Spinners",
                        path: "../../samples/hiphop/crunk5.ogg"
                    },
                    {
                        artist: "Usher feat. Lil Jon",
                        track: "Yeah",
                        path: "../../samples/hiphop/crunk6.ogg"
                    },
                    {
                        artist: "Lil Scrappy feat. Sean P & E-40",
                        track: "Oh Yeah (Work)",
                        path: "../../samples/hiphop/crunk7.ogg"
                    },
                    {
                        artist: "Flo Rida feat. T-Pain",
                        track: "Low",
                        path: "../../samples/hiphop/crunk8.ogg"
                    },
                    {
                        artist: "Waka Flocka Flame",
                        track: "Hard In Da Paint",
                        path: "../../samples/hiphop/crunk9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-hiphop').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-hiphop-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-hiphop"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

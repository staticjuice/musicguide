<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Trap</title>
    </head>

    <body class="genre" id="trap">
        <div class="box hiphop">
            <h1>TRAP</h1>

            <p>Slowly a new style of Rap music bubbled up in the shadows of the Southern US underground &ndash; Trap. This particular type of Rap differs from other styles by adding lots of synth and often being completely digitally made instead of using samples. Trap also drops the beat on an offbeat, giving a more dramatic, slow-motion build-and-drop feel. Pronounced snares, doubled crisp hi-hats, heavy TR-808 use and sometimes even brass instruments all add perfectly to Trap’s aggressive, bleak lyrical content. It is no coincidence that the word <q>Trap</q> is Hip Hop slang for a drug trade location, adding a sense of paranoia to the music. After 2010, Ghettotech influences certain Trap producers and the subgenre Drill is born &ndash; even darker and grittier than Trap, but with less pronounced breaks and clearly obsessed with drugs. After all, Trap and Drill’s sound are heavily influenced by the habit of syrup sipping &ndash; a new type of drug behaviour where codeine or promethazine cough syrup is mixed with soda or liquor. Combined with the effects of marijuana, a slow motion sound with strong hooks, unexpected interrupts and slurry, intoxicated lyrics is the outcome.</p>

            <div class="row icon-list">
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-hiphop">1</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-hiphop">2</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-hiphop">3</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-hiphop">4</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-hiphop">5</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-hiphop">6</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-hiphop">7</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-hiphop">8</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-hiphop">9</div></div>
                <div class="d-block d-md-none col-md-1 col-xs-1"><div class="buttons buttons-hiphop-stop">&#9724;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-md-block col-md-1 stop"><div class="buttons buttons-hiphop-stop">&#9724;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "T.I.",
                        track: "24's",
                        path: "../../samples/hiphop/trap1.ogg"
                    },
                    {
                        artist: "Rick Ross feat. Styles P",
                        track: "B.M.F. (Blowin’ Money Fast)",
                        path: "../../samples/hiphop/trap2.ogg"
                    },
                    {
                        artist: "Waka Flocka Flame",
                        track: "Hard In Da Paint",
                        path: "../../samples/hiphop/trap3.ogg"
                    },
                    {
                        artist: "DJ Dow Jones & Lil Lody",
                        track: "Top Notch",
                        path: "../../samples/hiphop/trap4.ogg"
                    },
                    {
                        artist: "Jeezy",
                        track: "Church In These Streets",
                        path: "../../samples/hiphop/trap5.ogg"
                    },
                    {
                        artist: "Ace Hood feat. Future & Rick Ross",
                        track: "Bugatti",
                        path: "../../samples/hiphop/trap6.ogg"
                    },
                    {
                        artist: "Chief Keef feat. 50 Cent & Wiz Khalifa",
                        track: "Hate Bein' Sober",
                        path: "../../samples/hiphop/trap7.ogg"
                    },
                    {
                        artist: "Lil Reese",
                        track: "Team",
                        path: "../../samples/hiphop/trap8.ogg"
                    },
                    {
                        artist: "$uicicideBoy$ feat. Pouya",
                        track: "South Side Suicide",
                        path: "../../samples/hiphop/trap9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-hiphop').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-hiphop-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-hiphop"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

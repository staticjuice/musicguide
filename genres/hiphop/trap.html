<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
        <link rel="stylesheet" href="../../css/style.css">
        <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js" integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>
        <title>Trap</title>
    </head>

    <body id="trap">
        <div class="quaternary-box hiphop">
            <h1>TRAP</h1><div class="quaternary-year hiphop-light">2003</div>

            <p>Slowly a new style of Hip Hop music bubbled up in the shadows of the Southern US underground. This particular type of Hip Hop differs from other styles by adding lots of busy hat and snare fills and often being completely digitally made. Trap also drops the beat on an offbeat, giving a more dramatic, slow-motion build-and-drop feel. Pronounced snares, doubled crisp hi-hats, heavy TR-808 use and sometimes even brass instruments all add perfectly to Trap's aggressive, bleak lyrical content. It is no coincidence that the word "Trap" is Hip Hop slang for a drug trade location, adding a sense of paranoia to the music. After 2010, Ghettotech influences certain Trap producers and the subgenre Drill is born &ndash; even darker and grittier than Trap, but with less pronounced breaks and obsessed with drugs. After all, Trap's sound is heavily influenced by the habit of syrup sipping &ndash; a new type of drug behaviour where codeine or promethazine cough syrup is mixed with soda or liquor. Combined with the effects of marijuana, a slow-motion sound with strong hooks, unexpected interrupts and slurry, intoxicated lyrics is the outcome.</p>

            <div id="quaternary-grid">
                <div class="quaternary-button hiphop-light">1</div>
                <div class="quaternary-button hiphop-light">2</div>
                <div class="quaternary-button hiphop-light">3</div>
                <div class="quaternary-button hiphop-light">4</div>
                <div class="quaternary-button hiphop-light">5</div>
                <div class="quaternary-button hiphop-light">6</div>
                <div class="quaternary-button hiphop-light">7</div>
                <div class="quaternary-button hiphop-light">8</div>
                <div class="quaternary-button hiphop-light">9</div>
                <div id="quaternary-stop"><div class="quaternary-button hiphop-light"><i class="fa-solid fa-stop"></i></div></div>
            </div>

            <div class="quaternary-artisttrack" data-label="Artist:"><span id="artist"></span></div>
            <div class="quaternary-artisttrack" data-label="Track:"><span id="track"></span></div>
            <div id="quaternary-stop"><div class="quaternary-button hiphop-light"><i class="fa-solid fa-stop"></i></div></div>
        </div>

        <script>
            $(function() {
                const tracks = [
                    { artist: "Kendrick Lamar", track: "HUMBLE.", path: "../../samples/hiphop/trap1.ogg" },
                    { artist: "Jeezy", track: "Church In These Streets", path: "../../samples/hiphop/trap2.ogg" },
                    { artist: "Travis Scott feat. Drake", track: "SICKO MODE", path: "../../samples/hiphop/trap3.ogg" },
                    { artist: "", track: "", path: "../../samples/hiphop/trap4.ogg" },
                    { artist: "Desiigner", track: "Panda", path: "../../samples/hiphop/trap5.ogg" },
                    { artist: "Big Sean", track: "Bounce Back", path: "../../samples/hiphop/trap6.ogg" },
                    { artist: "6ix9ine", track: "PUNANI", path: "../../samples/hiphop/trap7.ogg" },
                    { artist: "Post Malone feat. Quavo", track: "Congratulations", path: "../../samples/hiphop/trap8.ogg" },
                    { artist: "$uicicideBoy$ feat. Pouya", track: "South Side Suicide", path: "../../samples/hiphop/trap9.ogg" }
                ];

                const audioInstances = tracks.map(track => new Audio(track.path));
                const $artistSpan = $('#artist');
                const $trackSpan = $('#track');
                const $button = $('.quaternary-button');

                $button.on('click', function() {
                    stopAllMusic();
                    const index = $button.index(this);
                    $(this).toggleClass('clicked');
                    const audio = audioInstances[index];
                    audio.play();
                    $artistSpan.text(tracks[index].artist);
                    $trackSpan.text(tracks[index].track);
                });

                $('.quaternary-stop').on('click', function() {
                    stopAllMusic();
                    $artistSpan.text('');
                    $trackSpan.text('');
                });

                function stopAllMusic() {
                    audioInstances.forEach(audio => {
                        audio.pause();
                        audio.currentTime = 0;
                    });
                    $button.removeClass('clicked');
                }
            });
        </script>
    </body>
</html>

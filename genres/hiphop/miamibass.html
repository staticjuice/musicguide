<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Miami Bass</title>
    </head>

    <body class="genre" id="miamibass">
        <div class="box hiphop">
            <h1>MIAMI BASS</h1>

            <p>Musically speaking, Miami used to be one of the most important cities in the 80s. After the arrival of sequencers and the TR-808 drum machine, local producer Amos Larkins used these tools intensively to create a new type of Electro Rap. The bass of Hip Hop beats was enhanced as hard as possible, creating a really fat, greasy bass &ndash; ideal for shaking big booties to. In a very straightforward way Miami Bass was redubbed "Booty Bass". However, the genre probably wouldn't have grown into a fully mature genre if it wasn't for Miami's "stereo wars", where people showed off and called out each other to see who had the best, most bass-heavy stereo sound system. Images of palm trees, 80s stereo cassette boomboxes, and slick pink or leopard-print convertibles immediately spring to mind when listening to this music, which is firmly rooted within that idiosyncratic subcultural context. Miami Bass is pure summer music, with lots of fresh Electro effects and no political or serious lyrics whatsoever. It only dealt about sex and booming sounds in the most explicit way possible, like an Americanized form of Ragga.</p>

            <div class="row icon-list">
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-hiphop">1</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-hiphop">2</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-hiphop">3</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-hiphop">4</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-hiphop">5</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-hiphop">6</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-hiphop">7</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-hiphop">8</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-hiphop">9</div></div>
                <div class="d-block d-lg-none col-lg-1 col-xs-1"><div class="buttons buttons-hiphop-stop">&FilledSmallSquare;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-lg-block col-md-1 stop"><div class="buttons buttons-hiphop-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "DJ Magic Mike",
                        track: "You Want Bass",
                        path: "../../samples/hiphop/miamibass1.ogg"
                    },
                    {
                        artist: "69 Boyz",
                        track: "Hoop In Yo Face",
                        path: "../../samples/hiphop/miamibass2.ogg"
                    },
                    {
                        artist: "Quad City DJs",
                        track: "Space Jam",
                        path: "../../samples/hiphop/miamibass3.ogg"
                    },
                    {
                        artist: "Tag Team",
                        track: "Whoomp! There It Is",
                        path: "../../samples/hiphop/miamibass4.ogg"
                    },
                    {
                        artist: "95 South",
                        track: "Rodeo",
                        path: "../../samples/hiphop/miamibass5.ogg"
                    },
                    {
                        artist: "Uncle Al",
                        track: "Slip 'N' Slide",
                        path: "../../samples/hiphop/miamibass6.ogg"
                    },
                    {
                        artist: "L'Trimm",
                        track: "Cars With The Boom",
                        path: "../../samples/hiphop/miamibass7.ogg"
                    },
                    {
                        artist: "MC Luscious",
                        track: "Boom! I Got Your Boyfriend",
                        path: "../../samples/hiphop/miamibass8.ogg"
                    },
                    {
                        artist: "Baha Men",
                        track: "Who Let The Dogs Out",
                        path: "../../samples/hiphop/miamibass9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-hiphop').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-hiphop-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-hiphop"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

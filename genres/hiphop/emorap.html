<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
        <link rel="stylesheet" href="../../css/style.css">
        <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js" integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>
        <title>Emo Rap</title>
    </head>

    <body id="emorap">
        <div class="quaternary-box hiphop">
            <h1>EMO RAP</h1><div class="quaternary-year hiphop-light">2017</div>

            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum interdum enim. Fusce scelerisque urna ipsum. Nam eget sapien hendrerit, feugiat metus ac, euismod lectus. Etiam tincidunt lacus eu est efficitur, et vestibulum orci commodo. Nulla id elit velit. Duis consequat pharetra ultrices. Proin id nunc risus. Vivamus eget elit lectus. Donec vitae mauris vitae ipsum dictum elementum at vitae magna. Pellentesque condimentum erat ut libero sagittis malesuada. Fusce et nisi arcu. Quisque lacinia malesuada nisl. Aenean nisi nunc, pulvinar quis lacus et, luctus laoreet arcu. Etiam aliquam mollis metus in consequat. Proin ac ultricies lectus. Sed imperdiet tortor elit. Cras vel magna nec purus ornare dignissim. Aliquam quis efficitur tellus, blandit pretium quam. Aliquam ultricies dolor quis elit egestas, ac imperdiet sem molestie. Praesent vestibulum enim et malesuada tincidunt. Duis elementum dapibus quam, et maximus sem varius in. Vestibulum ullamcorper varius molestie. Praesent nec nibh tincidunt, aliquam urna quis, facilisis lectus. Vivamus luctus, lorem in lacinia laoreet, dui dui auctor massa.</p>

            <div id="quaternary-grid">
                <div class="quaternary-grid-item"><div class="quaternary-button hiphop-light">1</div></div>
                <div class="quaternary-grid-item"><div class="quaternary-button hiphop-light">2</div></div>
                <div class="quaternary-grid-item"><div class="quaternary-button hiphop-light">3</div></div>
                <div class="quaternary-grid-item"><div class="quaternary-button hiphop-light">4</div></div>
                <div class="quaternary-grid-item"><div class="quaternary-button hiphop-light">5</div></div>
                <div class="quaternary-grid-item"><div class="quaternary-button hiphop-light">6</div></div>
                <div class="quaternary-grid-item"><div class="quaternary-button hiphop-light">7</div></div>
                <div class="quaternary-grid-item"><div class="quaternary-button hiphop-light">8</div></div>
                <div class="quaternary-grid-item"><div class="quaternary-button hiphop-light">9</div></div>
            </div>

            <div class="quaternary-artisttrack" data-label="Artist:"><span id="artist"></span></div>
            <div class="quaternary-artisttrack" data-label="Track:"><span id="track"></span></div>
            <div class="quaternary-stop"><div class="quaternary-button hiphop-light"><i class="fa-solid fa-stop"></i></div></div>
        </div>

        <script>
            $(function() {
                const tracks = [
                    { artist: "Lil Peep feat. Lil Tracy", track: "Awful Things", path: "../../samples/hiphop/emorap1.ogg" },
                    { artist: "Lil Lotus feat. Cold Hart", track: "Bodybag", path: "../../samples/hiphop/emorap2.ogg" },
                    { artist: "Smrtdeath", track: "I Don't Feel Anything", path: "../../samples/hiphop/emorap3.ogg" },
                    { artist: "Teddy", track: "Foreign Banz", path: "../../samples/hiphop/emorap4.ogg" },
                    { artist: "XXXTentacion", track: "SAD!", path: "../../samples/hiphop/emorap5.ogg" },
                    { artist: "Drippin So Pretty", track: "Drag You Through My Hell", path: "../../samples/hiphop/emorap6.ogg" },
                    { artist: "Lil Narnia", track: "Her Heart Has Flowers Inside", path: "../../samples/hiphop/emorap7.ogg" },
                    { artist: "Convolk", track: "Black Heart", path: "../../samples/hiphop/emorap8.ogg" },
                    { artist: "DÃ¸ves & Fish Narc", track: "Armor", path: "../../samples/hiphop/emorap9.ogg" }
                ];

                const audioInstances = tracks.map(track => new Audio(track.path));
                const $artistSpan = $('#artist');
                const $trackSpan = $('#track');
                const $button = $('.quaternary-button');

                $button.on('click', function() {
                    stopAllMusic();
                    const index = $button.index(this);
                    $(this).toggleClass('clicked');
                    const audio = audioInstances[index];
                    audio.play();
                    $artistSpan.text(tracks[index].artist);
                    $trackSpan.text(tracks[index].track);
                });

                $('.quaternary-stop').on('click', function() {
                    stopAllMusic();
                    $artistSpan.text('');
                    $trackSpan.text('');
                });

                function stopAllMusic() {
                    audioInstances.forEach(audio => {
                        audio.pause();
                        audio.currentTime = 0;
                    });
                    $button.removeClass('clicked');
                }
            });
        </script>
    </body>
</html>

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Nordic Folk</title>
    </head>

    <body class="genre" id="nordicfolk">
        <div class="box folk">
            <h1>NORDIC FOLK</h1>

            <p>Nordic Folk music includes a number of traditions in Northern European &ndash; especially Scandinavian &ndash; countries. The Nordic countries are generally taken to include Iceland, Norway, Sweden, Denmark and Finland, but can also include the autonomous territories of Åland, Greenland and the Faroe Islands. Historically, the term Nordic was also applied to Baltic countries of Estonia, Latvia and Lithuania. The many regions of the Nordic countries share certain traditions, many of which have diverged significantly. It is possible to group together the Baltic states and northwest Russia as sharing cultural similarities, contrasted with Norway, Sweden, Denmark and the Atlantic islands of Iceland and the Faroe Islands. Greenland's Inuit culture has its own musical traditions, influenced by Scandinavian culture. Finland shares many cultural similarities with both the Baltic nations and the Scandinavian nations. The Saami of Sweden, Norway, Finland and Russia have their own unique culture, with ties to the neighbouring cultures. The dulcimer and fiddle are the two most characteristic instruments found throughout Scandinavia.</p>

            <div class="row icon-list">
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-folk">1</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-folk">2</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-folk">3</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-folk">4</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-folk">5</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-folk">6</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-folk">7</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-folk">8</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-folk">9</div></div>
                <div class="d-block d-md-none col-md-1 col-xs-1"><div class="buttons buttons-folk-stop">&#9724;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-md-block col-md-1 stop"><div class="buttons buttons-folk-stop">&#9724;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Olov Johansson & Catriana McKay",
                        track: "Astrids Vals",
                        path: "../../samples/folk/nordicfolk1.ogg"
                    },
                    {
                        artist: "Bazar Blå",
                        track: "Àziza",
                        path: "../../samples/folk/nordicfolk2.ogg"
                    },
                    {
                        artist: "Trio Mio",
                        track: "Fillingspolska",
                        path: "../../samples/folk/nordicfolk3.ogg"
                    },
                    {
                        artist: "Anders Norudde, Leo Svensson & Göran Fredriksson",
                        track: "Kadrilj Efter Birger Törnkvist",
                        path: "../../samples/folk/nordicfolk4.ogg"
                    },
                    {
                        artist: "BOOT",
                        track: "Farfarspolskan",
                        path: "../../samples/folk/nordicfolk5.ogg"
                    },
                    {
                        artist: "Asynje",
                        track: "Hr. Oluf",
                        path: "../../samples/folk/nordicfolk6.ogg"
                    },
                    {
                        artist: "Gjermund Larsen Trio",
                        track: "November",
                        path: "../../samples/folk/nordicfolk7.ogg"
                    },
                    {
                        artist: "Esbjörn Hazelius",
                        track: "Stjärnspegel",
                        path: "../../samples/folk/nordicfolk8.ogg"
                    },
                    {
                        artist: "Emilia Amper",
                        track: "Till Maria",
                        path: "../../samples/folk/nordicfolk9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-folk').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-folk-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-folk"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

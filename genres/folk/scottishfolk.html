<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Scottish Folk</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,900" rel="stylesheet">
</head>
  
<body class="genre scottishfolk">
    <div id="box-folk">
        <h1>SCOTTISH FOLK</h1><br>
            
        Scottish Folk is music that uses forms that are identified as part of the Scottish musical tradition. There is evidence that there was a flourishing culture of popular music in Scotland during the late Middle Ages, but the only song with a melody to survive from this period is the "Pleugh Song". After the Reformation, the secular popular tradition of music continued, despite attempts by the Kirk, particularly in the Lowlands, to suppress dancing and events like penny weddings. The first clear reference to the use of the Highland bagpipes mentions their use at the Battle of Pinkie Cleugh in 1547. The Highlands in the early seventeenth century saw the development of piping families including the MacCrimmons, MacArthurs, MacGregors and the Mackays of Gairloch. This tradition continued into the nineteenth century, with major figures such as the fiddlers Neil and his son Nathaniel Gow. Musically, there tends to be a lot of crossover bewtween the Irish and Scottish Folk traditions due to their similar culture. As such, sometimes both styles are lumped under the umbrella term of Celtic Folk.<br><br>

        <div class="row icon-list">
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-folk">1</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-folk">2</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-folk">3</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-folk">4</div>
            </div>
                
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-folk">5</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-folk">6</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-folk">7</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-folk">8</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-folk">9</div>
            </div>

            <div class="visible-xs col-xs-1">
                <div class="buttons-folk-stop">&#9724;</div>
            </div>
        </div>

        <div class="example"><br>
            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p> 
        </div>

        <div class="hidden-xs col-sm-1 stop">
            <div class="buttons-folk-stop">&#9724;</div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
    <script>
        $(document).ready(function() {

            
            var tracks = [
                {
                    artist: "Andy Stewart",
                    track: "Donald Where's Your Troosers?",
                    path: "../../samples/folk/scottishfolk1.ogg"
                },
                {
                    artist: "Matt McGinn",
                    track: "Lots Of Little Soldiers",
                    path: "../../samples/folk/scottishfolk2.ogg"
                },
                {
                    artist: "The Band Of The Scots Guards",
                    track: "Company Marches",
                    path: "../../samples/folk/scottishfolk3.ogg"
                },
                {
                    artist: "Fred Morrison",
                    track: "Train Journey North",
                    path: "../../samples/folk/scottishfolk4.ogg"
                },
                {
                    artist: "Ed Miller",
                    track: "The Lads O' The Fair",
                    path: "../../samples/folk/scottishfolk5.ogg"
                },
                {
                    artist: "The Clydesiders",
                    track: "The Soor Milk Cairt",
                    path: "../../samples/folk/scottishfolk6.ogg"
                },
                {
                    artist: "North Sea Gas",
                    track: "Kishorn Commandos",
                    path: "../../samples/folk/scottishfolk7.ogg"
                },
                {
                    artist: "Breabach",
                    track: "Good Drying",
                    path: "../../samples/folk/scottishfolk8.ogg"
                },
                {
                    artist: "Gary Innes",
                    track: "Angus Sutherland's Jigs",
                    path: "../../samples/folk/scottishfolk9.ogg"
                }
            ]

            tracks.forEach(track => {
                const audio = new Audio()
                audio.addEventListener('canplaythrough', null, false)
                audio.src = track.path
            })

            var artistSpan = $(document).find('#artist')[0]

            var track = $(document).find('#track')[0]

            var audioInstanceArray = [];

            var buttons = [];

            var audioInstance;

            $(document).find('.buttons-folk').each(function(index, button) {

                buttons.push(button);
                
                $(this).click(function() {

                    removeAllButtonBorders()

                    $(this).toggleClass('clicked');
                
                    stopAllMusic()

                    audioInstance = new Audio(tracks[index].path);
                    audioInstanceArray.push(audioInstance);
                    audioInstance.play();

                    artistSpan.innerHTML = tracks[index].artist
                    track.innerHTML = tracks[index].track

                });
            });

            $('.buttons-folk-stop').on('click', function() {

                stopAllMusic()

                artistSpan.innerHTML = ''
                track.innerHTML = ''

                removeAllButtonBorders()

            });

            var removeAllButtonBorders = () => {
                buttons.forEach(
                    button => button.className = "buttons-folk"
                )
            }

            var stopAllMusic = () => {
                 audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
            }

        });

    </script>

</body>
</html>
<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Scottish Folk</title>
    </head>

    <body class="genre" id="scottishfolk">
        <div class="box folk">
            <h1>SCOTTISH FOLK</h1>

            <p>Scottish Folk is music that uses forms that are identified as part of the Scottish musical tradition. There is evidence that there was a flourishing culture of popular music in Scotland during the late Middle Ages, but the only song with a melody to survive from this period is the "Pleugh Song". After the Reformation, the secular popular tradition of music continued, despite attempts by the Kirk &ndash; particularly in the Lowlands &ndash; to suppress dancing and events like penny weddings. The first clear reference to the use of the Highland bagpipes mentions their use at the Battle of Pinkie Cleugh in 1547. The Highlands in the early 17th century saw the development of piping families including the MacCrimmons, MacArthurs, MacGregors and the Mackays of Gairloch. This tradition continued into the 19th century, with major figures such as the fiddlers Neil and his son Nathaniel Gow. Musically, there tends to be a lot of crossover bewtween the Irish and Scottish Folk traditions due to their similar culture. As such, sometimes both styles are lumped under the umbrella term of Celtic Folk.</p>

            <div class="row icon-list">
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-folk">1</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-folk">2</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-folk">3</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-folk">4</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-folk">5</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-folk">6</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-folk">7</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-folk">8</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-folk">9</div></div>
                <div class="d-block d-lg-none col-lg-1 col-xs-1"><div class="buttons buttons-folk-stop">&FilledSmallSquare;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-lg-block col-md-1 stop"><div class="buttons buttons-folk-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Andy Stewart",
                        track: "Donald Where's Your Troosers?",
                        path: "../../samples/folk/scottishfolk1.ogg"
                    },
                    {
                        artist: "Matt McGinn",
                        track: "Lots Of Little Soldiers",
                        path: "../../samples/folk/scottishfolk2.ogg"
                    },
                    {
                        artist: "The Band Of The Scots Guards",
                        track: "Company Marches",
                        path: "../../samples/folk/scottishfolk3.ogg"
                    },
                    {
                        artist: "Fred Morrison",
                        track: "Train Journey North",
                        path: "../../samples/folk/scottishfolk4.ogg"
                    },
                    {
                        artist: "Ed Miller",
                        track: "The Lads O' The Fair",
                        path: "../../samples/folk/scottishfolk5.ogg"
                    },
                    {
                        artist: "The Clydesiders",
                        track: "The Soor Milk Cairt",
                        path: "../../samples/folk/scottishfolk6.ogg"
                    },
                    {
                        artist: "Ewan MacColl",
                        track: "Jock Hawk's Adventures In Glasgow",
                        path: "../../samples/folk/scottishfolk7.ogg"
                    },
                    {
                        artist: "Breabach",
                        track: "Good Drying",
                        path: "../../samples/folk/scottishfolk8.ogg"
                    },
                    {
                        artist: "Gary Innes",
                        track: "Angus Sutherland's Jigs",
                        path: "../../samples/folk/scottishfolk9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-folk').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-folk-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-folk"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

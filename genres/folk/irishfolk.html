<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="../../css/bootstrap.css">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Irish Folk</title>
    </head>

    <body id="irishfolk">
        <div class="box folk">
            <h1>IRISH FOLK</h1>

            <p>Traditional Irish Folk instruments typically include the cruit (a small harp) and clairseach (a bigger harp with typically 30 strings), the timpan (a small string instrument played with a bow or plectrum), the feadan (a fife), the buinne (an oboe or flute), the guthbuinne (a bassoon-type horn), the bennbuabhal and corn (hornpipes), the cuislenna (bagpipes), the stoc and sturgan (clarions or trumpets) and the cnamha (castanets). Irish traditional music has endured more strongly against the forces of cinema, radio and the mass media than the indigenous music of most European countries. This was possibly because the country was not a geographical battleground in either of the two world wars. Another potential factor was that the economy was largely agricultural, where oral tradition usually thrives. However, from the end of World War II until the late 50s, Folk music was held in low regard, but since then there has been a revival of Irish Folk music in the country with some bands even achieving international success. Historically, much old-time music of the US grew out of the music of Ireland as a result of cultural diffusion.</p>

            <div class="row">
                <div class="col-1"><div class="buttons buttons-folk">1</div></div>
                <div class="col-1"><div class="buttons buttons-folk">2</div></div>
                <div class="col-1"><div class="buttons buttons-folk">3</div></div>
                <div class="col-1"><div class="buttons buttons-folk">4</div></div>
                <div class="col-1"><div class="buttons buttons-folk">5</div></div>
                <div class="col-1"><div class="buttons buttons-folk">6</div></div>
                <div class="col-1"><div class="buttons buttons-folk">7</div></div>
                <div class="col-1"><div class="buttons buttons-folk">8</div></div>
                <div class="col-1"><div class="buttons buttons-folk">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-folk-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "The Dubliners",
                        track: "Seven Drunken Nights",
                        path: "../../samples/folk/irishfolk1.ogg"
                    },
                    {
                        artist: "The Clancy Brothers",
                        track: "Mountain Dew",
                        path: "../../samples/folk/irishfolk2.ogg"
                    },
                    {
                        artist: "The High Kings",
                        track: "The Rocky Road To Dublin",
                        path: "../../samples/folk/irishfolk3.ogg"
                    },
                    {
                        artist: "Dervish",
                        track: "Apples In Winter",
                        path: "../../samples/folk/irishfolk4.ogg"
                    },
                    {
                        artist: "Cruiskeen",
                        track: "King Of The Fairies",
                        path: "../../samples/folk/irishfolk5.ogg"
                    },
                    {
                        artist: "Cara Dillon",
                        track: "Moorlough Mary",
                        path: "../../samples/folk/irishfolk6.ogg"
                    },
                    {
                        artist: "The Irish Rovers",
                        track: "Drunken Sailor",
                        path: "../../samples/folk/irishfolk7.ogg"
                    },
                    {
                        artist: "Beoga",
                        track: "Eochaid",
                        path: "../../samples/folk/irishfolk8.ogg"
                    },
                    {
                        artist: "Brian Finnegan",
                        track: "Nightride",
                        path: "../../samples/folk/irishfolk9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-folk').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-folk-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-folk"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

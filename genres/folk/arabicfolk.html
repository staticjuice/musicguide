<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Arabic Folk</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,900" rel="stylesheet">
</head>
  
<body class="genre arabicfolk">
    <div id="box-folk">
        <h1>ARABIC FOLK</h1><br>
            
        Arab music has a long history of interaction with many other regional musical styles and genres. It is an amalgam of the music of the Arab people in the Arabian Peninsula and the music of all the peoples that make up the Arab world today. As was the case in other artistic and scientific fields, Arabs translated Greek texts and works of music and developed the musical theory of the Greeks. Both compositions and improvisations in traditional Arabic music are based on the maqam system. Maqams can be realized with either vocal or instrumental music and do not include a rhythmic component. Al-Kindi was the first great theoretician of Arabic music, who proposed adding a fifth string to the oud. The world of modern Arabic music has long been dominated by musical trends that have emerged from Cairo, Egypt. The city is generally considered a cultural centre in the Arab world. Innovations in popular music via the influence of other regional styles have also abounded from Morocco to Saudi Arabia. In recent years, Beirut has become a major centre, dictating trends in the development of Arabic Pop music.<br><br>

        <div class="row icon-list">
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-folk">1</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-folk">2</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-folk">3</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-folk">4</div>
            </div>
                
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-folk">5</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-folk">6</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-folk">7</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-folk">8</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-folk">9</div>
            </div>

            <div class="visible-xs col-xs-1">
                <div class="buttons-folk-stop">&#9724;</div>
            </div>
        </div>

        <div class="example"><br>
            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p> 
        </div>

        <div class="hidden-xs col-sm-1 stop">
            <div class="buttons-folk-stop">&#9724;</div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
    <script>
        $(document).ready(function() {

            
            var tracks = [
                {
                    artist: "Brandon Fiechter",
                    track: "Desert Sphynx",
                    path: "../../samples/folk/arabicfolk1.ogg"
                },
                {
                    artist: "Elias Rahbani",
                    track: "Ya Nassini",
                    path: "../../samples/folk/arabicfolk2.ogg"
                },
                {
                    artist: "Farid al-Atrash",
                    track: "Hezze Ya Nawaem",
                    path: "../../samples/folk/arabicfolk3.ogg"
                },
                {
                    artist: "Hossam Ramzy",
                    track: "Aziza",
                    path: "../../samples/folk/arabicfolk4.ogg"
                },
                {
                    artist: "Paolo Vivaldi & Siamak Guran",
                    track: "Bandar",
                    path: "../../samples/folk/arabicfolk5.ogg"
                },
                {
                    artist: "Mohamed Ali Ensemble",
                    track: "Badr al-Mnawar",
                    path: "../../samples/folk/arabicfolk6.ogg"
                },
                {
                    artist: "Salatin Al Tarab Orchestra",
                    track: "Ah Ya Zein",
                    path: "../../samples/folk/arabicfolk7.ogg"
                },
                {
                    artist: "Abdul Khalil Ensemble",
                    track: "Rakset Assfrour Heleywa",
                    path: "../../samples/folk/arabicfolk8.ogg"
                },
                {
                    artist: "Rahbani Brothers",
                    track: "Rahbaniyat",
                    path: "../../samples/folk/arabicfolk9.ogg"
                }
            ]

            tracks.forEach(track => {
                const audio = new Audio()
                audio.addEventListener('canplaythrough', null, false)
                audio.src = track.path
            })

            var artistSpan = $(document).find('#artist')[0]

            var track = $(document).find('#track')[0]

            var audioInstanceArray = [];

            var buttons = [];

            var audioInstance;

            $(document).find('.buttons-folk').each(function(index, button) {

                buttons.push(button);
                
                $(this).click(function() {

                    removeAllButtonBorders()

                    $(this).toggleClass('clicked');
                
                    stopAllMusic()

                    audioInstance = new Audio(tracks[index].path);
                    audioInstanceArray.push(audioInstance);
                    audioInstance.play();

                    artistSpan.innerHTML = tracks[index].artist
                    track.innerHTML = tracks[index].track

                });
            });

            $('.buttons-folk-stop').on('click', function() {

                stopAllMusic()

                artistSpan.innerHTML = ''
                track.innerHTML = ''

                removeAllButtonBorders()

            });

            var removeAllButtonBorders = () => {
                buttons.forEach(
                    button => button.className = "buttons-folk"
                )
            }

            var stopAllMusic = () => {
                 audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
            }

        });

    </script>

</body>
</html>
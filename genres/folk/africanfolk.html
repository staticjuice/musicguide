<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="../../css/bootstrap.css">
        <link rel="stylesheet" href="../../css/style.css">
        <title>African Folk</title>
    </head>

    <body id="africanfolk">
        <div class="box folk">
            <h1>AFRICAN FOLK</h1>

            <p>The traditional music of Africa, given the vastness of the continent, is historically ancient, rich and diverse, with different regions and nations of Africa having many distinct musical traditions. Music in Africa is especially important when it comes to religion and spirituality. Songs and music are used in rituals and religious ceremonies, to pass down stories from generation to generation, as well as to sing and dance to. Traditional music in most of the continent is passed down orally (or aurally) and is not written. In Sub-Saharan African music traditions, it frequently relies on percussion instruments of every variety, including xylophones, djembes, drums and tone-producing instruments such as the mbira or "thumb piano". The music and dance of the African diaspora, formed to varying degrees on African musical traditions, include American music and many Caribbean genres, such as Soca, Calypso and Zouk. Latin American music genres such as the Rumba, Conga, Bomba, Cumbia and Samba were also founded on the music of enslaved Africans, and have in turn influenced African popular music.</p>

            <div class="row">
                <div class="col-1"><div class="buttons buttons-folk">1</div></div>
                <div class="col-1"><div class="buttons buttons-folk">2</div></div>
                <div class="col-1"><div class="buttons buttons-folk">3</div></div>
                <div class="col-1"><div class="buttons buttons-folk">4</div></div>
                <div class="col-1"><div class="buttons buttons-folk">5</div></div>
                <div class="col-1"><div class="buttons buttons-folk">6</div></div>
                <div class="col-1"><div class="buttons buttons-folk">7</div></div>
                <div class="col-1"><div class="buttons buttons-folk">8</div></div>
                <div class="col-1"><div class="buttons buttons-folk">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-folk-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Black Bear Moon Rhythm Ensemble",
                        track: "Sofa",
                        path: "../../samples/folk/africanfolk1.ogg"
                    },
                    {
                        artist: "Universal African Dance & Drum Ensemble",
                        track: "Forest Dance",
                        path: "../../samples/folk/africanfolk2.ogg"
                    },
                    {
                        artist: "Farafina",
                        track: "Mogoman Wouelé",
                        path: "../../samples/folk/africanfolk3.ogg"
                    },
                    {
                        artist: "Tony Vacca",
                        track: "Baoule Dance Song",
                        path: "../../samples/folk/africanfolk4.ogg"
                    },
                    {
                        artist: "Babatunde Olatunji",
                        track: "Jin-Go-Lo-Ba (Jin-Go-Low-Bah)",
                        path: "../../samples/folk/africanfolk5.ogg"
                    },
                    {
                        artist: "Fore-Fote",
                        track: "Guine Fare",
                        path: "../../samples/folk/africanfolk6.ogg"
                    },
                    {
                        artist: "The Drummers Of Burundi",
                        track: "Extract",
                        path: "../../samples/folk/africanfolk7.ogg"
                    },
                    {
                        artist: "Sokan",
                        track: "Aīwa Bobo",
                        path: "../../samples/folk/africanfolk8.ogg"
                    },
                    {
                        artist: "Les Ballets Africains",
                        track: "Ballade Of Bolons",
                        path: "../../samples/folk/africanfolk9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-folk').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-folk-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-folk"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

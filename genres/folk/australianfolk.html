<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Australian Folk</title>
    </head>

    <body class="genre" id="australianfolk">
        <div class="box folk">
            <h1>AUSTRALIAN FOLK</h1>

            <p>Indigenous Australian music is a part of the unique heritage of a 40,000 to 60,000 year history which produced the iconic didgeridoo. The didgeridoo is played with continuously vibrating lips to produce the drone while using a special breathing technique called circular breathing. This requires breathing in through the nose whilst simultaneously expelling stored air out of the mouth using the tongue and cheeks. By use of this technique, a skilled player can replenish the air in their lungs, and with practice can sustain a note for as long as desired. Originally, the didgeridoo was primarily played as an accompaniment to ceremonial dancing and singing. However, it was also common for didgeridoos to be played for solo or recreational purposes outside of ceremonial gatherings. For surviving Aboriginal groups of northern Australia, the didgeridoo is still an integral part of ceremonial life, as it accompanies singers and dancers in cultural ceremonies that continue to this day. Today, the majority of didgeridoo playing is for recreational purposes in both indigenous Australian communities and elsewhere around the world.</p>

            <div class="row icon-list">
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-folk">1</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-folk">2</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-folk">3</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-folk">4</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-folk">5</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-folk">6</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-folk">7</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-folk">8</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-folk">9</div></div>
                <div class="d-block d-md-none col-md-1 col-xs-1"><div class="buttons buttons-folk-stop">&FilledSmallSquare;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-md-block col-md-1 stop"><div class="buttons buttons-folk-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "David Hudson",
                        track: "Trekking",
                        path: "../../samples/folk/australianfolk1.ogg"
                    },
                    {
                        artist: "Denra Durr",
                        track: "Lizard Eye",
                        path: "../../samples/folk/australianfolk2.ogg"
                    },
                    {
                        artist: "Inlakesh",
                        track: "Lair Of Never Never",
                        path: "../../samples/folk/australianfolk3.ogg"
                    },
                    {
                        artist: "John Dumas",
                        track: "Dreamtime Journey",
                        path: "../../samples/folk/australianfolk4.ogg"
                    },
                    {
                        artist: "Stephen Kent",
                        track: "Yekke",
                        path: "../../samples/folk/australianfolk5.ogg"
                    },
                    {
                        artist: "Tarshito",
                        track: "Bhairav Didge",
                        path: "../../samples/folk/australianfolk6.ogg"
                    },
                    {
                        artist: "Zalem Delarbre",
                        track: "Prashumna",
                        path: "../../samples/folk/australianfolk7.ogg"
                    },
                    {
                        artist: "Somogo",
                        track: "Labeur",
                        path: "../../samples/folk/australianfolk8.ogg"
                    },
                    {
                        artist: "Woomera",
                        track: "Coolbaroo Wungghee",
                        path: "../../samples/folk/australianfolk9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-folk').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-folk-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-folk"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

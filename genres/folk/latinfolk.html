<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Latin Folk</title>
    </head>

    <body class="genre" id="latinfolk">
        <div class="box folk">
            <h1>LATIN FOLK</h1>

            <p>Latin music refers to music originating from Latin America, namely the Romance-speaking countries and territories of the Americas and the Caribbean south of the United States. Latin music also incorporates African music from slaves who were transported to the Americas by European settlers as well as music from the indigenous peoples of the Americas. Due to its highly syncretic nature, Latin music encompasses a wide variety of styles, including Bachata, Bossa Nova, Merengue, Rumba, Salsa, Samba, Son and Tango. Geographically, it usually refers to the Spanish and Portuguese-speaking regions of Latin America, but sometimes includes Francophone countries and territories of the Caribbean and South America as well. It also encompasses Latin American styles that have originated in the United States such as Salsa and Tejano. The origins of Latin music can be traced back to the Spanish and Portuguese conquest of the Americas in the 16th century, when the European settlers brought their music from overseas. Latin music is performed in Spanish, Portuguese and to a lesser extent &ndash; French.</p>

            <div class="row icon-list">
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-folk">1</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-folk">2</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-folk">3</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-folk">4</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-folk">5</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-folk">6</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-folk">7</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-folk">8</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-folk">9</div></div>
                <div class="d-block d-lg-none col-lg-1 col-xs-1"><div class="buttons buttons-folk-stop">&FilledSmallSquare;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-lg-block col-md-1 stop"><div class="buttons buttons-folk-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Frankie Ruiz",
                        track: "Tu Con El",
                        path: "../../samples/folk/latinfolk1.ogg"
                    },
                    {
                        artist: "Gilberto Santa Rosa",
                        track: "La Agarro Bajando",
                        path: "../../samples/folk/latinfolk2.ogg"
                    },
                    {
                        artist: "Adalberto Álvarez Zayas",
                        track: "Para Bailar Casino",
                        path: "../../samples/folk/latinfolk3.ogg"
                    },
                    {
                        artist: "Pichy Valdés & Saoco Son",
                        track: "Poca Importancia",
                        path: "../../samples/folk/latinfolk4.ogg"
                    },
                    {
                        artist: "Antonio Tony Graci",
                        track: "Living Carioca",
                        path: "../../samples/folk/latinfolk5.ogg"
                    },
                    {
                        artist: "M. Aaron Heick",
                        track: "Carnaval Loco",
                        path: "../../samples/folk/latinfolk6.ogg"
                    },
                    {
                        artist: "Carey Haynes",
                        track: "Samba Mamba",
                        path: "../../samples/folk/latinfolk7.ogg"
                    },
                    {
                        artist: "Tito Nieves",
                        track: "Fabricando Fantasias",
                        path: "../../samples/folk/latinfolk8.ogg"
                    },
                    {
                        artist: "Scott Christian Marzullo",
                        track: "Rio Road To Victory",
                        path: "../../samples/folk/latinfolk9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-folk').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-folk-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-folk"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

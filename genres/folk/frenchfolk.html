<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
        <link rel="stylesheet" href="../../css/style.css">
        <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js" integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>
        <title>French Folk</title>
    </head>

    <body id="frenchfolk">
        <div class="quaternary-box folk">
            <h1>FRENCH FOLK</h1>

            <p>As Europe experienced a wave of roots revivals in the 50s and 60s, France found its regional culture reviving traditional music. Brittany, Limousin, Gascony, Corsica and Auvergne were among the regions that experienced a notable resurgence in the popularity of Folk music. Traditional styles of music had survived most in remote areas, such as the island of Corsica and mountainous Auvergne, as well as the more nationalist lands of the Basques and Bretons. In many cases, Folk traditions were revived in relatively recent years to cater to tourists. These "groupes folkloriques" tend to focus on very early 20th century melodies and the use of the piano accordion. Folk music and dance now have an established place as a popular pastime in its own right with innumerable festivals and concerts across France and a number of regular publications devoted to it. Overall, French Folk music tends to have a certain romantic sound to it. During the 30s, Gypsy Jazz began to gain significant popularity in the country, combining the traditional sounds of Swing Jazz with French Folk instruments such as the accordion.</p>

            <div id="quaternary-grid">
                <div class="quaternary-button folk-light">1</div>
                <div class="quaternary-button folk-light">2</div>
                <div class="quaternary-button folk-light">3</div>
                <div class="quaternary-button folk-light">4</div>
                <div class="quaternary-button folk-light">5</div>
                <div class="quaternary-button folk-light">6</div>
                <div class="quaternary-button folk-light">7</div>
                <div class="quaternary-button folk-light">8</div>
                <div class="quaternary-button folk-light">9</div>
            </div>

            <div class="quaternary-artisttrack" data-label="Artist:"><span id="artist"></span></div>
            <div class="quaternary-artisttrack" data-label="Track:"><span id="track"></span></div>
            <div class="quaternary-stop"><div class="quaternary-button folk-light"><i class="fa-solid fa-stop"></i></div></div>
        </div>

        <script>
            $(function() {
                const tracks = [
                    { artist: "Émile Prud'homme", track: "Caravane Rabouine", path: "../../samples/folk/frenchfolk1.ogg" },
                    { artist: "Francis Lemarque", track: "A Paris", path: "../../samples/folk/frenchfolk2.ogg" },
                    { artist: "Patrick Desaunay", track: "Le Revenant", path: "../../samples/folk/frenchfolk3.ogg" },
                    { artist: "Raymond Boisserie", track: "Réveil Musette", path: "../../samples/folk/frenchfolk4.ogg" },
                    { artist: "Morwenna", track: "Fanny De Laninon", path: "../../samples/folk/frenchfolk5.ogg" },
                    { artist: "Louis Capart", track: "Marie Jeanne Gabrielle", path: "../../samples/folk/frenchfolk6.ogg" },
                    { artist: "Startijenn", track: "Mont Ha Dont", path: "../../samples/folk/frenchfolk7.ogg" },
                    { artist: "Skolvan", track: "Trip To Skye", path: "../../samples/folk/frenchfolk8.ogg" },
                    { artist: "Tud", track: "Rond De Saint Vincent", path: "../../samples/folk/frenchfolk9.ogg" }
                ];

                const audioInstances = tracks.map(track => new Audio(track.path));
                const $artistSpan = $('#artist');
                const $trackSpan = $('#track');
                const $button = $('.quaternary-button');

                $button.on('click', function() {
                    stopAllMusic();
                    const index = $button.index(this);
                    $(this).toggleClass('clicked');
                    const audio = audioInstances[index];
                    audio.play();
                    $artistSpan.text(tracks[index].artist);
                    $trackSpan.text(tracks[index].track);
                });

                $('.quaternary-stop').on('click', function() {
                    stopAllMusic();
                    $artistSpan.text('');
                    $trackSpan.text('');
                });

                function stopAllMusic() {
                    audioInstances.forEach(audio => {
                        audio.pause();
                        audio.currentTime = 0;
                    });
                    $button.removeClass('clicked');
                }
            });
        </script>
    </body>
</html>

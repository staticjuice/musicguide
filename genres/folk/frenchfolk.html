<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../css/style.css">
        <title>French Folk</title>
    </head>

    <body class="genre" id="frenchfolk">
        <div class="box folk">
            <h1>FRENCH FOLK</h1>

            <p>As Europe experienced a wave of roots revivals in the 1950s and 1960s, France found its regional culture reviving traditional music. Brittany, Limousin, Gascony, Corsica and Auvergne were among the regions that experienced a notable resurgence in the popularity of Folk music. Traditional styles of music had survived most in remote areas, such as the island of Corsica and mountainous Auvergne, as well as the more nationalist lands of the Basques and Bretons. In many cases, Folk traditions were revived in relatively recent years to cater to tourists. These "groupes folkloriques" tend to focus on very early 20th century melodies and the use of the piano accordion. Folk music and dance now has an established place as a popular pastime in its own right with innumerable festivals, concerts and "bals folks" across France and a number of regular publications devoted to it. Overall, French Folk music tends to have a certain romantic sound to it. During the 1930s, Gypsy Jazz began to gain significant popularity in the country, combining the traditional sounds of Swing Jazz with French Folk instruments such as the accordion.</p>

            <div class="row icon-list">
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-folk">1</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-folk">2</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-folk">3</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-folk">4</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-folk">5</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-folk">6</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-folk">7</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-folk">8</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-folk">9</div></div>
                <div class="d-block d-md-none col-md-1 col-xs-1"><div class="buttons buttons-folk-stop">&FilledSmallSquare;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-md-block col-md-1 stop"><div class="buttons buttons-folk-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Émile Prud'homme",
                        track: "Caravane Rabouine",
                        path: "../../samples/folk/frenchfolk1.ogg"
                    },
                    {
                        artist: "Francis Lemarque",
                        track: "A Paris",
                        path: "../../samples/folk/frenchfolk2.ogg"
                    },
                    {
                        artist: "Patrick Desaunay",
                        track: "Le Revenant",
                        path: "../../samples/folk/frenchfolk3.ogg"
                    },
                    {
                        artist: "Raymond Boisserie",
                        track: "Réveil Musette",
                        path: "../../samples/folk/frenchfolk4.ogg"
                    },
                    {
                        artist: "Morwenna",
                        track: "Fanny De Laninon",
                        path: "../../samples/folk/frenchfolk5.ogg"
                    },
                    {
                        artist: "Louis Capart",
                        track: "Marie Jeanne Gabrielle",
                        path: "../../samples/folk/frenchfolk6.ogg"
                    },
                    {
                        artist: "Startijenn",
                        track: "Mont Ha Dont",
                        path: "../../samples/folk/frenchfolk7.ogg"
                    },
                    {
                        artist: "Skolvan",
                        track: "Trip To Skye",
                        path: "../../samples/folk/frenchfolk8.ogg"
                    },
                    {
                        artist: "Tud",
                        track: "Rond De Saint Vincent",
                        path: "../../samples/folk/frenchfolk9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-folk').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-folk-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-folk"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Glitch</title>
    </head>

    <body id="glitch">
        <div class="box experimental">
            <h1>GLITCH</h1><div class="year year-experimental">2000</div>

            <p>Glitch is another example of the fact that anything can be music and probably almost any genre already exists. Inspired by the cracking and skittering sound of broken compact discs ("CD-glitches"), some DJs and sound producers in Germany and the UK went ahead to compose entire songs of faults as if the songs were broken. Alongside glitches, often used techniques involve the addition of the well-known broken disc "clicking sound" and skipping part of the track (laser jumping), which is simply referred to as "cuts". Although CDs became less and less the staple of the music industry, the concept of a collage of unexpected error noises remained a strong influence on electronic music and could be seen as the third and arguably most real, most concrete wave of Musique Concrète. Glitch is more than just an out-of-the-box experiment &ndash; the genre symbolises the art of failure and raises philosophical questions about whether a song should be controlled and predetermined. The corresponding artwork is highly conceptual and almost an art exhibition on its own, further strengthening Glitch's metaphysical dimension.</p>

            <div class="row">
                <div class="col-1"><div class="buttons buttons-experimental">1</div></div>
                <div class="col-1"><div class="buttons buttons-experimental">2</div></div>
                <div class="col-1"><div class="buttons buttons-experimental">3</div></div>
                <div class="col-1"><div class="buttons buttons-experimental">4</div></div>
                <div class="col-1"><div class="buttons buttons-experimental">5</div></div>
                <div class="col-1"><div class="buttons buttons-experimental">6</div></div>
                <div class="col-1"><div class="buttons buttons-experimental">7</div></div>
                <div class="col-1"><div class="buttons buttons-experimental">8</div></div>
                <div class="col-1"><div class="buttons buttons-experimental">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-experimental-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.6.1.slim.min.js" integrity="sha256-w8CvhFs7iHNVUtnSP0YKEg00p9Ih13rlL9zGqvLdePA=" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Alva Noto",
                        track: "Uni Acronym",
                        path: "../../samples/experimental/glitch1.ogg"
                    },
                    {
                        artist: "Kid606",
                        track: "Dodgy",
                        path: "../../samples/experimental/glitch2.ogg"
                    },
                    {
                        artist: "Cex",
                        track: "At Least I Can Say I Tried",
                        path: "../../samples/experimental/glitch3.ogg"
                    },
                    {
                        artist: "Electric Company",
                        track: "As Am I",
                        path: "../../samples/experimental/glitch4.ogg"
                    },
                    {
                        artist: "Ben Frost",
                        track: "Híbakúsja",
                        path: "../../samples/experimental/glitch5.ogg"
                    },
                    {
                        artist: "Ilpo Väisänen",
                        track: "Tukahduttaja",
                        path: "../../samples/experimental/glitch6.ogg"
                    },
                    {
                        artist: "Porter Ricks",
                        track: "Harbour Chart",
                        path: "../../samples/experimental/glitch7.ogg"
                    },
                    {
                        artist: "Cyclo.",
                        track: "C5",
                        path: "../../samples/experimental/glitch8.ogg"
                    },
                    {
                        artist: "Peter Rehberg",
                        track: "Boxes & Angels",
                        path: "../../samples/experimental/glitch9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-experimental').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-experimental-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-experimental"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Trip Hop</title>
    </head>

    <body id="triphop">
        <div class="box experimental">
            <h1>TRIP HOP</h1><div class="year year-experimental">1994</div>

            <p>Trip Hop started within Bristol's multicultural Hip Hop scene where members of Massive Attack tried to bring Hip Hop music to a larger audience. Trip Hop became an interesting and meticulously crafted blend of styles &ndash; part Rock, part Hip Hop and part Ambient. Around the same time in the US, musicians started to experiment with slower forms of Breakbeat while adding out-of-the-box acoustic samples. Although the American and British forms of Trip Hop evolved from different paths, the result was the same &ndash; Downtempo Breakbeat with minimal instrumentation but often dramatic and/or melancholic. Trip Hop creates a surreal and moody dream world but with just the right amount of "punch" to prevent becoming background music. This makes Trip Hop very popular among marijuana users, but it also allowed a large mainstream breakthrough, especially when vocals were added. It could've been just a small and insignificant Breakbeat subgenre, but Trip Hop wouldn't settle for mediocre popularity. After Massive Attack's big breakthrough, more artists jumped on the bandwagon with successful results.</p>

            <div class="row">
                <div class="col-1"><div class="buttons buttons-experimental">1</div></div>
                <div class="col-1"><div class="buttons buttons-experimental">2</div></div>
                <div class="col-1"><div class="buttons buttons-experimental">3</div></div>
                <div class="col-1"><div class="buttons buttons-experimental">4</div></div>
                <div class="col-1"><div class="buttons buttons-experimental">5</div></div>
                <div class="col-1"><div class="buttons buttons-experimental">6</div></div>
                <div class="col-1"><div class="buttons buttons-experimental">7</div></div>
                <div class="col-1"><div class="buttons buttons-experimental">8</div></div>
                <div class="col-1"><div class="buttons buttons-experimental">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-experimental-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.6.1.slim.min.js" integrity="sha256-w8CvhFs7iHNVUtnSP0YKEg00p9Ih13rlL9zGqvLdePA=" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Massive Attack feat. Elizabeth Fraser",
                        track: "Teardrop",
                        path: "../../samples/experimental/triphop1.ogg"
                    },
                    {
                        artist: "Portishead",
                        track: "Humming",
                        path: "../../samples/experimental/triphop2.ogg"
                    },
                    {
                        artist: "BjÃ¶rk",
                        track: "Army Of Me",
                        path: "../../samples/experimental/triphop3.ogg"
                    },
                    {
                        artist: "Kognitif",
                        track: "Without Her",
                        path: "../../samples/experimental/triphop4.ogg"
                    },
                    {
                        artist: "SomehowArt",
                        track: "A Day At The Office",
                        path: "../../samples/experimental/triphop5.ogg"
                    },
                    {
                        artist: "Kno",
                        track: "Loneliness",
                        path: "../../samples/experimental/triphop6.ogg"
                    },
                    {
                        artist: "Boards Of Canada",
                        track: "Julie And Candy",
                        path: "../../samples/experimental/triphop7.ogg"
                    },
                    {
                        artist: "Sneaker Pimps",
                        track: "6 Underground",
                        path: "../../samples/experimental/triphop8.ogg"
                    },
                    {
                        artist: "Sutrastore",
                        track: "Precious Moments",
                        path: "../../samples/experimental/triphop9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-experimental').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-experimental-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-experimental"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Rocksteady</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,900" rel="stylesheet">
</head>
  
<body class="genre rocksteady">
    <div id="box-reggae">
        <h1>ROCKSTEADY</h1><br>
            
        Right after the British Merseybeat Revolution a small youth subculture, the mods, existed, that listened to their own type of Rock &amp; Roll. Almost exactly the same happened in Jamaica after the Ska revolution &ndash; young gangsters and street kids known as "rude boys" changed the happy, uptempo Ska in something they could relate to &ndash; much cooler, slower music (influenced by Soul) with an easy but powerful bass and more Rock influences such as electric guitars. This rude boy music became known as Rocksteady. And just like Punk, Hip Hop or Mod, the lyrics were more often than not about political issues, although the music sounded nowhere near as rough, but was often performed in R&amp;B-like small harmony groups. The reason for implementing political content and a slower, laidback and more serious tempo was a slowly growing discontent with the very first Jamaican government installed after the independence in 1962. Another reason for the slowing down of Jamaican music lay in the simple fact that many musicians just didn’t like to play Ska’s hyperactive rhythm.<br><br>

        <div class="row icon-list">
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-reggae">1</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-reggae">2</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-reggae">3</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-reggae">4</div>
            </div>
                
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-reggae">5</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-reggae">6</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-reggae">7</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-reggae">8</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-reggae">9</div>
            </div>

            <div class="visible-xs col-xs-1">
                <div class="buttons-reggae-stop">&#9724;</div>
            </div>
        </div>

        <div class="example"><br>
            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p> 
        </div>

        <div class="hidden-xs col-sm-1 stop">
            <div class="buttons-reggae-stop">&#9724;</div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
    <script>
        $(document).ready(function() {

            
            var tracks = [
                {
                    artist: "Hopeton Lewis",
                    track: "Rivers Of Babylon",
                    path: "../../samples/reggae/rocksteady1.ogg"
                },
                {
                    artist: "The Heptones",
                    track: "Book Of Rules",
                    path: "../../samples/reggae/rocksteady2.ogg"
                },
                {
                    artist: "The Paragons",
                    track: "The Tide Is High",
                    path: "../../samples/reggae/rocksteady3.ogg"
                },
                {
                    artist: "Alton Ellis",
                    track: "You've Made Me So Very Happy",
                    path: "../../samples/reggae/rocksteady4.ogg"
                },
                {
                    artist: "Slim Smith & The Uniques",
                    track: "My Conversation",
                    path: "../../samples/reggae/rocksteady5.ogg"
                },
                {
                    artist: "Rita Marley",
                    track: "One Draw",
                    path: "../../samples/reggae/rocksteady6.ogg"
                },
                {
                    artist: "Phyllis Dillon",
                    track: "Love The One You're With",
                    path: "../../samples/reggae/rocksteady7.ogg"
                },
                {
                    artist: "Ken Boothe",
                    track: "Puppet On A String",
                    path: "../../samples/reggae/rocksteady8.ogg"
                },
                {
                    artist: "The Melodians",
                    track: "I Will Get Along Without You",
                    path: "../../samples/reggae/rocksteady9.ogg"
                }
            ]

            tracks.forEach(track => {
                const audio = new Audio()
                audio.addEventListener('canplaythrough', null, false)
                audio.src = track.path
            })

            var artistSpan = $(document).find('#artist')[0]

            var track = $(document).find('#track')[0]

            var audioInstanceArray = [];

            var buttons = [];

            var audioInstance;

            $(document).find('.buttons-reggae').each(function(index, button) {

                buttons.push(button);
                
                $(this).click(function() {

                    removeAllButtonBorders()

                    $(this).toggleClass('clicked');
                
                    stopAllMusic()

                    audioInstance = new Audio(tracks[index].path);
                    audioInstanceArray.push(audioInstance);
                    audioInstance.play();

                    artistSpan.innerHTML = tracks[index].artist
                    track.innerHTML = tracks[index].track

                });
            });

            $('.buttons-reggae-stop').on('click', function() {

                stopAllMusic()

                artistSpan.innerHTML = ''
                track.innerHTML = ''

                removeAllButtonBorders()

            });

            var removeAllButtonBorders = () => {
                buttons.forEach(
                    button => button.className = "buttons-reggae"
                )
            }

            var stopAllMusic = () => {
                 audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
            }

        });

    </script>

</body>
</html>
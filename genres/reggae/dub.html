<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Dub</title>
    </head>

    <body id="dub">
        <div class="box reggae">
            <h1>DUB</h1><div class="year reggae-light">1972</div>

            <p>The early Reggae composers probably never thought that Dub was going to be such an important and influential genre. Dub started as instrumental B-sides or copy records of Reggae or Rocksteady records. Hence the word "dub" was derived from the name of a copy record &ndash; a dubplate. The original music is completely stripped down of all instruments and then rebuilt in the same way but entirely electronically and much slower. Dub features lots of sound effects, especially reverb and heavy subsonic bass designed to be played on typical Jamaican sound systems. One of the main characteristics of Dub manipulation is delay, which is used in many different parts of the song and often in an extensive, panoramic manner. This gives Dub its typical "wah-wah" feeling where sounds seem to bounce back from the walls and never die. All these sound effects synergise well with cannabis, which strongly influenced Dub music. Because of its pioneering technology, Dub was an important inspiration for all kinds of music and remains a living stream in the contemporary world of popular music.</p>

            <div class="row">
                <div class="col-1"><div class="buttons reggae-light">1</div></div>
                <div class="col-1"><div class="buttons reggae-light">2</div></div>
                <div class="col-1"><div class="buttons reggae-light">3</div></div>
                <div class="col-1"><div class="buttons reggae-light">4</div></div>
                <div class="col-1"><div class="buttons reggae-light">5</div></div>
                <div class="col-1"><div class="buttons reggae-light">6</div></div>
                <div class="col-1"><div class="buttons reggae-light">7</div></div>
                <div class="col-1"><div class="buttons reggae-light">8</div></div>
                <div class="col-1"><div class="buttons reggae-light">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons reggae-light">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js" integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>

        <script>
            $(function() {
                const tracks = [
                    { artist: "Joe Gibbs & The Professionals", track: "Chapter Three", path: "../../samples/reggae/dub1.ogg" },
                    { artist: "Prince Jammy", track: "Conspiracy On Neptune", path: "../../samples/reggae/dub2.ogg" },
                    { artist: "Augustus Pablo", track: "555 Dub Street", path: "../../samples/reggae/dub3.ogg" },
                    { artist: "Mad Professor", track: "Jail House Dub", path: "../../samples/reggae/dub4.ogg" },
                    { artist: "Lee 'Scratch' Perry", track: "Jah", path: "../../samples/reggae/dub5.ogg" },
                    { artist: "Jah Shaka", track: "Rastafari Dub", path: "../../samples/reggae/dub6.ogg" },
                    { artist: "Sly & The Revolutionaries", track: "Cocaine", path: "../../samples/reggae/dub7.ogg" },
                    { artist: "King Tubby", track: "Blood, Sweat And Danza Dub", path: "../../samples/reggae/dub8.ogg" },
                    { artist: "Nightshade", track: "Steppers", path: "../../samples/reggae/dub9.ogg" }
                ];

                const audioInstances = tracks.map(track => new Audio(track.path));
                const $artistSpan = $('#artist');
                const $trackSpan = $('#track');
                const $buttonRow = $('.buttons');

                $buttonRow.on('click', function() {
                    stopAllMusic();
                    const index = $buttonRow.index(this);
                    $(this).toggleClass('clicked');
                    const audio = audioInstances[index];
                    audio.play();
                    $artistSpan.text(tracks[index].artist);
                    $trackSpan.text(tracks[index].track);
                });

                $('.stop').on('click', function() {
                    stopAllMusic();
                    $artistSpan.text('');
                    $trackSpan.text('');
                });

                function stopAllMusic() {
                    audioInstances.forEach(audio => {
                        audio.pause();
                        audio.currentTime = 0;
                    });
                    $buttonRow.removeClass('clicked');
                }
            });
        </script>
    </body>
</html>

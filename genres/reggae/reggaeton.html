<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Reggaeton</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,900" rel="stylesheet">
</head>
  
<body class="genre reggaeton">
    <div id="box-reggae">
        <h1>REGGAETON</h1><br>
            
        Latin Rap, a mixture of Gangsta Rap and Latin music, proved to be a successful cocktail. The mix of exotic breakbeat rhythms (filled with brass, congas or Latin instruments) and Spanish rap lyrics created an almost unrivaled tropical atmosphere and attitude of ‘coolness’. Latin Rap was far from slow and laidback but rather spicy and furious, meant to be played at max volume while cruising through the favelas and Hispanic ghettos. Instead of adding Latin elements to Rap music (what happened in the US), artists in Puerto Rico added American Gangsta Rap to their native music (mainly heavy Bomba and a bit of Plena) creating a whole new genre &ndash; Reggaetón (which has nothing to do with Reggae, but did get influenced by Dancehall). The result was similar to Latin Rap, but the rhythm was entirely based on Bomba with no R&amp;B samples whatsoever, and the lyrics were even more explicit than Latin Rap. Reggaeton is based on the Ragga Dembow riddim, which uses the snare of a drum machine. The genre eventually made a surprising transfer to the world of Electro House, leading to Moombahton.<br><br>

        <div class="row icon-list">
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-reggae">1</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-reggae">2</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-reggae">3</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-reggae">4</div>
            </div>
                
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-reggae">5</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-reggae">6</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-reggae">7</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-reggae">8</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-reggae">9</div>
            </div>

            <div class="visible-xs col-xs-1">
                <div class="buttons-reggae-stop">&#9724;</div>
            </div>
        </div>

        <div class="example"><br>
            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p> 
        </div>

        <div class="hidden-xs col-sm-1 stop">
            <div class="buttons-reggae-stop">&#9724;</div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
    <script>
        $(document).ready(function() {

            
            var tracks = [
                {
                    artist: "Tego Calderon feat. Voltio",
                    track: "Guasa Guasa",
                    path: "../../samples/reggae/reggaeton1.ogg"
                },
                {
                    artist: "Daddy Yankee",
                    track: "Gasolina",
                    path: "../../samples/reggae/reggaeton2.ogg"
                },
                {
                    artist: "Don Omar",
                    track: "Dile",
                    path: "../../samples/reggae/reggaeton3.ogg"
                },
                {
                    artist: "Calle 13 & Orishas",
                    track: "Pa'l Norte",
                    path: "../../samples/reggae/reggaeton4.ogg"
                },
                {
                    artist: "Yandel",
                    track: "Encantadora",
                    path: "../../samples/reggae/reggaeton5.ogg"
                },
                {
                    artist: "Wisin",
                    track: "Corazon Acelerao",
                    path: "../../samples/reggae/reggaeton6.ogg"
                },
                {
                    artist: "Hector & Tito",
                    track: "Baila Morena",
                    path: "../../samples/reggae/reggaeton7.ogg"
                },
                {
                    artist: "Plan B",
                    track: "Candy",
                    path: "../../samples/reggae/reggaeton8.ogg"
                },
                {
                    artist: "Chingo Bling",
                    track: "Menudo Menudo",
                    path: "../../samples/reggae/reggaeton9.ogg"
                }
            ]

            tracks.forEach(track => {
                const audio = new Audio()
                audio.addEventListener('canplaythrough', null, false)
                audio.src = track.path
            })

            var artistSpan = $(document).find('#artist')[0]

            var track = $(document).find('#track')[0]

            var audioInstanceArray = [];

            var buttons = [];

            var audioInstance;

            $(document).find('.buttons-reggae').each(function(index, button) {

                buttons.push(button);
                
                $(this).click(function() {

                    removeAllButtonBorders()

                    $(this).toggleClass('clicked');
                
                    stopAllMusic()

                    audioInstance = new Audio(tracks[index].path);
                    audioInstanceArray.push(audioInstance);
                    audioInstance.play();

                    artistSpan.innerHTML = tracks[index].artist
                    track.innerHTML = tracks[index].track

                });
            });

            $('.buttons-reggae-stop').on('click', function() {

                stopAllMusic()

                artistSpan.innerHTML = ''
                track.innerHTML = ''

                removeAllButtonBorders()

            });

            var removeAllButtonBorders = () => {
                buttons.forEach(
                    button => button.className = "buttons-reggae"
                )
            }

            var stopAllMusic = () => {
                 audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
            }

        });

    </script>

</body>
</html>
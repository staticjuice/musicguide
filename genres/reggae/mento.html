<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Mento</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,900" rel="stylesheet">
</head>

<body class="genre" id="mento">
    <div class="box reggae">
        <h1>MENTO</h1><br>

        All Jamaican music didn’t just appear out of thin air of course. A long and diverse culture of European and African Folk music already existed on the island. This slowly led to the first real popular music genre &ndash; Mento. Mento was mostly Calypso (a Latin genre from Trinidad &amp; Tobago) with R&amp;B influences. Because Jamaica forms a junction between American, Latin and other music, Mento featured a whole plethora of different instruments, sounding more chaotic than harmonic. The most important thing however, were the unique lyrics &ndash; singers didn’t sing but spoke in a rhythmical and improvised way on top of the music, which was called “Toasting”. These “toasts” would much later be a major influence on Hip Hop and Drum &amp; Bass. Mento can be regarded as a Folk music genre instead of a popular one, but being the pioneering Jamaican music genre, it makes sense to include it. Mento artists liked to think of themselves as a part of aristocracy, because the country was still a British colony in the 50s. This is shown in nobility titles such as Prince, Lord, Count, Duke, and King, which became a bit of a tradition in Jamaican music.<br><br>

        <div class="row icon-list">
            <div class="col-sm-1 col-xs-1">
                <div class="buttons buttons-reggae">1</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons buttons-reggae">2</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons buttons-reggae">3</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons buttons-reggae">4</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons buttons-reggae">5</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons buttons-reggae">6</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons buttons-reggae">7</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons buttons-reggae">8</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons buttons-reggae">9</div>
            </div>

            <div class="visible-xs col-xs-1">
                <div class="buttons buttons-reggae-stop">&#9724;</div>
            </div>
        </div>

        <div class="example"><br>
            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
        </div>

        <div class="hidden-xs col-sm-1 stop">
            <div class="buttons buttons-reggae-stop">&#9724;</div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <script>
        $(document).ready(function() {


            var tracks = [
                {
                    artist: "Harry Belafonte",
                    track: "Banana Boat Song (Day-O)",
                    path: "../../samples/reggae/mento1.ogg"
                },
                {
                    artist: "Lord Lebby & The Jamaican Calypsonians",
                    track: "Etheopia",
                    path: "../../samples/reggae/mento2.ogg"
                },
                {
                    artist: "Lord Christo",
                    track: "Last Night The Landlord Nearly Killed Me",
                    path: "../../samples/reggae/mento3.ogg"
                },
                {
                    artist: "The Wrigglers",
                    track: "Mary Ann",
                    path: "../../samples/reggae/mento4.ogg"
                },
                {
                    artist: "Lord Flea",
                    track: "Naughty Little Flea",
                    path: "../../samples/reggae/mento5.ogg"
                },
                {
                    artist: "Count Lasher",
                    track: "Hooligans",
                    path: "../../samples/reggae/mento6.ogg"
                },
                {
                    artist: "Louise Bennett",
                    track: "Day Dah Light",
                    path: "../../samples/reggae/mento7.ogg"
                },
                {
                    artist: "Hubert Porter",
                    track: "Dry Weather House",
                    path: "../../samples/reggae/mento8.ogg"
                },
                {
                    artist: "Laurel Aitken",
                    track: "Sweet Chariot",
                    path: "../../samples/reggae/mento9.ogg"
                }
            ]

            tracks.forEach(track => {
                const audio = new Audio()
                audio.addEventListener('canplaythrough', null, false)
                audio.src = track.path
            })

            var artistSpan = $(document).find('#artist')[0]

            var track = $(document).find('#track')[0]

            var audioInstanceArray = [];

            var buttons = [];

            var audioInstance;

            $(document).find('.buttons-reggae').each(function(index, button) {

                buttons.push(button);

                $(this).click(function() {

                    removeAllButtonBorders()

                    $(this).toggleClass('clicked');

                    stopAllMusic()

                    audioInstance = new Audio(tracks[index].path);
                    audioInstanceArray.push(audioInstance);
                    audioInstance.play();

                    artistSpan.innerHTML = tracks[index].artist
                    track.innerHTML = tracks[index].track

                });
            });

            $('.buttons-reggae-stop').on('click', function() {

                stopAllMusic()

                artistSpan.innerHTML = ''
                track.innerHTML = ''

                removeAllButtonBorders()

            });

            var removeAllButtonBorders = () => {
                buttons.forEach(
                    button => button.className = "buttons buttons-reggae"
                )
            }

            var stopAllMusic = () => {
                 audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
            }

        });

    </script>

</body>
</html>

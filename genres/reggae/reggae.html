<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
        <link rel="stylesheet" href="../../css/style.css">
        <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js" integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>
        <title>Reggae</title>
    </head>

    <body id="reggae">
        <div class="quaternary-box reggae">
            <h1>REGGAE</h1><div class="quaternary-year reggae-light">1968</div>

            <p>Soon a new, slower type of Rocksteady emerged, being the first type of Jamaican music to be called "Reggae". Embedded in the sunny, warm Caribbean climate of Jamaica and influenced by the abundant availability of marijuana, Reggae doesn't sound as much reactionary as it is. But to this very day, it has never ceased to question authority. The bass guitar became Reggae's leading instrument, which dropped the first beat of a bar, creating the so-called "one-drop rhythm" which gives Reggae its characteristic offbeat sound. The rhythm staccato guitar moved to the background, but other Ska characteristics were still clearly audible. This early Reggae eventually got claimed as the subcultural music of the spiritual Rastafari movement. Rastafari is a special Jamaican faith dating back as early as the 30s, which deals about many issues that are also attributed to Reggae &ndash; religion, racism, ghetto-life, cannabis use, African roots and more. The term "Roots Reggae" is either reserved for Reggae strongly expressing Rastafari beliefs and issues or to distinguish the genre from other Jamaican music.</p>

            <div id="quaternary-grid">
                <div class="quaternary-button reggae-light">1</div>
                <div class="quaternary-button reggae-light">2</div>
                <div class="quaternary-button reggae-light">3</div>
                <div class="quaternary-button reggae-light">4</div>
                <div class="quaternary-button reggae-light">5</div>
                <div class="quaternary-button reggae-light">6</div>
                <div class="quaternary-button reggae-light">7</div>
                <div class="quaternary-button reggae-light">8</div>
                <div class="quaternary-button reggae-light">9</div>
                <div class="quaternary-stop"><div class="quaternary-button reggae-light"><i class="fa-solid fa-stop"></i></div></div>
            </div>

            <div class="quaternary-artisttrack" data-label="Artist:"><span id="artist"></span></div>
            <div class="quaternary-artisttrack" data-label="Track:"><span id="track"></span></div>
            <div class="quaternary-stop"><div class="quaternary-button reggae-light"><i class="fa-solid fa-stop"></i></div></div>
        </div>

        <script>
            $(function() {
                const tracks = [
                    { artist: "Burning Spear", track: "Marcus Garvey", path: "../../samples/reggae/reggae1.ogg" },
                    { artist: "Peter Tosh", track: "Legalize It", path: "../../samples/reggae/reggae2.ogg" },
                    { artist: "Prince Far I", track: "Heavy Manners", path: "../../samples/reggae/reggae3.ogg" },
                    { artist: "Max Romeo & The Upsetters", track: "Chase The Devil", path: "../../samples/reggae/reggae4.ogg" },
                    { artist: "Sylford Walker", track: "Burn Babylon", path: "../../samples/reggae/reggae5.ogg" },
                    { artist: "Don Carlos", track: "Fight The Revolution", path: "../../samples/reggae/reggae6.ogg" },
                    { artist: "Israel Vibration", track: "Natty Dread", path: "../../samples/reggae/reggae7.ogg" },
                    { artist: "Culture", track: "The International Herb", path: "../../samples/reggae/reggae8.ogg" },
                    { artist: "Bob Marley And The Wailers", track: "Jamming", path: "../../samples/reggae/reggae9.ogg" }
                ];

                const audioInstances = tracks.map(track => new Audio(track.path));
                const $artistSpan = $('#artist');
                const $trackSpan = $('#track');
                const $button = $('.quaternary-button');

                $button.on('click', function() {
                    stopAllMusic();
                    const index = $button.index(this);
                    $(this).toggleClass('clicked');
                    const audio = audioInstances[index];
                    audio.play();
                    $artistSpan.text(tracks[index].artist);
                    $trackSpan.text(tracks[index].track);
                });

                $('.quaternary-stop').on('click', function() {
                    stopAllMusic();
                    $artistSpan.text('');
                    $trackSpan.text('');
                });

                function stopAllMusic() {
                    audioInstances.forEach(audio => {
                        audio.pause();
                        audio.currentTime = 0;
                    });
                    $button.removeClass('clicked');
                }
            });
        </script>
    </body>
</html>

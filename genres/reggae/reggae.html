<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Reggae</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,900" rel="stylesheet">
</head>
  
<body class="genre reggae">
    <div id="box-reggae">
        <h1>REGGAE</h1><br>
            
        Soon a new, slower type of Rocksteady emerged, being the first type of Jamaican music to be called “Reggae”. Embedded in the sunny, warm Caribbean climate of Jamaica and influenced by the abundant availability of marijuana, Reggae doesn’t sound as much reactionary as it is. But to this very day it has never ceased to question authority. The bass guitar became Reggae’s leading instrument, which dropped the first beat of a bar, creating the so called “one drop rhythm” which gives Reggae its characteristic offbeat sound. The rhythm staccato guitar moved to the background, but other Ska characteristics were still clearly audible. This Early Reggae eventually got claimed as the subcultural music of the spiritual Rastafari movement. Rastafari is a special Jamaican faith dating back as early as the thirties, which deals about many issues that are also attributed to Reggae &ndash; religion, racism, ghetto-life, cannabis use, African roots and more. The term “Roots Reggae” is either reserved for Reggae strongly expressing Rastafari beliefs and issues, or to distinguish the genre from other Jamaican music.<br><br>

        <div class="row icon-list">
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-reggae">1</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-reggae">2</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-reggae">3</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-reggae">4</div>
            </div>
                
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-reggae">5</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-reggae">6</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-reggae">7</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-reggae">8</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-reggae">9</div>
            </div>

            <div class="visible-xs col-xs-1">
                <div class="buttons-reggae-stop">&#9724;</div>
            </div>
        </div>

        <div class="example"><br>
            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p> 
        </div>

        <div class="hidden-xs col-sm-1 stop">
            <div class="buttons-reggae-stop">&#9724;</div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
    <script>
        $(document).ready(function() {

            
            var tracks = [
                {
                    artist: "Burning Spear",
                    track: "Marcus Garvey",
                    path: "../../samples/reggae/reggae1.ogg"
                },
                {
                    artist: "Peter Tosh",
                    track: "Legalize It",
                    path: "../../samples/reggae/reggae2.ogg"
                },
                {
                    artist: "Prince Far I",
                    track: "Heavy Manners",
                    path: "../../samples/reggae/reggae3.ogg"
                },
                {
                    artist: "Max Romeo & The Upsetters",
                    track: "Chase The Devil",
                    path: "../../samples/reggae/reggae4.ogg"
                },
                {
                    artist: "Sylford Walker",
                    track: "Burn Babylon",
                    path: "../../samples/reggae/reggae5.ogg"
                },
                {
                    artist: "Don Carlos",
                    track: "Fight The Revolution",
                    path: "../../samples/reggae/reggae6.ogg"
                },
                {
                    artist: "Israel Vibration",
                    track: "Natty Dread",
                    path: "../../samples/reggae/reggae7.ogg"
                },
                {
                    artist: "Damian Marley",
                    track: "Welcome To Jamrock",
                    path: "../../samples/reggae/reggae8.ogg"
                },
                {
                    artist: "Bob Marley & The Wailers",
                    track: "Jamming",
                    path: "../../samples/reggae/reggae9.ogg"
                }
            ]

            var artistSpan = $(document).find('#artist')[0]

            var track = $(document).find('#track')[0]

            var audioInstanceArray = [];

            var buttons = [];

            var audioInstance;

            $(document).find('.buttons-reggae').each(function(index, button) {

                buttons.push(button);
                
                $(this).click(function() {

                    removeAllButtonBorders()

                    $(this).toggleClass('clicked');
                
                    stopAllMusic()

                    audioInstance = new Audio(tracks[index].path);
                    audioInstanceArray.push(audioInstance);
                    audioInstance.play();

                    artistSpan.innerHTML = tracks[index].artist
                    track.innerHTML = tracks[index].track

                });
            });

            $('.buttons-reggae-stop').on('click', function() {

                stopAllMusic()

                artistSpan.innerHTML = ''
                track.innerHTML = ''

                removeAllButtonBorders()

            });

            var removeAllButtonBorders = () => {
                buttons.forEach(
                    button => button.className = "buttons-reggae"
                )
            }

            var stopAllMusic = () => {
                 audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
            }

        });

    </script>

</body>
</html>
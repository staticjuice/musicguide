<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="../../css/bootstrap.css">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Ragga</title>
    </head>

    <body id="ragga">
        <div class="box reggae">
            <h1>RAGGA</h1><div class="year year-reggae">1985</div>

            <p>Ragga (short for "Raggamuffin") is purely electronic Dancehall in overdrive. With the introduction of music DAWs, producers could create digital Dancehall rhythms with lots of bass and nifty sound effects, called "riddims". Riddims had been around since the age of Dub, where they were known as the basic template of any Dub track, which is the stripped-down part of the song with enhanced drums and beat. With the advent of Ragga, Dub riddims became accelerated and many more riddims were created. After the selection of riddim, harsher and jagged sounds are added by the DJ and toasting vocals make up the work of the MC. Ragga is hyperkinetic rhythm, electrifying Jamaican dance music, unable to resist. And this is why it was a tremendous influence on later Rave and Drum &amp; Bass culture. When it comes to lyrical content, the Dancehall slackness only got worse. Ragga MCs, toasting over this booming digital Rap Reggae, have no taboos whatsoever when it comes to sexuality, promoting sex as much as possible and sometimes getting into trouble with homophobic lyrics.</p>

            <div class="row">
                <div class="col-1"><div class="buttons buttons-reggae">1</div></div>
                <div class="col-1"><div class="buttons buttons-reggae">2</div></div>
                <div class="col-1"><div class="buttons buttons-reggae">3</div></div>
                <div class="col-1"><div class="buttons buttons-reggae">4</div></div>
                <div class="col-1"><div class="buttons buttons-reggae">5</div></div>
                <div class="col-1"><div class="buttons buttons-reggae">6</div></div>
                <div class="col-1"><div class="buttons buttons-reggae">7</div></div>
                <div class="col-1"><div class="buttons buttons-reggae">8</div></div>
                <div class="col-1"><div class="buttons buttons-reggae">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-reggae-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Elephant Man",
                        track: "Nuh Linga",
                        path: "../../samples/reggae/ragga1.ogg"
                    },
                    {
                        artist: "Beenie Man",
                        track: "Romie",
                        path: "../../samples/reggae/ragga2.ogg"
                    },
                    {
                        artist: "Spragga Benz",
                        track: "Jack It Up",
                        path: "../../samples/reggae/ragga3.ogg"
                    },
                    {
                        artist: "Bounty Killer",
                        track: "Dead This Time",
                        path: "../../samples/reggae/ragga4.ogg"
                    },
                    {
                        artist: "Shabba Ranks",
                        track: "Ting-A-Ling",
                        path: "../../samples/reggae/ragga5.ogg"
                    },
                    {
                        artist: "Red Rat",
                        track: "Tight Up Skirt",
                        path: "../../samples/reggae/ragga6.ogg"
                    },
                    {
                        artist: "Cutty Ranks",
                        track: "Limb By Limb",
                        path: "../../samples/reggae/ragga7.ogg"
                    },
                    {
                        artist: "T.O.K.",
                        track: "Shake Yuh Bam Bam",
                        path: "../../samples/reggae/ragga8.ogg"
                    },
                    {
                        artist: "Capleton",
                        track: "Buggering",
                        path: "../../samples/reggae/ragga9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-reggae').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-reggae-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-reggae"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Ragga</title>
    </head>

    <body class="genre" id="ragga">
        <div class="box reggae">
            <h1>RAGGA</h1>

            <p>Ragga (short for "Raggamuffin") is purely electronic Dancehall in overdrive. With the introduction of music DAWs, producers could create digital Dancehall rhythms with lots of bass and nifty sound effects, called "riddims". Riddims had been around since the age of Dub, where they were known as the basic template of any Dub track, which is the stripped down part of the song with enhanced drums and beat. With the advent of Ragga, Dub riddims became accelerated and many more riddims were created. After the selection of riddim, harsher and jagged sounds are added by the DJ and toasting vocals make up the work of the MC. Ragga is hyperkinetic rhythm, electrifying Jamaican dance music, unable to resist. And this is why it was a tremendous influence on later Rave and Drum &amp; Bass culture. When it comes to lyrical content, the Dancehall slackness only got worse. Ragga MCs, toasting over this booming digital Rap Reggae, have no taboos whatsoever when it comes to sexuality, promoting sex as much as possible and sometimes getting into trouble with homophobic lyrics.</p>

            <div class="row icon-list">
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-reggae">1</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-reggae">2</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-reggae">3</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-reggae">4</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-reggae">5</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-reggae">6</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-reggae">7</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-reggae">8</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-reggae">9</div></div>
                <div class="d-block d-lg-none col-lg-1 col-xs-1"><div class="buttons buttons-reggae-stop">&FilledSmallSquare;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-lg-block col-md-1 stop"><div class="buttons buttons-reggae-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Elephant Man",
                        track: "Nuh Linga",
                        path: "../../samples/reggae/ragga1.ogg"
                    },
                    {
                        artist: "Beenie Man",
                        track: "Romie",
                        path: "../../samples/reggae/ragga2.ogg"
                    },
                    {
                        artist: "Capleton",
                        track: "Toppa Tings",
                        path: "../../samples/reggae/ragga3.ogg"
                    },
                    {
                        artist: "Sean Paul",
                        track: "Get Busy",
                        path: "../../samples/reggae/ragga4.ogg"
                    },
                    {
                        artist: "Shabba Ranks",
                        track: "Ting-A-Ling",
                        path: "../../samples/reggae/ragga5.ogg"
                    },
                    {
                        artist: "Red Rat",
                        track: "Tight Up Skirt",
                        path: "../../samples/reggae/ragga6.ogg"
                    },
                    {
                        artist: "Cutty Ranks",
                        track: "Limb By Limb",
                        path: "../../samples/reggae/ragga7.ogg"
                    },
                    {
                        artist: "T.O.K.",
                        track: "Shake Yuh Bam Bam",
                        path: "../../samples/reggae/ragga8.ogg"
                    },
                    {
                        artist: "Mavado",
                        track: "Nuh Bleach Wid Cream",
                        path: "../../samples/reggae/ragga9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-reggae').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-reggae-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-reggae"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

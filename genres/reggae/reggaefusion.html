<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Reggae Fusion</title>
    </head>

    <body class="genre" id="reggaefusion">
        <div class="box reggae">
            <h1>REGGAE FUSION</h1>

            <p>In the early and mid-90s the "End-of-the-Millennium" craze led to lots of ecstatic and optimistic mainstream music. Along with Eurodance, Dirty South Rap, Happy Hardcore and more, Reggae Fusion and Bhangramuffin scored high in the hit Pop charts. The former was a modern, electronic Rap version of Reggae music where the latter was the combination of Ragga and Bhangra. Bhangra, which is Indian Punjabi Folk music, was especially popular in the UK, where Reggae and Ragga were also an important and big subculture. Reggae Fusion, also referred to as Reggae Pop is also partly the breakthrough of Ragga in a more commercial environment. Some artists started as pure Ragga artists, but changed their sound into a more politically correct and lighter version. Because of Reggae Fusionâ€™s success in the hit charts, many Reggae artists started to incorporate Ragga elements in their music. Reggae Fusion and Bhangramuffin originated in different ways, but the end result was quite similar &ndash; commercial, rhythmical, happy Reggae, which was a bit heavier and Ragga, which was a bit softer.</p>

            <div class="row icon-list">
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-reggae">1</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-reggae">2</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-reggae">3</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-reggae">4</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-reggae">5</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-reggae">6</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-reggae">7</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-reggae">8</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-reggae">9</div></div>
                <div class="d-block d-md-none col-md-1 col-xs-1"><div class="buttons buttons-reggae-stop">&#9724;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-md-block col-md-1 stop"><div class="buttons buttons-reggae-stop">&#9724;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Inner Circle",
                        track: "Bad Boys",
                        path: "../../samples/reggae/reggaefusion1.ogg"
                    },
                    {
                        artist: "Shaggy",
                        track: "Boombastic",
                        path: "../../samples/reggae/reggaefusion2.ogg"
                    },
                    {
                        artist: "Snow",
                        track: "Informer",
                        path: "../../samples/reggae/reggaefusion3.ogg"
                    },
                    {
                        artist: "Apache Indian",
                        track: "Boom-Shack-A-Lak",
                        path: "../../samples/reggae/reggaefusion4.ogg"
                    },
                    {
                        artist: "Shabba Ranks",
                        track: "Mr. Loverman",
                        path: "../../samples/reggae/reggaefusion5.ogg"
                    },
                    {
                        artist: "Ini Kamoze",
                        track: "Here Comes The Hotstepper",
                        path: "../../samples/reggae/reggaefusion6.ogg"
                    },
                    {
                        artist: "Aswad",
                        track: "Shine",
                        path: "../../samples/reggae/reggaefusion7.ogg"
                    },
                    {
                        artist: "Chaka Demus & Pliers",
                        track: "Tease Me",
                        path: "../../samples/reggae/reggaefusion8.ogg"
                    },
                    {
                        artist: "Tiger",
                        track: "Bam Bam",
                        path: "../../samples/reggae/reggaefusion9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-reggae').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-reggae-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-reggae"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

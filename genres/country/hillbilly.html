<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Hillbilly</title>
    </head>

    <body class="genre" id="hillbilly">
        <div class="box country">
            <h1>HILLBILLY</h1>

            <p>Before Country, there was already evidence of a type of music played by white Americans living in the hills or rural areas (the countryside, especially Appalachia) and (so-the-tale-goes) often named Billy &ndash; the Hillbillies. They made acoustic music with whatever instrument they could lay their hands on &ndash; classic guitar, fiddle, mandolin, banjo, bass and later Hawaiian-style slide guitar. All these instruments produced sharp, short tones fitting for the rough, mountainous environment. Irish and British Folk music, popular among European immigrants in the US, laid the foundations for a new kind of hymn that formed the blueprint for Country. And under the influence of Blues and Celtic Folk, this liquor- (and gun-) fueled proto-Country or Hillbilly music gradually became a whole new group of music. The lyrics of Hillbilly dealt with individual stories like Blues, but were more suited for a younger audience (there was no place for sex and drugs in Hillbilly). Country describes tales which support family values, despite a degree of drinking and shooting that went along with the music.</p>

            <div class="row icon-list">
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-country">1</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-country">2</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-country">3</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-country">4</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-country">5</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-country">6</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-country">7</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-country">8</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-country">9</div></div>
                <div class="d-block d-lg-none col-lg-1 col-xs-1"><div class="buttons buttons-country-stop">&FilledSmallSquare;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-lg-block col-md-1 stop"><div class="buttons buttons-country-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Jimmie Rodgers",
                        track: "Waiting For A Train",
                        path: "../../samples/country/hillbilly1.ogg"
                    },
                    {
                        artist: "The Carter Family",
                        track: "Will You Miss Me When I'm Gone?",
                        path: "../../samples/country/hillbilly2.ogg"
                    },
                    {
                        artist: "Vernon Dalhart",
                        track: "Wreck Of The Old 97",
                        path: "../../samples/country/hillbilly3.ogg"
                    },
                    {
                        artist: "Roy Acuff",
                        track: "Great Speckled Bird",
                        path: "../../samples/country/hillbilly4.ogg"
                    },
                    {
                        artist: "The Texas Drifter",
                        track: "The Drifter",
                        path: "../../samples/country/hillbilly5.ogg"
                    },
                    {
                        artist: "Cliff Carlisle",
                        track: "Shanghai Rooster Yodel",
                        path: "../../samples/country/hillbilly6.ogg"
                    },
                    {
                        artist: "Carl T. Sprague",
                        track: "When The Work's All Done This Fall",
                        path: "../../samples/country/hillbilly7.ogg"
                    },
                    {
                        artist: "Fiddlin' John Carson",
                        track: "Little Old Log Cabin In The Lane",
                        path: "../../samples/country/hillbilly8.ogg"
                    },
                    {
                        artist: "Harry McClintock",
                        track: "Hallelujah, I'm A Bum",
                        path: "../../samples/country/hillbilly9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-country').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-country-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-country"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

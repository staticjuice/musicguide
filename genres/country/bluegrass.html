<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bluegrass</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,900" rel="stylesheet">
</head>
  
<body class="genre bluegrass">
    <div id="box-country">
        <h1>BLUEGRASS</h1><br>
            
        Bluegrass music grew out of traditional string band music that formed the roots of country music. A lot of focus was put on the strings, which were fiercely fiddled, to create another type of Classic Country, called Bluegrass. Bluegrass took its name from one of the first practicing bands: Bill Monroe and the Bluegrass Boys, who in their turn were named after the state Kentucky aka “the Bluegrass Country”. Bluegrass is that typical, atmospheric, hi-pitched, hyperactive country most people know. Violins are very common, alongside mandolin, guitar and banjo. Although Bluegrass sounds like it’s not taking itself seriously, it is actually very reactionary and serious music, rising up against authority. Bluegrass is more zealous than other country genres, spreading forth revolution and highly religious messages, like a musical crusade. A bit like political Folk music one could say, but with a certain supercharged overdrive. Bluegrass swears off electric instruments and is always completely acoustic, like Folk. Improvisation or freewheeling is also a key Bluegrass element.<br><br>

        <div class="row icon-list">
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-country">1</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-country">2</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-country">3</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-country">4</div>
            </div>
                
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-country">5</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-country">6</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-country">7</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-country">8</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-country">9</div>
            </div>

            <div class="visible-xs col-xs-1">
                <div class="buttons-country-stop">&#9724;</div>
            </div>
        </div>

        <div class="example"><br>
            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p> 
        </div>

        <div class="hidden-xs col-sm-1 stop">
            <div class="buttons-country-stop">&#9724;</div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
    <script>
        $(document).ready(function() {

            
            var tracks = [
                {
                    artist: "Bill Monroe & His Blue Grass Boys",
                    track: "Uncle Pen",
                    path: "../../samples/country/bluegrass1.ogg"
                },
                {
                    artist: "The Stanley Brothers",
                    track: "I'm A Man Of Constant Sorrow",
                    path: "../../samples/country/bluegrass2.ogg"
                },
                {
                    artist: "The Kingston Trio",
                    track: "M.T.A.",
                    path: "../../samples/country/bluegrass3.ogg"
                },
                {
                    artist: "Alison Krauss & Union Station",
                    track: "Two Highways",
                    path: "../../samples/country/bluegrass4.ogg"
                },
                {
                    artist: "Flatt & Scruggs",
                    track: "Foggy Mountain Breakdown",
                    path: "../../samples/country/bluegrass5.ogg"
                },
                {
                    artist: "The Osborne Brothers",
                    track: "Rocky Top",
                    path: "../../samples/country/bluegrass6.ogg"
                },
                {
                    artist: "Dailey & Vincent",
                    track: "Head Hung Down",
                    path: "../../samples/country/bluegrass7.ogg"
                },
                {
                    artist: "Ralph Stanley",
                    track: "Clinch Mountain Backstep",
                    path: "../../samples/country/bluegrass8.ogg"
                },
                {
                    artist: "The Johnson Mountain Boys",
                    track: "Last Goodbye",
                    path: "../../samples/country/bluegrass9.ogg"
                }
            ]

            var artistSpan = $(document).find('#artist')[0]

            var track = $(document).find('#track')[0]

            var audioInstanceArray = [];

            var buttons = [];

            var audioInstance;

            $(document).find('.buttons-country').each(function(index, button) {

                buttons.push(button);
                
                $(this).click(function() {

                    removeAllButtonBorders()

                    $(this).toggleClass('clicked');
                
                    stopAllMusic()

                    audioInstance = new Audio(tracks[index].path);
                    audioInstanceArray.push(audioInstance);
                    audioInstance.play();

                    artistSpan.innerHTML = tracks[index].artist
                    track.innerHTML = tracks[index].track

                });
            });

            $('.buttons-country-stop').on('click', function() {

                stopAllMusic()

                artistSpan.innerHTML = ''
                track.innerHTML = ''

                removeAllButtonBorders()

            });

            var removeAllButtonBorders = () => {
                buttons.forEach(
                    button => button.className = "buttons-country"
                )
            }

            var stopAllMusic = () => {
                 audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
            }

        });

    </script>

</body>
</html>
<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Alternative Country</title>
    </head>

    <body class="genre" id="alternativecountry">
        <div class="box country">
            <h1>ALTERNATIVE COUNTRY</h1>

            <p>Alternative Country refers to Country bands that play traditional Country but bend the rules slightly. They don't conform to Nashville's hitmaking traditions, nor do they follow the accepted "outlaw" route to notoriety. In broad terms, Alternative Country is any type of Country music that doesn't belong to another genre. Yet this is a rather vague definition and a more constrained, stricter meaning of the genre exists as well. Urban Country, coming from the big city and big record companies, is considered the mainstream Country of the 80s and 90s. But the genre was despised by many for its extensive production of shallow love songs. The alternative anti-school that followed it in the mid-90s wanted to make real tragic and strongly sincere music. It was Singer-Songwriter music &ndash; acoustically made and with a message, often political in nature. Considering the fact that Alternative Country is unpredictable and anti-mainstream music, it is neither urban nor rural. And thus it forms a bridge between these two Country worlds, connecting "hardcore" Country musicians with "softshell" ones.</p>

            <div class="row icon-list">
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-country">1</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-country">2</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-country">3</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-country">4</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-country">5</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-country">6</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-country">7</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-country">8</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-country">9</div></div>
                <div class="d-block d-lg-none col-lg-1 col-xs-1"><div class="buttons buttons-country-stop">&FilledSmallSquare;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-lg-block col-md-1 stop"><div class="buttons buttons-country-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Uncle Tupelo",
                        track: "Moonshiner",
                        path: "../../samples/country/alternativecountry1.ogg"
                    },
                    {
                        artist: "Sturgill Simpson",
                        track: "In Bloom",
                        path: "../../samples/country/alternativecountry2.ogg"
                    },
                    {
                        artist: "Lambchop",
                        track: "Up With People",
                        path: "../../samples/country/alternativecountry3.ogg"
                    },
                    {
                        artist: "Wilco",
                        track: "Jesus, Etc.",
                        path: "../../samples/country/alternativecountry4.ogg"
                    },
                    {
                        artist: "The Jayhawks",
                        track: "Bird Never Flies",
                        path: "../../samples/country/alternativecountry5.ogg"
                    },
                    {
                        artist: "Jason Isbell",
                        track: "Something More Than Free",
                        path: "../../samples/country/alternativecountry6.ogg"
                    },
                    {
                        artist: "The Flatlanders",
                        track: "Jole Blon",
                        path: "../../samples/country/alternativecountry7.ogg"
                    },
                    {
                        artist: "The Handsome Family",
                        track: "Far From Any Road",
                        path: "../../samples/country/alternativecountry8.ogg"
                    },
                    {
                        artist: "Drive-By Truckers",
                        track: "Goddamn Lonely Love",
                        path: "../../samples/country/alternativecountry9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-country').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-country-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-country"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

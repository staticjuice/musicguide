<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Outlaw Country</title>
    </head>

    <body class="genre" id="outlawcountry">
        <div class="box country">
            <h1>OUTLAW COUNTRY</h1>

            <p>Outlaw Country was one of the more significant trends in Country music in the 70s. During that decade, many of the most popular Honky Tonk singers of the 60s softened their sound slightly, moving away from their Honky Tonk roots. While the outlaws weren't strictly Honky Tonk &ndash; they were as much storytellers in the tradition of Folk songwriters as they were Honky Tonk vocalists &ndash; they kept that spirit alive. Outlaws didn't play by Nashville's rules. They didn't change their music to fit the heavily produced, Pop-oriented Nashville Sound, nor did they go out of their way to fit into the accepted conventions of Country music. Instead, they created an edgy form of Honky Tonk that was influenced by Rock &amp; Roll, Folk and Blues. At the end of the 70s, the Urban Cowboy movement easily eclipsed the Outlaw movement in terms of commercial appeal, but the Outlaws had a lasting influence. During the 80s, certain Neo-Traditionalists owed a bit of their sound to the Outlaws, while a whole breed of songwriters, led by Steve Earle, demonstrated a massive debt to the Outlaws and their fusion of Country, Folk and Rock.</p>

            <div class="row icon-list">
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-country">1</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-country">2</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-country">3</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-country">4</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-country">5</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-country">6</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-country">7</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-country">8</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-country">9</div></div>
                <div class="d-block d-lg-none col-lg-1 col-xs-1"><div class="buttons buttons-country-stop">&FilledSmallSquare;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-lg-block col-md-1 stop"><div class="buttons buttons-country-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Waylon Jennings",
                        track: "Lonesome, On'ry And Mean",
                        path: "../../samples/country/outlawcountry1.ogg"
                    },
                    {
                        artist: "Willie Nelson",
                        track: "Hard To Be An Outlaw",
                        path: "../../samples/country/outlawcountry2.ogg"
                    },
                    {
                        artist: "Kris Kristofferson",
                        track: "It's Never Gonna Be The Same Again",
                        path: "../../samples/country/outlawcountry3.ogg"
                    },
                    {
                        artist: "Hank Williams Jr.",
                        track: "A Country Boy Can Survive",
                        path: "../../samples/country/outlawcountry4.ogg"
                    },
                    {
                        artist: "Townes Van Zandt",
                        track: "Pancho And Lefty",
                        path: "../../samples/country/outlawcountry5.ogg"
                    },
                    {
                        artist: "David Allan Coe",
                        track: "Longhaired Redneck",
                        path: "../../samples/country/outlawcountry6.ogg"
                    },
                    {
                        artist: "Billy Joe Shaver",
                        track: "Black Rose",
                        path: "../../samples/country/outlawcountry7.ogg"
                    },
                    {
                        artist: "Steve Goodman",
                        track: "How Much Tequila (Did I Drink Last Night?)",
                        path: "../../samples/country/outlawcountry8.ogg"
                    },
                    {
                        artist: "Joe Diffie",
                        track: "Prop Me Up Beside The Jukebox (If I Die)",
                        path: "../../samples/country/outlawcountry9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-country').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-country-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-country"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="../../css/bootstrap.css">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Emo</title>
    </head>

    <body id="emo">
        <div class="box indie">
            <h1>EMO</h1>

            <p>During the 2000s, the earliest crossovers between Emocore and Alternative Rock start to take hold. By drifting further away from Hardcore towards Alternative, a broader audience could be reached. However, Emo bears little resemblance to its predecessor Emocore &ndash; the genre is more a sentimental and emotional form of Rock than an alternative version of Emocore. The first wave of Emo bands delivered open-hearted lyrics and compelling power chords in a jacket of heavy distortion riffs. Major record labels realise the potential of Emo while opportunistic bands arise, which use the stereotypical image of "Emo" to sell their music to teens. Emo becomes a marketing tool, complete with the fashion of tight jeans, heavy make-up, black and white clothes and long fringes. With far more shallow lyrics than the first wave of Emocore bands, the mainstream appeal of Emo becomes so large that a brief but intense Emo hype takes hold. By now the term "Emo" has become familiar to the general public and a well established teenage subculture, with virtually every school in the Western world featuring their own Emo subculture.</p>

            <div class="row icon-list">
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-indie">1</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-indie">2</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-indie">3</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-indie">4</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-indie">5</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-indie">6</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-indie">7</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-indie">8</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-indie">9</div></div>
                <div class="d-lg-none col-lg-1 col-xs-1"><div class="buttons buttons-indie-stop">&FilledSmallSquare;</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="d-none d-lg-block col-md-1 stop"><div class="buttons buttons-indie-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "The Get Up Kids",
                        track: "Action & Action",
                        path: "../../samples/indie/emo1.ogg"
                    },
                    {
                        artist: "My Chemical Romance",
                        track: "Welcome To The Black Parade",
                        path: "../../samples/indie/emo2.ogg"
                    },
                    {
                        artist: "Jimmy Eat World",
                        track: "Pain",
                        path: "../../samples/indie/emo3.ogg"
                    },
                    {
                        artist: "Fall Out Boy",
                        track: "The Phoenix",
                        path: "../../samples/indie/emo4.ogg"
                    },
                    {
                        artist: "Paramore",
                        track: "Emergency",
                        path: "../../samples/indie/emo5.ogg"
                    },
                    {
                        artist: "Tokio Hotel",
                        track: "Monsoon",
                        path: "../../samples/indie/emo6.ogg"
                    },
                    {
                        artist: "The All-American Rejects",
                        track: "It Ends Tonight",
                        path: "../../samples/indie/emo7.ogg"
                    },
                    {
                        artist: "Evanescence",
                        track: "Bring Me To Life",
                        path: "../../samples/indie/emo8.ogg"
                    },
                    {
                        artist: "The Rasmus",
                        track: "In The Shadows",
                        path: "../../samples/indie/emo9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-indie').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-indie-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-indie"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

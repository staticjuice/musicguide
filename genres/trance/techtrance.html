<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="../../css/bootstrap.css">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Tech Trance</title>
    </head>

    <body id="techtrance">
        <div class="box trance">
            <h1>TECH TRANCE</h1>

            <p>Tech Trance is the middle ground between Techno and Trance. Tech Trance differs from other styles of Trance by lacking build-ups or breakdowns, and melody is approached with restraint &ndash; no arpeggios, progressive evolution or multi-layering. Its Trance personality lies in the conjunction of distorted synthesised sounds into a repetitive leitmotif, over and over again. This is Tech Trance's most recognisable trademark. One can hardly describe this motif as melody in a traditional, hypnotic Trance manner. Innovative and intensive use of delay on a recurring series of hard synth notes turns the genre more into a one-trick-pony, but with perfect execution of that trick. Tech Trance is also responsible for introducing side-chaining into the world of EDM &ndash; a technology to reduce the volume of certain frequencies, which is often used to create the illusion of a loud bassline. Though originated at the end of the 90s, it wasn't until much later that Tech Trance rose to the foreground. Compared to other Trance genres, Tech Trance is more uptempo and features an abundance of percussion assembled into complex, rushing rhythms.</p>

            <div class="row icon-list">
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-trance">1</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-trance">2</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-trance">3</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-trance">4</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-trance">5</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-trance">6</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-trance">7</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-trance">8</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-trance">9</div></div>
                <div class="d-lg-none col-lg-1 col-xs-1"><div class="buttons buttons-trance-stop">&FilledSmallSquare;</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="d-none d-lg-block col-md-1 stop"><div class="buttons buttons-trance-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Darren Porter",
                        track: "Deep Blue",
                        path: "../../samples/trance/techtrance1.ogg"
                    },
                    {
                        artist: "Bart Claessen & Dave Schiemann",
                        track: "Madness (I Prefer That Mix)",
                        path: "../../samples/trance/techtrance2.ogg"
                    },
                    {
                        artist: "Ummet Ozcan",
                        track: "Timewave Zero",
                        path: "../../samples/trance/techtrance3.ogg"
                    },
                    {
                        artist: "Darude",
                        track: "In The Darkness (Tech Instrumental)",
                        path: "../../samples/trance/techtrance4.ogg"
                    },
                    {
                        artist: "Wezz Devall",
                        track: "The Big Adventure (Ruben De Ronde Remix)",
                        path: "../../samples/trance/techtrance5.ogg"
                    },
                    {
                        artist: "Matt Skyer",
                        track: "Throwing Swords",
                        path: "../../samples/trance/techtrance6.ogg"
                    },
                    {
                        artist: "RafaÃ«l Frost",
                        track: "Flashback",
                        path: "../../samples/trance/techtrance7.ogg"
                    },
                    {
                        artist: "Marco V",
                        track: "Any Better, Or?",
                        path: "../../samples/trance/techtrance8.ogg"
                    },
                    {
                        artist: "Hughes & Ballantine",
                        track: "Jawbreak-R",
                        path: "../../samples/trance/techtrance9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-trance').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-trance-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-trance"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

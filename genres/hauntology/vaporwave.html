<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="../../css/bootstrap.css">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Vaporwave</title>
    </head>

    <body id="vaporwave">
        <div class="box hauntology">
            <h1>VAPORWAVE</h1>

            <p>Vaporwave can be credited with the only metaphysically reactionary genre of the last decade. The subculture associated with Vaporwave sets out to satirise consumer capitalism and popular culture and tends to be characterised by a nostalgic or surrealist engagement with the popular entertainment, technology and advertising of the 80s and 90s. It also incorporates early Internet imagery, 90s web design and Japanese glyphs. Connotations of mass-consumerism and capitalistic technology spring automatically forth out of the 80s synth melodies, but also get a satirical overhaul by sound manipulation (compression and slow-motion) to create a corporate office/shopping mall background aesthetic. These sounds can either have a Disco, Smooth Jazz or Pop origin to further strengthen their parody on commercialism, just like the brand-based artist names. Many Vaporwave artists dwell in anonymity, and release unknown (often illegally sampled) music onto the masses, spurring the debate about music integrity and artist liberation versus intellectual property.</p>

            <div class="row icon-list">
                <div class="col-1"><div class="buttons buttons-hauntology">1</div></div>
                <div class="col-1"><div class="buttons buttons-hauntology">2</div></div>
                <div class="col-1"><div class="buttons buttons-hauntology">3</div></div>
                <div class="col-1"><div class="buttons buttons-hauntology">4</div></div>
                <div class="col-1"><div class="buttons buttons-hauntology">5</div></div>
                <div class="col-1"><div class="buttons buttons-hauntology">6</div></div>
                <div class="col-1"><div class="buttons buttons-hauntology">7</div></div>
                <div class="col-1"><div class="buttons buttons-hauntology">8</div></div>
                <div class="col-1"><div class="buttons buttons-hauntology">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-hauntology-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "ESPRIT 空想",
                        track: "Whispers.Wav",
                        path: "../../samples/hauntology/vaporwave1.ogg"
                    },
                    {
                        artist: "MACINTOSH PLUS",
                        track: "リサフランク420 / 現代のコンピュー",
                        path: "../../samples/hauntology/vaporwave2.ogg"
                    },
                    {
                        artist: "Saint Pepsi",
                        track: "Enjoy Yourself",
                        path: "../../samples/hauntology/vaporwave3.ogg"
                    },
                    {
                        artist: "k y a r a 永遠に",
                        track: "ATLASスポーツカー",
                        path: "../../samples/hauntology/vaporwave4.ogg"
                    },
                    {
                        artist: "Desired",
                        track: "Commercial Break",
                        path: "../../samples/hauntology/vaporwave5.ogg"
                    },
                    {
                        artist: "Balents",
                        track: "(Fitness Area)Fitness Center",
                        path: "../../samples/hauntology/vaporwave6.ogg"
                    },
                    {
                        artist: "CYBEREALITYライフ",
                        track: "サービスのカタログ http://www.virtualresort.org",
                        path: "../../samples/hauntology/vaporwave7.ogg"
                    },
                    {
                        artist: "BBRAINZ",
                        track: "DATA TOUCH DELUXE",
                        path: "../../samples/hauntology/vaporwave8.ogg"
                    },
                    {
                        artist: "18 Carat Affair",
                        track: "Desire",
                        path: "../../samples/hauntology/vaporwave9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-hauntology').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-hauntology-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-hauntology"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

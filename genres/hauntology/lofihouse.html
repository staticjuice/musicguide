<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
        <link rel="stylesheet" href="../../css/style.css">
        <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js" integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>
        <title>Lofi House</title>
    </head>

    <body id="lofihouse">
        <div class="quaternary-box hauntology">
            <h1>LOFI HOUSE</h1><div class="quaternary-year hauntology-light">2016</div>

            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum interdum enim. Fusce scelerisque urna ipsum. Nam eget sapien hendrerit, feugiat metus ac, euismod lectus. Etiam tincidunt lacus eu est efficitur, et vestibulum orci commodo. Nulla id elit velit. Duis consequat pharetra ultrices. Proin id nunc risus. Vivamus eget elit lectus. Donec vitae mauris vitae ipsum dictum elementum at vitae magna. Pellentesque condimentum erat ut libero sagittis malesuada. Fusce et nisi arcu. Quisque lacinia malesuada nisl. Aenean nisi nunc, pulvinar quis lacus et, luctus laoreet arcu. Etiam aliquam mollis metus in consequat. Proin ac ultricies lectus. Sed imperdiet tortor elit. Cras vel magna nec purus ornare dignissim. Aliquam quis efficitur tellus, blandit pretium quam. Aliquam ultricies dolor quis elit egestas, ac imperdiet sem molestie. Praesent vestibulum enim et malesuada tincidunt. Duis elementum dapibus quam, et maximus sem varius in. Vestibulum ullamcorper varius molestie. Praesent nec nibh tincidunt, aliquam urna quis, facilisis lectus. Vivamus luctus, lorem in lacinia laoreet, dui dui auctor massa.</p>

            <div id="quaternary-grid">
                <div class="quaternary-grid-item"><div class="quaternary-button hauntology-light">1</div></div>
                <div class="quaternary-grid-item"><div class="quaternary-button hauntology-light">2</div></div>
                <div class="quaternary-grid-item"><div class="quaternary-button hauntology-light">3</div></div>
                <div class="quaternary-grid-item"><div class="quaternary-button hauntology-light">4</div></div>
                <div class="quaternary-grid-item"><div class="quaternary-button hauntology-light">5</div></div>
                <div class="quaternary-grid-item"><div class="quaternary-button hauntology-light">6</div></div>
                <div class="quaternary-grid-item"><div class="quaternary-button hauntology-light">7</div></div>
                <div class="quaternary-grid-item"><div class="quaternary-button hauntology-light">8</div></div>
                <div class="quaternary-grid-item"><div class="quaternary-button hauntology-light">9</div></div>
            </div>

            <div class="quaternary-artisttrack" data-label="Artist:"><span id="artist"></span></div>
            <div class="quaternary-artisttrack" data-label="Track:"><span id="track"></span></div>
            <div class="quaternary-stop"><div class="quaternary-button hauntology-light"><i class="fa-solid fa-stop"></i></div></div>
        </div>

        <script>
            $(function() {
                const tracks = [
                    { artist: "upper class", track: "Warehouse Gang", path: "../../samples/hauntology/lofihouse1.ogg" },
                    { artist: "", track: "", path: "../../samples/hauntology/lofihouse2.ogg" },
                    { artist: "", track: "", path: "../../samples/hauntology/lofihouse3.ogg" },
                    { artist: "", track: "", path: "../../samples/hauntology/lofihouse4.ogg" },
                    { artist: "", track: "", path: "../../samples/hauntology/lofihouse5.ogg" },
                    { artist: "", track: "", path: "../../samples/hauntology/lofihouse6.ogg" },
                    { artist: "", track: "", path: "../../samples/hauntology/lofihouse7.ogg" },
                    { artist: "", track: "", path: "../../samples/hauntology/lofihouse8.ogg" },
                    { artist: "", track: "", path: "../../samples/hauntology/lofihouse9.ogg" }
                ];

                const audioInstances = tracks.map(track => new Audio(track.path));
                const $artistSpan = $('#artist');
                const $trackSpan = $('#track');
                const $button = $('.quaternary-button');

                $button.on('click', function() {
                    stopAllMusic();
                    const index = $button.index(this);
                    $(this).toggleClass('clicked');
                    const audio = audioInstances[index];
                    audio.play();
                    $artistSpan.text(tracks[index].artist);
                    $trackSpan.text(tracks[index].track);
                });

                $('.quaternary-stop').on('click', function() {
                    stopAllMusic();
                    $artistSpan.text('');
                    $trackSpan.text('');
                });

                function stopAllMusic() {
                    audioInstances.forEach(audio => {
                        audio.pause();
                        audio.currentTime = 0;
                    });
                    $button.removeClass('clicked');
                }
            });
        </script>
    </body>
</html>

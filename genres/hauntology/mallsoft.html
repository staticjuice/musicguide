<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
        <link rel="stylesheet" href="../../css/style.css">
        <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js" integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>
        <title>Mallsoft</title>
    </head>

    <body id="mallsoft">
        <div class="quaternary-box hauntology">
            <h1>MALLSOFT</h1><div class="quaternary-year hauntology-light">2014</div>

            <p>Mallsoft is distinct from its cousin Vaporwave by using ethereal, vague music that is very easily looped as "background" music. The genius of Mallsoft is that it's not meant to be paid attention to, it's not distinct. It's meant to be left on repeat while the listener does other things. The repetition of the music eventually forces its way into the listener's mind subconsciously, to be recalled at later date as a memory of something that may or may not have happened. The origins of Mallsoft lie in the earliest explorations of Vaporwave, where the concept of malls as large, soulless spaces of consumerism were evoked in some Vaporwave tracks as a means of exploring the social ramifications of capitalism and globalisation. While that approach has largely petered out in favour of pure sonic exploration/expression, Mallsoft is one of the few subgenres where such a concept is intrinsic to its being. The purpose of Mallsoft is to evoke the feeling of walking through an abandoned (or hyper-populated) mall, with the PA speakers playing the same poorly-mixed tunes that haven't been updated since they were put to corporate tape in the 80s.</p>

            <div id="quaternary-grid">
                <div class="quaternary-button hauntology-light">1</div>
                <div class="quaternary-button hauntology-light">2</div>
                <div class="quaternary-button hauntology-light">3</div>
                <div class="quaternary-button hauntology-light">4</div>
                <div class="quaternary-button hauntology-light">5</div>
                <div class="quaternary-button hauntology-light">6</div>
                <div class="quaternary-button hauntology-light">7</div>
                <div class="quaternary-button hauntology-light">8</div>
                <div class="quaternary-button hauntology-light">9</div>
                <div id="quaternary-stop"><div class="quaternary-button hauntology-light"><i class="fa-solid fa-stop"></i></div></div>
            </div>

            <div class="quaternary-artisttrack" data-label="Artist:"><span id="artist"></span></div>
            <div class="quaternary-artisttrack" data-label="Track:"><span id="track"></span></div>
            <div id="quaternary-stop"><div class="quaternary-button hauntology-light"><i class="fa-solid fa-stop"></i></div></div>
        </div>

        <script>
            $(function() {
                const tracks = [
                    { artist: "식료품groceries", track: "Intrance (Realities)", path: "../../samples/hauntology/mallsoft1.ogg" },
                    { artist: "Incorporeal Visions Deluxe", track: "Causal Work Attire", path: "../../samples/hauntology/mallsoft2.ogg" },
                    { artist: "猫 シ Corp.", track: "FORUM 消 費 者[kuluttaja]", path: "../../samples/hauntology/mallsoft3.ogg" },
                    { artist: "Vapora", track: "Visitor Center", path: "../../samples/hauntology/mallsoft4.ogg" },
                    { artist: "18 Carat Affair", track: "Mall Shopping", path: "../../samples/hauntology/mallsoft5.ogg" },
                    { artist: "NetMD", track: "Department Store", path: "../../samples/hauntology/mallsoft6.ogg" },
                    { artist: "Wolfenstein OS X", track: "Grocery Shopping", path: "../../samples/hauntology/mallsoft7.ogg" },
                    { artist: "PowerPCME", track: "The Kmart Dream", path: "../../samples/hauntology/mallsoft8.ogg" },
                    { artist: "Sam Clunie", track: "Shopping Mall Elevator", path: "../../samples/hauntology/mallsoft9.ogg" }
                ];

                const audioInstances = tracks.map(track => new Audio(track.path));
                const $artistSpan = $('#artist');
                const $trackSpan = $('#track');
                const $button = $('.quaternary-button');

                $button.on('click', function() {
                    stopAllMusic();
                    const index = $button.index(this);
                    $(this).toggleClass('clicked');
                    const audio = audioInstances[index];
                    audio.play();
                    $artistSpan.text(tracks[index].artist);
                    $trackSpan.text(tracks[index].track);
                });

                $('.quaternary-stop').on('click', function() {
                    stopAllMusic();
                    $artistSpan.text('');
                    $trackSpan.text('');
                });

                function stopAllMusic() {
                    audioInstances.forEach(audio => {
                        audio.pause();
                        audio.currentTime = 0;
                    });
                    $button.removeClass('clicked');
                }
            });
        </script>
    </body>
</html>

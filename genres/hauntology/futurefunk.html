<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="../../css/bootstrap.css">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Future Funk</title>
    </head>

    <body id="futurefunk">
        <div class="box hauntology">
            <h1>FUTURE FUNK</h1>

            <p>Many regard Future Funk being completely seperated from Vaporwave at this point, therefore it's one of the more well known and impacting subgenres. Starting around late summer 2012, saw Vaporwave take a more dancy approach. This may have been due to the surge in popularity after the relase of Macintosh Plus' 420, which in turn caused many new Vaporwave producers to sample primarily 80s music. At this point, Vaporwave began distancing from the post-internet tendencies of its beginning and as such, a simultaneous split and transformation for the genre occurred when a new crop of artists took centre stage. This type of Vaporwave-esque music is characterised by the sampling of 70s or 80s Dance/Disco music, usually with a House beat applied. The level of manipulation runs the gamut but the result is typically a dancy track. Although some admonish the term, many have embraced it and rather than submit to the criticism of certain Vaporwave fans, they have continued to enjoy success within the umbrella of the genre and its trappings. As of late, the term "Future Funk" has come to better represent the subgenre and fits more aptly.</p>

            <div class="row icon-list">
                <div class="col-1"><div class="buttons buttons-hauntology">1</div></div>
                <div class="col-1"><div class="buttons buttons-hauntology">2</div></div>
                <div class="col-1"><div class="buttons buttons-hauntology">3</div></div>
                <div class="col-1"><div class="buttons buttons-hauntology">4</div></div>
                <div class="col-1"><div class="buttons buttons-hauntology">5</div></div>
                <div class="col-1"><div class="buttons buttons-hauntology">6</div></div>
                <div class="col-1"><div class="buttons buttons-hauntology">7</div></div>
                <div class="col-1"><div class="buttons buttons-hauntology">8</div></div>
                <div class="col-1"><div class="buttons buttons-hauntology">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-hauntology-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Saint Pepsi",
                        track: "Hit Vibes",
                        path: "../../samples/hauntology/futurefunk1.ogg"
                    },
                    {
                        artist: "マクロスMACROSS 82​-​99",
                        track: "Fun Tonight",
                        path: "../../samples/hauntology/futurefunk2.ogg"
                    },
                    {
                        artist: "Tendencies",
                        track: "Waterbed",
                        path: "../../samples/hauntology/futurefunk3.ogg"
                    },
                    {
                        artist: "Desired",
                        track: "Broken Heart",
                        path: "../../samples/hauntology/futurefunk4.ogg"
                    },
                    {
                        artist: "AnTgry",
                        track: "Lovely Road",
                        path: "../../samples/hauntology/futurefunk5.ogg"
                    },
                    {
                        artist: "MR. WAX",
                        track: "Last Year Alone",
                        path: "../../samples/hauntology/futurefunk6.ogg"
                    },
                    {
                        artist: "Windows彡96",
                        track: "Arcade",
                        path: "../../samples/hauntology/futurefunk7.ogg"
                    },
                    {
                        artist: "Snowshoo",
                        track: "Minutes",
                        path: "../../samples/hauntology/futurefunk8.ogg"
                    },
                    {
                        artist: "マクロスMACROSS 82-99",
                        track: "『82.99 AM』",
                        path: "../../samples/hauntology/futurefunk9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-hauntology').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-hauntology-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-hauntology"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

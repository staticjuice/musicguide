<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="../../../css/bootstrap.css">
        <link rel="stylesheet" href="../../../css/style.css">
        <title>Indie Rock</title>
    </head>

    <body id="indierock">
        <div class="box indie">
            <h1>INDIE ROCK</h1><div class="year year-indie">1992</div>

            <p>After the big Grunge revolution, Indie experienced a metamorphosis and splintered in many subgenres, which were all a response to Grunge, both positive and negative. Many Indie artists changed the genre into a darker, heavier version of itself, with more desperate tragedy and angry frustration in its lyrics. It also lost some of its Hardcore and DIY influences, with songs becoming longer, more complex and better produced. The second wave of Indie was no longer truly alternative, and their artists less and less a part of independent record labels. Some Indie bands even became bestselling stars, filling Rock festivals for decades to come. However, some musicians believed there was too much stardom and too much focus from majors on Grunge and other Indie genres. Several underground subgenres emerged &ndash; the heavily under-produced Lo-Fi, Sadcore, Math Rock and Baroque Pop. Lo-Fi is primarily defined by its low-fidelity sound, Sadcore is gentle and slow, placid and filled with tender, fragile sounds. Math Rock focused on complicated rhythms and Baroque Pop adds orchestral elements to its songs.</p>

            <div class="row">
                <div class="col-1"><div class="buttons buttons-indie">1</div></div>
                <div class="col-1"><div class="buttons buttons-indie">2</div></div>
                <div class="col-1"><div class="buttons buttons-indie">3</div></div>
                <div class="col-1"><div class="buttons buttons-indie">4</div></div>
                <div class="col-1"><div class="buttons buttons-indie">5</div></div>
                <div class="col-1"><div class="buttons buttons-indie">6</div></div>
                <div class="col-1"><div class="buttons buttons-indie">7</div></div>
                <div class="col-1"><div class="buttons buttons-indie">8</div></div>
                <div class="col-1"><div class="buttons buttons-indie">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-indie-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Beck",
                        track: "E-Pro",
                        path: "../../../samples/indie/indierock1.ogg"
                    },
                    {
                        artist: "Sebadoh",
                        track: "Flame",
                        path: "../../../samples/indie/indierock2.ogg"
                    },
                    {
                        artist: "Pavement",
                        track: "Cut Your Hair",
                        path: "../../../samples/indie/indierock3.ogg"
                    },
                    {
                        artist: "Quickspace",
                        track: "Take Away",
                        path: "../../../samples/indie/indierock4.ogg"
                    },
                    {
                        artist: "Don Caballero",
                        track: "Railroad Cancellation",
                        path: "../../../samples/indie/indierock5.ogg"
                    },
                    {
                        artist: "Radiohead",
                        track: "No Surprises",
                        path: "../../../samples/indie/indierock6.ogg"
                    },
                    {
                        artist: "American Music Club",
                        track: "Goodbye To Love",
                        path: "../../../samples/indie/indierock7.ogg"
                    },
                    {
                        artist: "Red House Painters",
                        track: "Mistress",
                        path: "../../../samples/indie/indierock8.ogg"
                    },
                    {
                        artist: "Arcade Fire",
                        track: "Rebellion (Lies)",
                        path: "../../../samples/indie/indierock9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-indie').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-indie-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-indie"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
        <link rel="stylesheet" href="../../../css/style.css">
        <title>Crust Punk</title>
    </head>

    <body id="crustpunk">
        <div class="quaternary-box punk">
            <h1>CRUST PUNK</h1><div class="quaternary-year punk-light">1981</div>

            <p>Punk Rock was besides music also a marketing machine, cleverly steered by the movement's frontman and Sex Pistol's manager Malcolm McLaren. In response, a new subgenre answered to the machine &ndash; Crust Punk. These bands swore by heavy DIY approach, little marketing or publicity and by their own record production. A strong community sense is another trademark of Crust Punk, both by the artists and their fans. But most importantly are real political messages, fueled by a distaste for the lyrical shallowness of some of Punk Rock's most famous bands. Political reaction grew stronger when conservative Margaret Thatcher took office in the UK in 1979, who proved to be a long-lasting punching bag for Punk's offspring genres. A while after the development of Hardcore Punk, Crust Punk gets heavily influenced by Metal. This is clearly discernible in both a more chaotic and faster sound. Crust Punk is a heavy, bass-filled style, much more nihilistic and bleak than Hardcore. A smaller style known as D-Beat is a more straightforward apprach named after its repetitive, stuttering drum beats.</p>

            <div class="quaternary-grid">
                <div class="quaternary-grid-item"><div class="quaternary-button punk-light">1</div></div>
                <div class="quaternary-grid-item"><div class="quaternary-button punk-light">2</div></div>
                <div class="quaternary-grid-item"><div class="quaternary-button punk-light">3</div></div>
                <div class="quaternary-grid-item"><div class="quaternary-button punk-light">4</div></div>
                <div class="quaternary-grid-item"><div class="quaternary-button punk-light">5</div></div>
                <div class="quaternary-grid-item"><div class="quaternary-button punk-light">6</div></div>
                <div class="quaternary-grid-item"><div class="quaternary-button punk-light">7</div></div>
                <div class="quaternary-grid-item"><div class="quaternary-button punk-light">8</div></div>
                <div class="quaternary-grid-item"><div class="quaternary-button punk-light">9</div></div>
            </div>

            <div class="quaternary-artisttrack" data-label="Artist:"><span id="artist"></span></div>
            <div class="quaternary-artisttrack" data-label="Track:"><span id="track"></span></div>
            <div class="quaternary-stop"><div class="quaternary-button punk-light"><i class="fa-solid fa-stop"></i></div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js" integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>

        <script>
            $(function() {
                const tracks = [
                    { artist: "Flux Of Pink Indians", track: "They Lie, We Die", path: "../../../samples/punk/crustpunk1.ogg" },
                    { artist: "Subhumans", track: "No", path: "../../../samples/punk/crustpunk2.ogg" },
                    { artist: "Nausea", track: "Smash Racism", path: "../../../samples/punk/crustpunk3.ogg" },
                    { artist: "Hellbastard", track: "Death Camp", path: "../../../samples/punk/crustpunk4.ogg" },
                    { artist: "Amebix", track: "Largactyl", path: "../../../samples/punk/crustpunk5.ogg" },
                    { artist: "Avskum", track: "Capitalism Is Terrorism", path: "../../../samples/punk/crustpunk6.ogg" },
                    { artist: "Doom", track: "Police Bastard", path: "../../../samples/punk/crustpunk7.ogg" },
                    { artist: "Discharge", track: "Protest And Survive", path: "../../../samples/punk/crustpunk8.ogg" },
                    { artist: "Anti Cimex", track: "Criminal Trap", path: "../../../samples/punk/crustpunk9.ogg" }
                ];

                const audioInstances = tracks.map(track => new Audio(track.path));
                const $artistSpan = $('#artist');
                const $trackSpan = $('#track');
                const $button = $('.quaternary-button');

                $button.on('click', function() {
                    stopAllMusic();
                    const index = $button.index(this);
                    $(this).toggleClass('clicked');
                    const audio = audioInstances[index];
                    audio.play();
                    $artistSpan.text(tracks[index].artist);
                    $trackSpan.text(tracks[index].track);
                });

                $('.quaternary-stop').on('click', function() {
                    stopAllMusic();
                    $artistSpan.text('');
                    $trackSpan.text('');
                });

                function stopAllMusic() {
                    audioInstances.forEach(audio => {
                        audio.pause();
                        audio.currentTime = 0;
                    });
                    $button.removeClass('clicked');
                }
            });
        </script>
    </body>
</html>

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Beat</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,900" rel="stylesheet">
</head>
  
<body class="genre beat">
    <div id="box-rock">
        <h1>BEAT</h1><br>

        Merseybeat (named after the river Mersey in Liverpool) or simply ‘Beat’ was the great second revolution of Rock. Most noteworthy are The Beatles, who won the hearts of every teen in the UK and America, and who started out as a seemingly upright boy band but later revolutionized sound recording. Inspired by their huge success &ndash; a true mania &ndash; many British Merseybeat bands took the journey across the ocean to invade America and become Rock stars, though few actually succeeded. This phenomenon and the genre itself, is since known as the British Invasion (though British Blues Rock was also a part of this invasion). A particular subcultural phenomenon closely related to Merseybeat, is the British Mod scene of the 50s and the 60s. Young rebellious biker boys were united in their stance against conformist Rock and preferred a blend of sped-up Rock &amp; Roll and Motown. This eventually led to Beat music and later to the New Romantics and even Britpop. With their speakers always on max volume and a healthy diet of pep pills, they were the vanguard of a new era of Rock &ndash; a Golden Age of guitars and soundwaves.<br><br>

        <div class="row icon-list">
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-rock">1</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-rock">2</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-rock">3</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-rock">4</div>
            </div>
                
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-rock">5</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-rock">6</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-rock">7</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-rock">8</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-rock">9</div>
            </div>

            <div class="visible-xs col-xs-1">
                <div class="buttons-rock-stop">&#9724;</div>
            </div>
        </div>

        <div class="example"><br>
            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p> 
        </div>

        <div class="hidden-xs col-sm-1 stop">
            <div class="buttons-rock-stop">&#9724;</div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
    <script>
        $(document).ready(function() {

            
            var tracks = [
                {
                    artist: "The Beatles",
                    track: "She Loves You",
                    path: "../../samples/rock/beat1.ogg"
                },
                {
                    artist: "Gerry & The Pacemakers",
                    track: "How Do You Do It?",
                    path: "../../samples/rock/beat2.ogg"
                },
                {
                    artist: "Herman's Hermits",
                    track: "No Milk Today",
                    path: "../../samples/rock/beat3.ogg"
                },
                {
                    artist: "The Swinging Blue Jeans",
                    track: "You're No Good",
                    path: "../../samples/rock/beat4.ogg"
                },
                {
                    artist: "The Searches",
                    track: "Needles And Pins",
                    path: "../../samples/rock/beat5.ogg"
                },
                {
                    artist: "The Kinks",
                    track: "Waterloo Sunset",
                    path: "../../samples/rock/beat6.ogg"
                },
                {
                    artist: "Billy J. Kramer & The Dakotas",
                    track: "Bad To Me",
                    path: "../../samples/rock/beat7.ogg"
                },
                {
                    artist: "Manfred Mann",
                    track: "Do Wah Diddy Diddy",
                    path: "../../samples/rock/beat8.ogg"
                },
                {
                    artist: "The Zombies",
                    track: "She's Not There",
                    path: "../../samples/rock/beat9.ogg"
                }
            ]

            tracks.forEach(track => {
                const audio = new Audio()
                audio.addEventListener('canplaythrough', null, false)
                audio.src = track.path
            })

            var artistSpan = $(document).find('#artist')[0]

            var track = $(document).find('#track')[0]

            var audioInstanceArray = [];

            var buttons = [];

            var audioInstance;

            $(document).find('.buttons-rock').each(function(index, button) {

                buttons.push(button);
                
                $(this).click(function() {

                    removeAllButtonBorders()

                    $(this).toggleClass('clicked');
                
                    stopAllMusic()

                    audioInstance = new Audio(tracks[index].path);
                    audioInstanceArray.push(audioInstance);
                    audioInstance.play();

                    artistSpan.innerHTML = tracks[index].artist
                    track.innerHTML = tracks[index].track

                });
            });

            $('.buttons-rock-stop').on('click', function() {

                stopAllMusic()

                artistSpan.innerHTML = ''
                track.innerHTML = ''

                removeAllButtonBorders()

            });

            var removeAllButtonBorders = () => {
                buttons.forEach(
                    button => button.className = "buttons-rock"
                )
            }

            var stopAllMusic = () => {
                 audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
            }

        });

    </script>

</body>
</html>
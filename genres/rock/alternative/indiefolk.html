<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../../css/style.css">
        <title>Indie Folk</title>
    </head>

    <body class="genre" id="indiefolk">
        <div class="box alternative">
            <h1>INDIE FOLK</h1>

            <p>Although this genre is obviously a form of Folk music, a large and welcoming familiarity within Rock and Pop circles combined with a heavy influence from popular music justifies its presence in Alternative Rock. Indie Folk emerged during the late 2000s when songwriters from the Indie Rock community began taking cues from Folk music. As the 2000s progressed and more Indie Folk artists appeared, the genre grew to encompass a wide range of music, from the Neo-Celtic Folk of The Decemberists to the Appalachian harmonies of Fleet Foxes. Other groups, including Iron &amp; Wine, embraced such variety in their music, jumping from lo-fi acoustic ballads to lush electric rockers without ever truly exiting within the Indie Folk camp. Despite their ties to the Folk community, however, most of these bands frequented traditional Rock venues instead of coffeehouses, a characteristic that distinguished them from contemporary Folk groups. The latest forms of Indie Folk (which have become highly popular among the youth, for example, Mumford &amp; Sons) are also known as Nu Folk or go by the term "New Weird America."</p>

            <div class="row icon-list">
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-alternative">1</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-alternative">2</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-alternative">3</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-alternative">4</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-alternative">5</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-alternative">6</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-alternative">7</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-alternative">8</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-alternative">9</div></div>
                <div class="d-lg-none col-lg-1 col-xs-1"><div class="buttons buttons-alternative-stop">&FilledSmallSquare;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-lg-block col-md-1 stop"><div class="buttons buttons-alternative-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Mumford & Sons",
                        track: "Little Lion Man",
                        path: "../../../samples/rock/alternative/indiefolk1.ogg"
                    },
                    {
                        artist: "Fleet Foxes",
                        track: "Mykonos",
                        path: "../../../samples/rock/alternative/indiefolk2.ogg"
                    },
                    {
                        artist: "Sufjan Stevens",
                        track: "Casimir Pulaski Day",
                        path: "../../../samples/rock/alternative/indiefolk3.ogg"
                    },
                    {
                        artist: "Bon Iver",
                        track: "Holocene",
                        path: "../../../samples/rock/alternative/indiefolk4.ogg"
                    },
                    {
                        artist: "Dustin Tebbutt",
                        track: "The Breach",
                        path: "../../../samples/rock/alternative/indiefolk5.ogg"
                    },
                    {
                        artist: "Avalanche City",
                        track: "The Streets",
                        path: "../../../samples/rock/alternative/indiefolk6.ogg"
                    },
                    {
                        artist: "Of Monsters And Men",
                        track: "Mountain Sound",
                        path: "../../../samples/rock/alternative/indiefolk7.ogg"
                    },
                    {
                        artist: "Vance Joy",
                        track: "Riptide",
                        path: "../../../samples/rock/alternative/indiefolk8.ogg"
                    },
                    {
                        artist: "Radical Face",
                        track: "Welcome Home, Son",
                        path: "../../../samples/rock/alternative/indiefolk9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-alternative').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-alternative-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-alternative"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

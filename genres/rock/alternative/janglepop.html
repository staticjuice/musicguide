<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../../css/style.css">
        <title>Jangle Pop</title>
    </head>

    <body class="genre" id="janglepop">
        <div class="box alternative">
            <h1>JANGLE POP</h1>

            <p>By the end of the 80s, the power of Hard Rock or the spirit of Punk Rock seemed nowhere to be found. The majority of Rock had become electronic and commercialized. Many Generation X rock artists tried to stay away from the big record companies to prevent their music from succumbing to the same fate and turned to smaller, independent labels instead, where they had the freedom to make what they liked &ndash; serious, downbeat rock with heavy, distorted guitar riffs, often dealing about emotional troubles or tragic thoughts. The music consciously partakes in the debate about music industry, with a strong stance against MTV. To strengthen and justify its own point of view, Alternative Rock often uses objectified lyrics instead of a personal perspective. Early Alternative music was primarily college radio music with jangly guitars and a minimal attention to rhythm. Therefore it became known as "Jangle Pop". Closely related and heavily overlapping with Jangle Pop was the Paisley Underground movement &ndash; a revival of 60s Psychedelic Rock in LA with a variety of Rock and Folk influences.</p>

            <div class="row icon-list">
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">1</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">2</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">3</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">4</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">5</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">6</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">7</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">8</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">9</div></div>
                <div class="d-block d-md-none col-md-1 col-xs-1"><div class="buttons buttons-alternative-stop">&#9724;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-md-block col-md-1 stop"><div class="buttons buttons-alternative-stop">&#9724;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "The Smiths",
                        track: "There Is A Light That Never Goes Out",
                        path: "../../../samples/rock/alternative/janglepop1.ogg"
                    },
                    {
                        artist: "Pixies",
                        track: "Where Is My Mind?",
                        path: "../../../samples/rock/alternative/janglepop2.ogg"
                    },
                    {
                        artist: "R.E.M.",
                        track: "Losing My Religion",
                        path: "../../../samples/rock/alternative/janglepop3.ogg"
                    },
                    {
                        artist: "Orange Juice",
                        track: "Felicity",
                        path: "../../../samples/rock/alternative/janglepop4.ogg"
                    },
                    {
                        artist: "The Replacements",
                        track: "Alex Chilton",
                        path: "../../../samples/rock/alternative/janglepop5.ogg"
                    },
                    {
                        artist: "Camper Van Beethoven",
                        track: "Take The Skinheads Bowling",
                        path: "../../../samples/rock/alternative/janglepop6.ogg"
                    },
                    {
                        artist: "Live",
                        track: "Operation Spirit",
                        path: "../../../samples/rock/alternative/janglepop7.ogg"
                    },
                    {
                        artist: "The Go-Betweens",
                        track: "Streets Of Your Town",
                        path: "../../../samples/rock/alternative/janglepop8.ogg"
                    },
                    {
                        artist: "The Sundays",
                        track: "Here's Where The Story Ends",
                        path: "../../../samples/rock/alternative/janglepop9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-alternative').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-alternative-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-alternative"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

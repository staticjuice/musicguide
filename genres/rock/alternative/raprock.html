<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../../css/style.css">
        <title>Rap Rock</title>
    </head>

    <body class="genre" id="raprock">
        <div class="box alternative">
            <h1>RAP ROCK</h1>

            <p>The combination of Rock and Rap found its origin in the 80s, with the desire of Run DMC’s producers to reach a bigger audience. But at the start of the 90s, a real genre emerges &ndash; called either Rap Rock, Rapcore or Funk Rock. Strictly speaking, these are all different genres but so closely related, it’s pointless to separate them. In short, they are heavier, faster types of Alternative Rock, with strong influences from the Golden Age of Rap music, sharing the same ferocity and anti-commercial mindset. One must not forget after all, that Hip Hop was still "fresh" in the 90s, even though it had already been around for quite some time. As a result, artists were eager to infuse Hip Hop in contrasting genres such as Alternative Rock. The lyrics are fast, in a Rap-like way (or even true raps), and the music is more rhythmical than other types of Rock. Both Rock and Hip Hop artists crossed over to each other’s side, but unfortunately the genre didn’t break through in mainstream charts. The genre gradually became harder, more experimental and mixed with Metal, eventually evolving into Nu Metal.</p>

            <div class="row icon-list">
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">1</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">2</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">3</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">4</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">5</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">6</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">7</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">8</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">9</div></div>
                <div class="d-block d-md-none col-md-1 col-xs-1"><div class="buttons buttons-alternative-stop">&#9724;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-md-block col-md-1 stop"><div class="buttons buttons-alternative-stop">&#9724;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Kid Rock",
                        track: "Bawitdaba",
                        path: "../../../samples/rock/alternative/raprock1.ogg"
                    },
                    {
                        artist: "Rage Against The Machine",
                        track: "Guerrilla Radio",
                        path: "../../../samples/rock/alternative/raprock2.ogg"
                    },
                    {
                        artist: "Faith No More",
                        track: "Epic",
                        path: "../../../samples/rock/alternative/raprock3.ogg"
                    },
                    {
                        artist: "Dog Eat Dog",
                        track: "Who's The King",
                        path: "../../../samples/rock/alternative/raprock4.ogg"
                    },
                    {
                        artist: "Red Hot Chili Peppers",
                        track: "Give It Away",
                        path: "../../../samples/rock/alternative/raprock5.ogg"
                    },
                    {
                        artist: "Urban Dance Squad",
                        track: "Demagogue",
                        path: "../../../samples/rock/alternative/raprock6.ogg"
                    },
                    {
                        artist: "Helmet & House Of Pain",
                        track: "Just Another Victim",
                        path: "../../../samples/rock/alternative/raprock7.ogg"
                    },
                    {
                        artist: "Alley Life feat. Black Planet",
                        track: "Out With The Old",
                        path: "../../../samples/rock/alternative/raprock8.ogg"
                    },
                    {
                        artist: "Papa Roach",
                        track: "Blood Brothers",
                        path: "../../../samples/rock/alternative/raprock9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-alternative').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-alternative-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-alternative"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

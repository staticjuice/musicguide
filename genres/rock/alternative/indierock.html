<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Indie Rock</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../../css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,900" rel="stylesheet">
</head>
  
<body class="genre indierock">
    <div id="box-alternative">
        <h1>INDIE ROCK</h1><br>
            
        After the big Grunge revolution, Indie Rock experienced a metamorphosis and splintered in many subgenres, which were all a response to Grunge, both positive and negative. Many Indie Rock artists changed the genre into a darker, heavier version of itself, with more desperate tragedy and angry frustration in its lyrics. It also lost some of its Hardcore and DIY influences, with songs becoming longer, more complex and better produced. The second wave of Alternative Rock was no longer truly alternative, and their artists less and less a part of independent record labels. Some Alternative Rock bands even became bestselling stars, filling Rock festivals for decades to come. However, some musicians believed there was too much stardom and too much focus from majors on Grunge and Alternative Rock. Two underground subgenres emerged &ndash; the heavily under-produced Lo-Fi, Sadcore, Math Rock and Baroque Pop. Lo-Fi is primarily defined by its low-fidelity sound, Sadcore is gentle and slow, placid, and filled with tender, fragile sounds, Math Rock focussed on complicated rhythms and Baroque Pop added orchestral elements to its songs.<br><br>

        <div class="row icon-list">
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-alternative">1</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-alternative">2</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-alternative">3</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-alternative">4</div>
            </div>
                
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-alternative">5</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-alternative">6</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-alternative">7</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-alternative">8</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-alternative">9</div>
            </div>

            <div class="visible-xs col-xs-1">
                <div class="buttons-alternative-stop">&#9724;</div>
            </div>
        </div>

        <div class="example"><br>
            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p> 
        </div>

        <div class="hidden-xs col-sm-1 stop">
            <div class="buttons-alternative-stop">&#9724;</div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
    <script>
        $(document).ready(function() {

            
            var tracks = [
                {
                    artist: "Beck",
                    track: "E-Pro",
                    path: "../../../samples/rock/alternative/indierock1.ogg"
                },
                {
                    artist: "Sebadoh",
                    track: "Flame",
                    path: "../../../samples/rock/alternative/indierock2.ogg"
                },
                {
                    artist: "Pavement",
                    track: "Cut Your Hair",
                    path: "../../../samples/rock/alternative/indierock3.ogg"
                },
                {
                    artist: "Quickspace",
                    track: "Take Away",
                    path: "../../../samples/rock/alternative/indierock4.ogg"
                },
                {
                    artist: "Don Caballero",
                    track: "Railroad Cancellation",
                    path: "../../../samples/rock/alternative/indierock5.ogg"
                },
                {
                    artist: "Hella",
                    track: "Biblical Violence",
                    path: "../../../samples/rock/alternative/indierock6.ogg"
                },
                {
                    artist: "American Music Club",
                    track: "Goodbye To Love",
                    path: "../../../samples/rock/alternative/indierock7.ogg"
                },
                {
                    artist: "Red House Painters",
                    track: "Mistress",
                    path: "../../../samples/rock/alternative/indierock8.ogg"
                },
                {
                    artist: "Arcade Fire",
                    track: "Rebellion (Lies)",
                    path: "../../../samples/rock/alternative/indierock9.ogg"
                }
            ]

            tracks.forEach(track => {
                const audio = new Audio()
                audio.addEventListener('canplaythrough', null, false)
                audio.src = track.path
            })

            var artistSpan = $(document).find('#artist')[0]

            var track = $(document).find('#track')[0]

            var audioInstanceArray = [];

            var buttons = [];

            var audioInstance;

            $(document).find('.buttons-alternative').each(function(index, button) {

                buttons.push(button);
                
                $(this).click(function() {

                    removeAllButtonBorders()

                    $(this).toggleClass('clicked');
                
                    stopAllMusic()

                    audioInstance = new Audio(tracks[index].path);
                    audioInstanceArray.push(audioInstance);
                    audioInstance.play();

                    artistSpan.innerHTML = tracks[index].artist
                    track.innerHTML = tracks[index].track

                });
            });

            $('.buttons-alternative-stop').on('click', function() {

                stopAllMusic()

                artistSpan.innerHTML = ''
                track.innerHTML = ''

                removeAllButtonBorders()

            });

            var removeAllButtonBorders = () => {
                buttons.forEach(
                    button => button.className = "buttons-alternative"
                )
            }

            var stopAllMusic = () => {
                 audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
            }

        });

    </script>

</body>
</html>
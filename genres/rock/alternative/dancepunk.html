<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../../css/style.css">
        <title>Dance Punk</title>
    </head>

    <body class="genre" id="dancepunk">
        <div class="box alternative">
            <h1>DANCE PUNK</h1>

            <p>After Post-Punk, a number of New Wave bands experimented with the idea of electronic pulsating rhythms, just like many Synthpop artists back in the day attempted to do, but more EDM than Pop. Especially in Manchester, UK, cross-pollination was at an all-time high &ndash; Acid House was welcomed by the British with open arms, leading to an unusual subgenre called Madchester, the bridging between Alternative Rock and Acid House. However, the renewed interest in pre-Indie Rock music by Garage Rock Revival bands also shifted the ground where Indie Dance was buried, resulting in what is now understood as <q>Dance Punk</q> &ndash; modern New Wave meets House. The music is so infectious that even the middle-aged, middle-class white man starts to dance. And finally, there is the short-lived Nu Rave movement, which blends Dance Punk with Indie Rock. Fast, danceable Rock music created by artists with only their laptop &ndash; DIY entrepreneurship like Free Tekno and Rave and a grasp of their old skool euphoria in a Rock ensemble. Nu Rave is Madchester in the age of social media and hipsterism.</p>

            <div class="row icon-list">
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">1</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">2</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">3</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">4</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">5</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">6</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">7</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">8</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">9</div></div>
                <div class="d-block d-md-none col-md-1 col-xs-1"><div class="buttons buttons-alternative-stop">&#9724;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-md-block col-md-1 stop"><div class="buttons buttons-alternative-stop">&#9724;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "LCD Soundsystem",
                        track: "Get Innocuous!",
                        path: "../../../samples/rock/alternative/dancepunk1.ogg"
                    },
                    {
                        artist: "Soulwax",
                        track: "NY Excuse",
                        path: "../../../samples/rock/alternative/dancepunk2.ogg"
                    },
                    {
                        artist: "Yeah Yeah Yeahs",
                        track: "Heads Will Roll",
                        path: "../../../samples/rock/alternative/dancepunk3.ogg"
                    },
                    {
                        artist: "!!!",
                        track: "Heart Of Hearts",
                        path: "../../../samples/rock/alternative/dancepunk4.ogg"
                    },
                    {
                        artist: "The Rapture",
                        track: "Echoes",
                        path: "../../../samples/rock/alternative/dancepunk5.ogg"
                    },
                    {
                        artist: "Infadels",
                        track: "Can't Get Enough",
                        path: "../../../samples/rock/alternative/dancepunk6.ogg"
                    },
                    {
                        artist: "Klaxons",
                        track: "Golden Skans",
                        path: "../../../samples/rock/alternative/dancepunk7.ogg"
                    },
                    {
                        artist: "New Young Pony Club",
                        track: "Ice Cream",
                        path: "../../../samples/rock/alternative/dancepunk8.ogg"
                    },
                    {
                        artist: "Datarock",
                        track: "Fa-Fa-Fa",
                        path: "../../../samples/rock/alternative/dancepunk9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-alternative').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-alternative-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-alternative"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

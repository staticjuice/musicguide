<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../../css/style.css">
        <title>Britpop</title>
    </head>

    <body class="genre" id="britpop">
        <div class="box alternative">
            <h1>BRITPOP</h1>

            <p>Britpop was the British reaction to Grunge. Enough with all the feeble, depressing sorrow and back to glamorous Rock. This soft but catchy kind of Rock is sometimes credited as being the least original genre of the 90s. On an auditory level there is indeed not much shocking &ndash; a clear wink to British Merseybeat but roughened up by the presence of Indie Rock, with sometimes synthesizers and electronic effects to cast a certain glam mood. What makes the genre so well-known, popular and clearly defined is not its sound then, but the Rock &amp; Roll mentality of it &ndash; the cocky attitude of British frontmen determined to conquer the stage, steal the show and awe the masses. There is a reason for such attitude &ndash; many British bands were fed up with the overall dominance of American Rock bands in the British hit charts of the early 90s. As such they created a strong anti-American music genre, with a very narrow range of influences (all British). Of course, the sound, vocals and song structure are all means to this end. Which explains why Britpop is same meat, different gravy, but very attractive all the same.</p>

            <div class="row icon-list">
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">1</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">2</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">3</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">4</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">5</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">6</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">7</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">8</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">9</div></div>
                <div class="d-block d-lg-none col-md-1 col-xs-1"><div class="buttons buttons-alternative-stop">&FilledSmallSquare;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-lg-block col-md-1 stop"><div class="buttons buttons-alternative-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Oasis",
                        track: "Wonderwall",
                        path: "../../../samples/rock/alternative/britpop1.ogg"
                    },
                    {
                        artist: "Blur",
                        track: "Country House",
                        path: "../../../samples/rock/alternative/britpop2.ogg"
                    },
                    {
                        artist: "Pulp",
                        track: "Common People",
                        path: "../../../samples/rock/alternative/britpop3.ogg"
                    },
                    {
                        artist: "The Verve",
                        track: "Bitter Sweet Symphony",
                        path: "../../../samples/rock/alternative/britpop4.ogg"
                    },
                    {
                        artist: "Suede",
                        track: "Animal Nitrate",
                        path: "../../../samples/rock/alternative/britpop5.ogg"
                    },
                    {
                        artist: "Supergrass",
                        track: "Moving",
                        path: "../../../samples/rock/alternative/britpop6.ogg"
                    },
                    {
                        artist: "Mansun",
                        track: "Wide Open Space",
                        path: "../../../samples/rock/alternative/britpop7.ogg"
                    },
                    {
                        artist: "Dodgy",
                        track: "Good Enough",
                        path: "../../../samples/rock/alternative/britpop8.ogg"
                    },
                    {
                        artist: "Ocean Colour Scene",
                        track: "Hundred Mile High City",
                        path: "../../../samples/rock/alternative/britpop9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-alternative').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-alternative-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-alternative"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

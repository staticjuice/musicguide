<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../../css/style.css">
        <title>Post-Grunge</title>
    </head>

    <body class="genre" id="postgrunge">
        <div class="box alternative">
            <h1>POST-GRUNGE</h1>

            <p>Post-Grunge refers to the wave of bands who appeared shortly after Seattle grunge hit the mainstream. The major difference is that while the Seattle bands were firmly rooted in underground Alternative Rock of the 80s, Post-Grunge was influenced by what Grunge became &ndash; a wildly popular form of inward-looking, serious-minded Hard Rock. Many new Rock bands filled the hole that Grunge left and were especially influenced by its tragic, introspective, sentimental lyrics. Post-Grunge elaborated further on this theme but also took a step away from Grunge's heavy distortion, chaos and roughness. The result was a slicker, more polished sound with a clear song structure that turned out to be a commercial success. Post-Grunge became so popular that it stayed in the mainstream much longer than other Alt-Rock styles. Many people claimed that Post-Grunge was merely a commercial imitation of something genius and that it should be clearly separated from the original (leading to its name). On the other hand, the fans saw it as the culmination of Rock where finally a perfect balance of roughness versus slickness was found.</p>

            <div class="row icon-list">
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">1</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">2</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">3</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">4</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">5</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">6</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">7</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">8</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-alternative">9</div></div>
                <div class="d-block d-lg-none col-md-1 col-xs-1"><div class="buttons buttons-alternative-stop">&FilledSmallSquare;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-lg-block col-md-1 stop"><div class="buttons buttons-alternative-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Foo Fighters",
                        track: "The Pretender",
                        path: "../../../samples/rock/alternative/postgrunge1.ogg"
                    },
                    {
                        artist: "Creed",
                        track: "My Sacrifice",
                        path: "../../../samples/rock/alternative/postgrunge2.ogg"
                    },
                    {
                        artist: "3 Doors Down",
                        track: "Kryptonite",
                        path: "../../../samples/rock/alternative/postgrunge3.ogg"
                    },
                    {
                        artist: "Green Day",
                        track: "Boulevard Of Broken Dreams",
                        path: "../../../samples/rock/alternative/postgrunge4.ogg"
                    },
                    {
                        artist: "Nickelback",
                        track: "How You Remind Me",
                        path: "../../../samples/rock/alternative/postgrunge5.ogg"
                    },
                    {
                        artist: "HIM",
                        track: "Join Me In Death",
                        path: "../../../samples/rock/alternative/postgrunge6.ogg"
                    },
                    {
                        artist: "Matchbox Twenty",
                        track: "Push",
                        path: "../../../samples/rock/alternative/postgrunge7.ogg"
                    },
                    {
                        artist: "Staind",
                        track: "It's Been Awhile",
                        path: "../../../samples/rock/alternative/postgrunge8.ogg"
                    },
                    {
                        artist: "Puddle Of Mudd",
                        track: "She Hates Me",
                        path: "../../../samples/rock/alternative/postgrunge9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-alternative').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-alternative-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-alternative"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

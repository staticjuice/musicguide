<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="../../../css/bootstrap.css">
        <link rel="stylesheet" href="../../../css/style.css">
        <title>Heartland Rock</title>
    </head>

    <body id="heartlandrock">
        <div class="box rock">
            <h1>HEARTLAND ROCK</h1><div class="year year-rock">1975</div>

            <p>Heartland Rock developed in the 70s when Hard Rock and Heavy Metal bands began to gain popularity. Heartland Rock provided the counterweight for loud, sharp, in-your-face Rock within more mature circles. The music became more commercially-orientated and radio-friendly, boasting slick productions and anthemic choruses through their sweeping power ballads. Most of these bands earned their following through saturation airplay on the radio and constant touring. The contrast with Hard Rock increased, leading to the antonym Soft Rock. Heartland Rock bands focused on the album as a whole (singles were less important) and they were filled with long and varying songs. Heartland Rock is a lot more catchy and accessible than other forms of Rock. The main reason for Heartland Rock's success does not lie in its glossy production or the combination of dramatic guitar chords with simple drum patterns. Though this certainly helped, its success lies in a twisted nostalgia of the free spirit of the 60s, and a strong desire to forget all negative things of the early 70s.</p>

            <div class="row">
                <div class="col-1"><div class="buttons buttons-rock">1</div></div>
                <div class="col-1"><div class="buttons buttons-rock">2</div></div>
                <div class="col-1"><div class="buttons buttons-rock">3</div></div>
                <div class="col-1"><div class="buttons buttons-rock">4</div></div>
                <div class="col-1"><div class="buttons buttons-rock">5</div></div>
                <div class="col-1"><div class="buttons buttons-rock">6</div></div>
                <div class="col-1"><div class="buttons buttons-rock">7</div></div>
                <div class="col-1"><div class="buttons buttons-rock">8</div></div>
                <div class="col-1"><div class="buttons buttons-rock">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-rock-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Survivor",
                        track: "Eye Of The Tiger",
                        path: "../../../samples/rock/heartlandrock1.ogg"
                    },
                    {
                        artist: "Boston",
                        track: "More Than A Feeling",
                        path: "../../../samples/rock/heartlandrock2.ogg"
                    },
                    {
                        artist: "Journey",
                        track: "Don't Stop Believin'",
                        path: "../../../samples/rock/heartlandrock3.ogg"
                    },
                    {
                        artist: "Toto",
                        track: "Hold The Line",
                        path: "../../../samples/rock/heartlandrock4.ogg"
                    },
                    {
                        artist: "Heart",
                        track: "Straight On",
                        path: "../../../samples/rock/heartlandrock5.ogg"
                    },
                    {
                        artist: "REO Speedwagon",
                        track: "Can't Fight This Feeling",
                        path: "../../../samples/rock/heartlandrock6.ogg"
                    },
                    {
                        artist: "John Mellencamp",
                        track: "Small Town",
                        path: "../../../samples/rock/heartlandrock7.ogg"
                    },
                    {
                        artist: "Bruce Springsteen",
                        track: "Born In The U.S.A.",
                        path: "../../../samples/rock/heartlandrock8.ogg"
                    },
                    {
                        artist: "Tom Petty And The Heartbreakers",
                        track: "Straight Into Darkness",
                        path: "../../../samples/rock/heartlandrock9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-rock').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-rock-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-rock"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

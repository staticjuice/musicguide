<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
        <link rel="stylesheet" href="../../../css/style.css">
        <title>Southern Rock</title>
    </head>

    <body id="southernrock">
        <div class="box rock">
            <h1>SOUTHERN ROCK</h1><div class="year year-rock">1969</div>

            <p>When a nation loses a war, often a deep urge arises to reestablish its pride and express its identity. Southern Rock is another example of many styles typical for the southern states of the US and arguably the one that stresses most the will of pride, glory and freedom. This fusion genre is patriotic to the bone &ndash; southern American Blues meets southern American Country meets American Rock. After a period of experimentation and Psychedelic Rock, the time for back-to-the-roots Rock music was at hand. Southern Rock is distinguishable by being raw and loud. It is the celebration and adoration of electric guitars by having multiple lead guitars playing (often improvised) solos whenever they're not used for some heavy boogie jamming. In conclusion &ndash; Southern Rock is either a gentle Country ballad with a touch of Blues Rock or a freight train rollercoaster looping and spinning off its tracks until the shaking boogie rhythm puts it back on again for another ride. In the 21st century, a new wave of Southern Rock artists comes on the scene such as the Kings of Leon and the Black Crowes.</p>

            <div class="row">
                <div class="col-1"><div class="buttons buttons-rock">1</div></div>
                <div class="col-1"><div class="buttons buttons-rock">2</div></div>
                <div class="col-1"><div class="buttons buttons-rock">3</div></div>
                <div class="col-1"><div class="buttons buttons-rock">4</div></div>
                <div class="col-1"><div class="buttons buttons-rock">5</div></div>
                <div class="col-1"><div class="buttons buttons-rock">6</div></div>
                <div class="col-1"><div class="buttons buttons-rock">7</div></div>
                <div class="col-1"><div class="buttons buttons-rock">8</div></div>
                <div class="col-1"><div class="buttons buttons-rock">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-rock-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.7.0.slim.min.js" integrity="sha256-tG5mcZUtJsZvyKAxYLVXrmjKBVLd6VpVccqz/r4ypFE=" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Lynyrd Skynyrd",
                        track: "Sweet Home Alabama",
                        path: "../../../samples/rock/southernrock1.ogg"
                    },
                    {
                        artist: "The Allman Brothers Band",
                        track: "Midnight Rider",
                        path: "../../../samples/rock/southernrock2.ogg"
                    },
                    {
                        artist: "Creedence Clearwater Revival",
                        track: "Run Through The Jungle",
                        path: "../../../samples/rock/southernrock3.ogg"
                    },
                    {
                        artist: "ZZ Top",
                        track: "Sharp Dressed Man",
                        path: "../../../samples/rock/southernrock4.ogg"
                    },
                    {
                        artist: "Black Oak Arkansas",
                        track: "Lord Have Mercy On My Soul",
                        path: "../../../samples/rock/southernrock5.ogg"
                    },
                    {
                        artist: "Blackfoot",
                        track: "Train, Train",
                        path: "../../../samples/rock/southernrock6.ogg"
                    },
                    {
                        artist: "Kings Of Leon",
                        track: "Red Morning Light",
                        path: "../../../samples/rock/southernrock7.ogg"
                    },
                    {
                        artist: "The Black Crowes",
                        track: "Remedy",
                        path: "../../../samples/rock/southernrock8.ogg"
                    },
                    {
                        artist: "The Georgia Satellites",
                        track: "Keep Your Hands To Yourself",
                        path: "../../../samples/rock/southernrock9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-rock').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-rock-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-rock"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

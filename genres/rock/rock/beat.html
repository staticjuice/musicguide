<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
        <link rel="stylesheet" href="../../../css/style.css">
        <title>Beat</title>
    </head>

    <body id="beat">
        <div class="box rock">
            <h1>BEAT</h1><div class="year year-rock">1962</div>

            <p>Merseybeat (named after the River Mersey in Liverpool) or simply "Beat" was the great second revolution of Rock. Most noteworthy are The Beatles, who won the hearts of every teen in the UK and America, and who started as a seemingly upright boy band but later revolutionised sound recording. Inspired by their huge success &ndash; a true mania &ndash; many British Merseybeat bands took the journey across the ocean to invade America and become Rock stars, though few actually succeeded. This phenomenon and the genre itself is since known as the British Invasion (though British Blues Rock was also a part of this invasion). A particular subcultural phenomenon closely related to Merseybeat was the British Mod scene of the 50s and 60s. Young rebellious biker boys were united in their stance against conformist Rock and preferred a blend of sped-up Rock &amp; Roll and Motown. This eventually led to Beat music and later to the New Romantics and even Britpop. With their speakers always on max volume and a healthy diet of pep pills, they were the vanguard of a new era of Rock &ndash; a Golden Age of guitars and soundwaves.</p>

            <div class="row">
                <div class="col-1"><div class="buttons buttons-rock">1</div></div>
                <div class="col-1"><div class="buttons buttons-rock">2</div></div>
                <div class="col-1"><div class="buttons buttons-rock">3</div></div>
                <div class="col-1"><div class="buttons buttons-rock">4</div></div>
                <div class="col-1"><div class="buttons buttons-rock">5</div></div>
                <div class="col-1"><div class="buttons buttons-rock">6</div></div>
                <div class="col-1"><div class="buttons buttons-rock">7</div></div>
                <div class="col-1"><div class="buttons buttons-rock">8</div></div>
                <div class="col-1"><div class="buttons buttons-rock">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-rock-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.6.1.slim.min.js" integrity="sha256-w8CvhFs7iHNVUtnSP0YKEg00p9Ih13rlL9zGqvLdePA=" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "The Beatles",
                        track: "She Loves You",
                        path: "../../../samples/rock/beat1.ogg"
                    },
                    {
                        artist: "Gerry & The Pacemakers",
                        track: "How Do You Do It?",
                        path: "../../../samples/rock/beat2.ogg"
                    },
                    {
                        artist: "Herman's Hermits",
                        track: "No Milk Today",
                        path: "../../../samples/rock/beat3.ogg"
                    },
                    {
                        artist: "The Swinging Blue Jeans",
                        track: "You're No Good",
                        path: "../../../samples/rock/beat4.ogg"
                    },
                    {
                        artist: "The Searches",
                        track: "Needles And Pins",
                        path: "../../../samples/rock/beat5.ogg"
                    },
                    {
                        artist: "The Kinks",
                        track: "Waterloo Sunset",
                        path: "../../../samples/rock/beat6.ogg"
                    },
                    {
                        artist: "Billy J. Kramer & The Dakotas",
                        track: "Bad To Me",
                        path: "../../../samples/rock/beat7.ogg"
                    },
                    {
                        artist: "Manfred Mann",
                        track: "Do Wah Diddy Diddy",
                        path: "../../../samples/rock/beat8.ogg"
                    },
                    {
                        artist: "The Zombies",
                        track: "She's Not There",
                        path: "../../../samples/rock/beat9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-rock').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-rock-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-rock"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

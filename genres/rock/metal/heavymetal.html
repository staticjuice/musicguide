<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <link rel="stylesheet" href="../../../css/style.css">
        <title>Heavy Metal</title>
    </head>

    <body id="heavymetal">
        <div class="box metal">
            <h1>HEAVY METAL</h1><div class="year metal-light">1969</div>

            <p>Heavy Metal used to be an interchangeable term with Hard Rock in the late 60s. The earliest examples of the genre are often cited as Hard Rock examples and vice versa. As such, Heavy Metal is a loosely defined genre &ndash; simply "harder than Hard Rock", mainly through more amplification and distortion. The shocking tragedy of four deaths and violence at the Altamont Festival in 1969 marked the end of the flower power age, a temporary exile of The Rolling Stones and most importantly &ndash; a loss of belief in the hippy utopia. Rock couldn't make the world a better place and everyone had witnessed the dark side of human nature. The first band to be influenced by this event was Led Zeppelin. Described at the time as Rock music being dark, heavy and gloomy, it was almost impossible to listen to. Black Sabbath developed an even slower, tuned-down sound, yet also full of distortion, with thick and heavy riffs. In their later work, they also experimented with different tempo and instrumentation. Both bands feature lengthy songs, with elaborate guitar solos, while often referring to evil or dark themes.</p>

            <div class="row">
                <div class="col-1"><div class="buttons metal-light">1</div></div>
                <div class="col-1"><div class="buttons metal-light">2</div></div>
                <div class="col-1"><div class="buttons metal-light">3</div></div>
                <div class="col-1"><div class="buttons metal-light">4</div></div>
                <div class="col-1"><div class="buttons metal-light">5</div></div>
                <div class="col-1"><div class="buttons metal-light">6</div></div>
                <div class="col-1"><div class="buttons metal-light">7</div></div>
                <div class="col-1"><div class="buttons metal-light">8</div></div>
                <div class="col-1"><div class="buttons metal-light">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons metal-light">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js" integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>

        <script>
            $(function() {
                const tracks = [
                    { artist: "Black Sabbath", track: "Supernaut", path: "../../../samples/metal/heavymetal1.ogg" },
                    { artist: "Led Zeppelin", track: "Whole Lotta Love", path: "../../../samples/metal/heavymetal2.ogg" },
                    { artist: "Deep Purple", track: "Black Night", path: "../../../samples/metal/heavymetal3.ogg" },
                    { artist: "Judas Priest", track: "Breaking The Law", path: "../../../samples/metal/heavymetal4.ogg" },
                    { artist: "Budgie", track: "Breadfan", path: "../../../samples/metal/heavymetal5.ogg" },
                    { artist: "Buffalo", track: "Shylock", path: "../../../samples/metal/heavymetal6.ogg" },
                    { artist: "UFO", track: "Silver Bird", path: "../../../samples/metal/heavymetal7.ogg" },
                    { artist: "Rush", track: "Tom Sawyer", path: "../../../samples/metal/heavymetal8.ogg" },
                    { artist: "Mountain", track: "Mississippi Queen", path: "../../../samples/metal/heavymetal9.ogg" }
                ];

                const audioInstances = tracks.map(track => new Audio(track.path));
                const $artistSpan = $('#artist');
                const $trackSpan = $('#track');
                const $button = $('.buttons');

                $button.on('click', function() {
                    stopAllMusic();
                    const index = $button.index(this);
                    $(this).toggleClass('clicked');
                    const audio = audioInstances[index];
                    audio.play();
                    $artistSpan.text(tracks[index].artist);
                    $trackSpan.text(tracks[index].track);
                });

                $('.stop').on('click', function() {
                    stopAllMusic();
                    $artistSpan.text('');
                    $trackSpan.text('');
                });

                function stopAllMusic() {
                    audioInstances.forEach(audio => {
                        audio.pause();
                        audio.currentTime = 0;
                    });
                    $button.removeClass('clicked');
                }
            });
        </script>
    </body>
</html>

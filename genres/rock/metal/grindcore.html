<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <link rel="stylesheet" href="../../../css/style.css">
        <title>Grindcore</title>
    </head>

    <body id="grindcore">
        <div class="box metal">
            <h1>GRINDCORE</h1><div class="year year-metal">1985</div>

            <p>Soon a new genre emerged in the world of Metal, even faster than Death Metal or anything else. Grindcore is arguably one of the most extreme genres in the world of music. It is characterised by maximum-speed, "grinding" buzzsaw guitars, bursting lyrics and special, hyperspeed repetitiveness and machinegun-like drum kicks (known as blast beats). With its non-defined song structure and maximal distortion and speed, Grindcore could appear as the ultimate protest genre, but it has lost this essence in its pursuit for provocation and extremity. When it first appeared in the mid-80s, Grindcore in its purest form consisted of short, apocalyptic blasts of noise played on standard Metal instrumentation. Almost all Grindcore tries to be as gory, shocking and politically incorrect as possible, leading to subgenres with dubious names depending on subject matter such as Pornogrind and Goregrind. Although Grindcore did not originate from Death Metal, both genres share much resemblance in their sound experimentation and their love for lyrics about pain have been influencing each other during their respective evolution.</p>

            <div class="row">
                <div class="col-1"><div class="buttons buttons-metal">1</div></div>
                <div class="col-1"><div class="buttons buttons-metal">2</div></div>
                <div class="col-1"><div class="buttons buttons-metal">3</div></div>
                <div class="col-1"><div class="buttons buttons-metal">4</div></div>
                <div class="col-1"><div class="buttons buttons-metal">5</div></div>
                <div class="col-1"><div class="buttons buttons-metal">6</div></div>
                <div class="col-1"><div class="buttons buttons-metal">7</div></div>
                <div class="col-1"><div class="buttons buttons-metal">8</div></div>
                <div class="col-1"><div class="buttons buttons-metal">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-metal-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Napalm Death",
                        track: "Negative Approach",
                        path: "../../../samples/metal/grindcore1.ogg"
                    },
                    {
                        artist: "Extreme Noise Terror",
                        track: "Raping The Earth",
                        path: "../../../samples/metal/grindcore2.ogg"
                    },
                    {
                        artist: "Heresy",
                        track: "Blinded By Power",
                        path: "../../../samples/metal/grindcore3.ogg"
                    },
                    {
                        artist: "Insect Warfare",
                        track: "Self Termination",
                        path: "../../../samples/metal/grindcore4.ogg"
                    },
                    {
                        artist: "Brutal Truth",
                        track: "Sugardaddy",
                        path: "../../../samples/metal/grindcore5.ogg"
                    },
                    {
                        artist: "Wormrot",
                        track: "Hollow Roots",
                        path: "../../../samples/metal/grindcore6.ogg"
                    },
                    {
                        artist: "Rotten Sound",
                        track: "Mass Suicide",
                        path: "../../../samples/metal/grindcore7.ogg"
                    },
                    {
                        artist: "Pig Destroyer",
                        track: "Towering Flesh",
                        path: "../../../samples/metal/grindcore8.ogg"
                    },
                    {
                        artist: "General Surgery",
                        track: "Grotesque Laceration Of Mortified Flesh",
                        path: "../../../samples/metal/grindcore9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-metal').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-metal-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-metal"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="../../../css/bootstrap.css">
        <link rel="stylesheet" href="../../../css/style.css">
        <title>Power Metal</title>
    </head>

    <body id="powermetal">
        <div class="box metal">
            <h1>POWER METAL</h1>

            <p>Power Metal is a lesser-known but properly defined kind of Metal that started in the 90s (particularly in Germany) and still has a dedicated fanbase today. As a movement, Power Metal began mostly as a reaction against the harshness and lack of melody in Death Metal and Black Metal. Power Metal is not really heavy &ndash; first and foremost it's high and fast. The lyrics often tell fictional fantasy tales about warriors, knights and dragons and are almost always sung in a high-pitched male voice. Furthermore, the music is filled with large amounts of melodies and drum rolls, building up and breaking down, like a rollercoaster ride filled with energy and enthusiasm. The difference between the speedy and guitar solo-orientated types of other kinds of Metal versus Power Metal is that the latter seems to constantly maintain its high velocity and even higher frequency as if it's being overcharged with electricity. Power Metal is a genre that never really influenced other genres or evolved in another one. As such, it remained a long-lasting parallel Metal stream, though easily eclipsed by the bigger Metal genres.</p>

            <div class="row icon-list">
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-metal">1</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-metal">2</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-metal">3</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-metal">4</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-metal">5</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-metal">6</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-metal">7</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-metal">8</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-metal">9</div></div>
                <div class="d-lg-none col-lg-1 col-xs-1"><div class="buttons buttons-metal-stop">&FilledSmallSquare;</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="d-none d-lg-block col-md-1 stop"><div class="buttons buttons-metal-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Blind Guardian",
                        track: "Mirror, Mirror",
                        path: "../../../samples/metal/powermetal1.ogg"
                    },
                    {
                        artist: "Hammerfall",
                        track: "Any Means Necessary",
                        path: "../../../samples/metal/powermetal2.ogg"
                    },
                    {
                        artist: "Helloween",
                        track: "I Want Out",
                        path: "../../../samples/metal/powermetal3.ogg"
                    },
                    {
                        artist: "Savatage",
                        track: "Hall Of The Mountain King",
                        path: "../../../samples/metal/powermetal4.ogg"
                    },
                    {
                        artist: "Manowar",
                        track: "Hail And Kill",
                        path: "../../../samples/metal/powermetal5.ogg"
                    },
                    {
                        artist: "Gamma Ray",
                        track: "Wings Of Destiny",
                        path: "../../../samples/metal/powermetal6.ogg"
                    },
                    {
                        artist: "DragonForce",
                        track: "Heroes Of Our Time",
                        path: "../../../samples/metal/powermetal7.ogg"
                    },
                    {
                        artist: "Kamelot",
                        track: "Insomnia",
                        path: "../../../samples/metal/powermetal8.ogg"
                    },
                    {
                        artist: "Iced Earth",
                        track: "Dracula",
                        path: "../../../samples/metal/powermetal9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-metal').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-metal-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-metal"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../../css/style.css">
        <title>Heartland Rock</title>
    </head>

    <body class="genre" id="heartlandrock">
        <div class="box classicrock">
            <h1>HEARTLAND ROCK</h1>

            <p>Heartland Rock developed in the 70s, when Hard Rock and Heavy Metal bands began to gain popularity. Heartland Rock provided the counterweight for loud, sharp, in-your-face Rock within more mature circles. The music became more commercially oriented and radio-friendly, boasting slick productions and anthemic choruses through their sweeping power ballads. Most of these bands earned their following through saturation airplay on FM radio and through constant touring. The contrast with Hard Rock increased, leading to the antonym Soft Rock. Strongly reminiscent of Progressive Rock, Heartland Rock bands focused on the album as a whole (singles were less important) and they were filled with long and varying songs. Heartland Rock is a lot more catchy and accessible than other forms of Rock. The main reason for Heartland Rock's success does not lie in its glossy production or the combination of dramatic guitar chords with simple drum patterns. Though this certainly helped, its success lies in a twisted nostalgia of the free spirit of the 60s, and a strong desire to forget all negative things of the early 70s.</p>

            <div class="row icon-list">
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-classicrock">1</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-classicrock">2</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-classicrock">3</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-classicrock">4</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-classicrock">5</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-classicrock">6</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-classicrock">7</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-classicrock">8</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-classicrock">9</div></div>
                <div class="d-block d-md-none col-md-1 col-xs-1"><div class="buttons buttons-classicrock-stop">&#9724;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-md-block col-md-1 stop"><div class="buttons buttons-classicrock-stop">&#9724;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Survivor",
                        track: "Eye Of The Tiger",
                        path: "../../../samples/rock/classicrock/heartlandrock1.ogg"
                    },
                    {
                        artist: "Boston",
                        track: "More Than A Feeling",
                        path: "../../../samples/rock/classicrock/heartlandrock2.ogg"
                    },
                    {
                        artist: "Journey",
                        track: "Don't Stop Believin'",
                        path: "../../../samples/rock/classicrock/heartlandrock3.ogg"
                    },
                    {
                        artist: "Toto",
                        track: "Hold The Line",
                        path: "../../../samples/rock/classicrock/heartlandrock4.ogg"
                    },
                    {
                        artist: "Heart",
                        track: "Straight On",
                        path: "../../../samples/rock/classicrock/heartlandrock5.ogg"
                    },
                    {
                        artist: "REO Speedwagon",
                        track: "Can't Fight This Feeling",
                        path: "../../../samples/rock/classicrock/heartlandrock6.ogg"
                    },
                    {
                        artist: "John Mellencamp",
                        track: "Small Town",
                        path: "../../../samples/rock/classicrock/heartlandrock7.ogg"
                    },
                    {
                        artist: "Bruce Springsteen",
                        track: "Born In The U.S.A.",
                        path: "../../../samples/rock/classicrock/heartlandrock8.ogg"
                    },
                    {
                        artist: "Tom Petty And The Heartbreakers",
                        track: "Straight Into Darkness",
                        path: "../../../samples/rock/classicrock/heartlandrock9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-classicrock').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-classicrock-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-classicrock"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

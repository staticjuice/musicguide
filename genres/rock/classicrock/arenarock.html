<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Arena Rock</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../../css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,900" rel="stylesheet">
</head>
  
<body class="genre arenarock">
    <div id="box-classicrock">
        <h1>ARENA ROCK</h1><br>
            
        Arena Rock developed in the 70s, when Hard Rock and Heavy Metal bands began to gain popularity. Arena Rock provided the counterweight for loud, sharp, in-your-face Rock within more mature circles. The music became more commercially oriented and radio-friendly, boasting slick productions and anthemic choruses through their sweeping power ballads. Most of these bands earned their following through saturation airplay on FM radio and through constant touring. The contrast with Hard Rock increased, leading to the antonym Soft Rock. Strongly reminiscent of Prog Rock, Arena Rock bands focused on the album as a whole (singles were less important) and they were filled with long and varying songs. Arena Rock is a lot more catchy and accessible than Prog Rock. The main reason for Arena Rock's success does not lie in its glossy production or the combination of dramatic guitar chords with simple drum patterns. Though this certainly helped, its success lies in a twisted nostalgia of the free spirit of the sixties, and a strong desire to forget all negative things of the early seventies.<br><br>

        <div class="row icon-list">
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-classicrock">1</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-classicrock">2</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-classicrock">3</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-classicrock">4</div>
            </div>
                
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-classicrock">5</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-classicrock">6</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-classicrock">7</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-classicrock">8</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-classicrock">9</div>
            </div>

            <div class="visible-xs col-xs-1">
                <div class="buttons-classicrock-stop">&#9724;</div>
            </div>
        </div>

        <div class="example"><br>
            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p> 
        </div>

        <div class="hidden-xs col-sm-1 stop">
            <div class="buttons-classicrock-stop">&#9724;</div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
    <script>
        $(document).ready(function() {

            
            var tracks = [
                {
                    artist: "Survivor",
                    track: "Eye Of The Tiger",
                    path: "../../../samples/rock/classicrock/arenarock1.ogg"
                },
                {
                    artist: "Boston",
                    track: "More Than A Feeling",
                    path: "../../../samples/rock/classicrock/arenarock2.ogg"
                },
                {
                    artist: "Journey",
                    track: "Don't Stop Believin'",
                    path: "../../../samples/rock/classicrock/arenarock3.ogg"
                },
                {
                    artist: "Toto",
                    track: "Hold The Line",
                    path: "../../../samples/rock/classicrock/arenarock4.ogg"
                },
                {
                    artist: "Heart",
                    track: "Straight On",
                    path: "../../../samples/rock/classicrock/arenarock5.ogg"
                },
                {
                    artist: "REO Speedwagon",
                    track: "Can't Fight This Feeling",
                    path: "../../../samples/rock/classicrock/arenarock6.ogg"
                },
                {
                    artist: "John Mellencamp",
                    track: "Small Town",
                    path: "../../../samples/rock/classicrock/arenarock7.ogg"
                },
                {
                    artist: "Bruce Springsteen",
                    track: "Born In The U.S.A.",
                    path: "../../../samples/rock/classicrock/arenarock8.ogg"
                },
                {
                    artist: "Tom Petty And The Heartbreakers",
                    track: "Straight Into Darkness",
                    path: "../../../samples/rock/classicrock/arenarock9.ogg"
                }
            ]

            tracks.forEach(track => {
                const audio = new Audio()
                audio.addEventListener('canplaythrough', null, false)
                audio.src = track.path
            })

            var artistSpan = $(document).find('#artist')[0]

            var track = $(document).find('#track')[0]

            var audioInstanceArray = [];

            var buttons = [];

            var audioInstance;

            $(document).find('.buttons-classicrock').each(function(index, button) {

                buttons.push(button);
                
                $(this).click(function() {

                    removeAllButtonBorders()

                    $(this).toggleClass('clicked');
                
                    stopAllMusic()

                    audioInstance = new Audio(tracks[index].path);
                    audioInstanceArray.push(audioInstance);
                    audioInstance.play();

                    artistSpan.innerHTML = tracks[index].artist
                    track.innerHTML = tracks[index].track

                });
            });

            $('.buttons-classicrock-stop').on('click', function() {

                stopAllMusic()

                artistSpan.innerHTML = ''
                track.innerHTML = ''

                removeAllButtonBorders()

            });

            var removeAllButtonBorders = () => {
                buttons.forEach(
                    button => button.className = "buttons-classicrock"
                )
            }

            var stopAllMusic = () => {
                 audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
            }

        });

    </script>

</body>
</html>
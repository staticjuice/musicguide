<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Skiffle</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../../css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,900" rel="stylesheet">
</head>
  
<body class="genre skiffle">
    <div id="box-rockandroll">
        <h1>SKIFFLE</h1><br>
            
        Skiffle is one of the oldest popular music genres. Emerging in the twenties in the United States, early Skiffle can be seen as a Folk influenced form of Proto-Country. Skiffle was music for the poorest of people, who created a true jack-of-all-trades musical melting pot with whatever instrument they could lay their hands on, as long as it was cheap &ndash; fiddle, banjo, kazoo, and household items such as washboards. The biggest challenge was an inexpensive alternative for bass, which they found in large jugs. Jug Bands even had to throw pop-up house parties to pay the rent and their instruments, which were called “Skiffles”. In the early 50's a Skiffle Revival takes place in the United Kingdom, parallel to the rise of early R&amp;B and Rock &amp; Roll. Because Britain lacked the history of Country music, almost all musicians struggled with creating Rock &amp; Roll music. In response to American R&amp;R, poor British students responded with a type of Folk-Blues-Rock, that was very loud, fast and noisy. They used the same instruments as older American Jug Bands alongside cheap acoustic guitars. But by 1958, Rock ‘n’ Roll became so big, that Skiffle quickly decayed.<br><br>

        <div class="row icon-list">
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-rockandroll">1</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-rockandroll">2</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-rockandroll">3</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-rockandroll">4</div>
            </div>
                
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-rockandroll">5</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-rockandroll">6</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-rockandroll">7</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-rockandroll">8</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-rockandroll">9</div>
            </div>

            <div class="visible-xs col-xs-1">
                <div class="buttons-rockandroll-stop">&#9724;</div>
            </div>
        </div>

        <div class="example"><br>
            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p> 
        </div>

        <div class="hidden-xs col-sm-1 stop">
            <div class="buttons-rockandroll-stop">&#9724;</div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
    <script>
        $(document).ready(function() {

            
            var tracks = [
                {
                    artist: "The Vipers Skiffle Group",
                    track: "Don't You Rock Me Daddy-O",
                    path: "../../../samples/rock/rockandroll/skiffle1.ogg"
                },
                {
                    artist: "Lonnie Donegan",
                    track: "Putting On The Style",
                    path: "../../../samples/rock/rockandroll/skiffle2.ogg"
                },
                {
                    artist: "Ken Coyler Skiffle Group",
                    track: "Downbound Train",
                    path: "../../../samples/rock/rockandroll/skiffle3.ogg"
                },
                {
                    artist: "The City Ramblers Skiffle Group",
                    track: "Mama Don't Allow",
                    path: "../../../samples/rock/rockandroll/skiffle4.ogg"
                },
                {
                    artist: "Johnny Duncan",
                    track: "Footprints In The Snow",
                    path: "../../../samples/rock/rockandroll/skiffle5.ogg"
                },
                {
                    artist: "Jimmy Jackson's Rock'N'Skiffle",
                    track: "California Zephyr",
                    path: "../../../samples/rock/rockandroll/skiffle6.ogg"
                },
                {
                    artist: "Lea Valley Skiffle Group",
                    track: "Streamline Train",
                    path: "../../../samples/rock/rockandroll/skiffle7.ogg"
                },
                {
                    artist: "Tommy Steele",
                    track: "Flash, Bang, Wallop",
                    path: "../../../samples/rock/rockandroll/skiffle8.ogg"
                },
                {
                    artist: "Chris Barber",
                    track: "Gypsy Davy",
                    path: "../../../samples/rock/rockandroll/skiffle9.ogg"
                }
            ]

            tracks.forEach(track => {
                const audio = new Audio()
                audio.addEventListener('canplaythrough', null, false)
                audio.src = track.path
            })

            var artistSpan = $(document).find('#artist')[0]

            var track = $(document).find('#track')[0]

            var audioInstanceArray = [];

            var buttons = [];

            var audioInstance;

            $(document).find('.buttons-rockandroll').each(function(index, button) {

                buttons.push(button);
                
                $(this).click(function() {

                    removeAllButtonBorders()

                    $(this).toggleClass('clicked');
                
                    stopAllMusic()

                    audioInstance = new Audio(tracks[index].path);
                    audioInstanceArray.push(audioInstance);
                    audioInstance.play();

                    artistSpan.innerHTML = tracks[index].artist
                    track.innerHTML = tracks[index].track

                });
            });

            $('.buttons-rockandroll-stop').on('click', function() {

                stopAllMusic()

                artistSpan.innerHTML = ''
                track.innerHTML = ''

                removeAllButtonBorders()

            });

            var removeAllButtonBorders = () => {
                buttons.forEach(
                    button => button.className = "buttons-rockandroll"
                )
            }

            var stopAllMusic = () => {
                 audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
            }

        });

    </script>

</body>
</html>
<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="../../css/bootstrap.css">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Surf Rock</title>
    </head>

    <body id="surfrock">
        <div class="box rock">
            <h1>SURF ROCK</h1>

            <p>The sun, the beach, palm trees and a carefree lifestyle were the perfect atmosphere for surf boys to retreat in the shack to work on their guitar technique. With incredibly fast, rolling guitar riffs put in reverb, they created a washing sound that could easily imitate ocean waves and impress girls in that true Rock &amp; Roll heritage. Almost all Surf Rock is purely instrumental and this draws even more attention towards the proficiency of its guitarists. Non-instrumental genres were often much slower and less technical, such as the music of The Beach Boys, who were by far the most well-known exponent. Surf Rock features standard 4/4 Rock &amp; Roll riffs, yet spiced up by influences from Cuban malague√±a songs. This made them so fast, catchy and addictive that everyone wanted to play them. Covering Surf Rock tunes from other bands was so common and tolerated, that eventually, nobody knew who actually made the originals anymore. This was non-commercial, DIY, fun music in its purest form, which sadly became almost completely extinct because almost all bands cared too little for professional distribution or promotion of their music.</p>

            <div class="row icon-list">
                <div class="col-1"><div class="buttons buttons-rock">1</div></div>
                <div class="col-1"><div class="buttons buttons-rock">2</div></div>
                <div class="col-1"><div class="buttons buttons-rock">3</div></div>
                <div class="col-1"><div class="buttons buttons-rock">4</div></div>
                <div class="col-1"><div class="buttons buttons-rock">5</div></div>
                <div class="col-1"><div class="buttons buttons-rock">6</div></div>
                <div class="col-1"><div class="buttons buttons-rock">7</div></div>
                <div class="col-1"><div class="buttons buttons-rock">8</div></div>
                <div class="col-1"><div class="buttons buttons-rock">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-rock-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "The Surfaris",
                        track: "Wipe Out",
                        path: "../../samples/rock/surfrock1.ogg"
                    },
                    {
                        artist: "Dick Dale And The Del-Tones",
                        track: "Misirlou",
                        path: "../../samples/rock/surfrock2.ogg"
                    },
                    {
                        artist: "The Beach Boys",
                        track: "Surfin' U.S.A.",
                        path: "../../samples/rock/surfrock3.ogg"
                    },
                    {
                        artist: "The Shadows",
                        track: "Apache",
                        path: "../../samples/rock/surfrock4.ogg"
                    },
                    {
                        artist: "The Ventures",
                        track: "Walk, Don't Run",
                        path: "../../samples/rock/surfrock5.ogg"
                    },
                    {
                        artist: "The Chantays",
                        track: "Pipeline",
                        path: "../../samples/rock/surfrock6.ogg"
                    },
                    {
                        artist: "The Marketts",
                        track: "Out Of Limits",
                        path: "../../samples/rock/surfrock7.ogg"
                    },
                    {
                        artist: "The Champs",
                        track: "Tequila",
                        path: "../../samples/rock/surfrock8.ogg"
                    },
                    {
                        artist: "The Bel-Aires",
                        track: "Mr. Moto",
                        path: "../../samples/rock/surfrock9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-rock').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-rock-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-rock"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="../../css/bootstrap.css">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Hard Rock</title>
    </head>

    <body id="hardrock">
        <div class="box rock">
            <h1>HARD ROCK</h1>

            <p>Many music genres have been restyled into a rougher version of themselves. The same happened with Blues Rock in the late 60s, which got restyled into Hard Rock. With the shutdown of UK's pirate radios of the 60s, a louder and faster kind of Blues Rock was born which ultimately lead to the birth of Heavy Metal. The genre quickly caught on with the masses, as it was the first "heavy" music genre to exist or certainly the heaviest at this time. Hard Rock uses the same instrument setup as basic Classic Rock but with more distortion on the guitars and simple song structures. Hard Rock also introduced one of the most quintessential Rock elements &ndash; the Riff. Riffs are short unique melodies, often repetitive and a recognisable trademark of many Rock anthems. Bursting with testosterone, Hard Rock is a macho thing, regardless if you're a biker, leather-clad Rock star, or simply part of the rebel-outlaw subculture. The lyrical content often dealt with these lifestyles, talking about dark, criminal or macho topics. A new direction of music was born, so large and prominent that it's hard to say which Rock genre thereafter wasn't influenced by it.</p>

            <div class="row icon-list">
                <div class="col-1"><div class="buttons buttons-rock">1</div></div>
                <div class="col-1"><div class="buttons buttons-rock">2</div></div>
                <div class="col-1"><div class="buttons buttons-rock">3</div></div>
                <div class="col-1"><div class="buttons buttons-rock">4</div></div>
                <div class="col-1"><div class="buttons buttons-rock">5</div></div>
                <div class="col-1"><div class="buttons buttons-rock">6</div></div>
                <div class="col-1"><div class="buttons buttons-rock">7</div></div>
                <div class="col-1"><div class="buttons buttons-rock">8</div></div>
                <div class="col-1"><div class="buttons buttons-rock">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-rock-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "AC/DC",
                        track: "Thunderstruck",
                        path: "../../samples/rock/hardrock1.ogg"
                    },
                    {
                        artist: "George Thorogood & The Destroyers",
                        track: "Bad To The Bone",
                        path: "../../samples/rock/hardrock2.ogg"
                    },
                    {
                        artist: "Ram Jam",
                        track: "Black Betty",
                        path: "../../samples/rock/hardrock3.ogg"
                    },
                    {
                        artist: "Aerosmith",
                        track: "Love In An Elevator",
                        path: "../../samples/rock/hardrock4.ogg"
                    },
                    {
                        artist: "Thin Lizzy",
                        track: "Johnny",
                        path: "../../samples/rock/hardrock5.ogg"
                    },
                    {
                        artist: "Free",
                        track: "All Right Now",
                        path: "../../samples/rock/hardrock6.ogg"
                    },
                    {
                        artist: "Humble Pie",
                        track: "Honky Tonk Women",
                        path: "../../samples/rock/hardrock7.ogg"
                    },
                    {
                        artist: "Steppenwolf",
                        track: "Born To Be Wild",
                        path: "../../samples/rock/hardrock8.ogg"
                    },
                    {
                        artist: "The Who",
                        track: "Won't Get Fooled Again",
                        path: "../../samples/rock/hardrock9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-rock').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-rock-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-rock"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

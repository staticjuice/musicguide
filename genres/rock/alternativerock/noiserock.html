<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Noise Rock</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../../css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,900" rel="stylesheet">
</head>
  
<body class="genre noiserock">
    <div id="box-alternativerock">
        <h1>NOISE ROCK</h1><br>
            
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras tristique id odio vitae malesuada. Vivamus fermentum ultricies vestibulum. Mauris pellentesque accumsan eros id dictum. Lorem ipsum dolor sit amet, consectetur adipiscing elit. In sit amet turpis ac erat dignissim tincidunt sit amet nec diam. Proin vel laoreet dui, vehicula venenatis risus. Nulla facilisi. Nullam quis blandit tellus, in vehicula nulla. Praesent gravida et eros et mollis. Curabitur eget nisi at erat aliquet gravida et in velit. Vivamus eget orci eu sem hendrerit condimentum. Vivamus ultrices, sem et sagittis pharetra, sapien nunc lacinia risus, eget venenatis erat nisi in urna. Proin ac sapien sit amet dui varius condimentum. Quisque dapibus eros et sapien semper, tristique commodo ante dapibus. Fusce ac felis sollicitudin, condimentum mi bibendum, fermentum risus. Nullam imperdiet velit et lacus lacinia blandit. Sed sed pulvinar arcu, nec lacinia metus. Donec lorem arcu, iaculis non eros eget, sagittis iaculis enim. Aenean ultricies vulputate ultricies. Nulla blandit semper neque eu accumsan. Pellentesque commodo tellus dapibus, auctor mauris vel, sodales turpis.<br><br>

        <div class="row icon-list">
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-alternativerock">1</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-alternativerock">2</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-alternativerock">3</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-alternativerock">4</div>
            </div>
                
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-alternativerock">5</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-alternativerock">6</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-alternativerock">7</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-alternativerock">8</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-alternativerock">9</div>
            </div>

            <div class="visible-xs col-xs-1">
                <div class="buttons-alternativerock-stop">&#9724;</div>
            </div>
        </div>

        <div class="example"><br>
            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p> 
        </div>

        <div class="hidden-xs col-sm-1 stop">
            <div class="buttons-alternativerock-stop">&#9724;</div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
    <script>
        $(document).ready(function() {

            
            var tracks = [
                {
                    artist: "Sonic Youth",
                    track: "Kotton Known",
                    path: "../../../samples/rock/alternativerock/noiserock1.ogg"
                },
                {
                    artist: "Helmet",
                    track: "Milquetoast",
                    path: "../../../samples/rock/alternativerock/noiserock2.ogg"
                },
                {
                    artist: "Butthole Surfers",
                    track: "Who Was In My Room Last Night?",
                    path: "../../../samples/rock/alternativerock/noiserock3.ogg"
                },
                {
                    artist: "The Jesus Lizard",
                    track: "Nub",
                    path: "../../../samples/rock/alternativerock/noiserock4.ogg"
                },
                {
                    artist: "Melvins",
                    track: "A History Of Bad Men",
                    path: "../../../samples/rock/alternativerock/noiserock5.ogg"
                },
                {
                    artist: "Pussy Galore",
                    track: "Evil Eye",
                    path: "../../../samples/rock/alternativerock/noiserock6.ogg"
                },
                {
                    artist: "Dinosaur Jr.",
                    track: "Start Choppin'",
                    path: "../../../samples/rock/alternativerock/noiserock7.ogg"
                },
                {
                    artist: "Laughing Hyenas",
                    track: "Just Can't Win",
                    path: "../../../samples/rock/alternativerock/noiserock8.ogg"
                },
                {
                    artist: "Lightning Bolt",
                    track: "Dracula Mountain",
                    path: "../../../samples/rock/alternativerock/noiserock9.ogg"
                }
            ]

            var artistSpan = $(document).find('#artist')[0]

            var track = $(document).find('#track')[0]

            var audioInstanceArray = [];

            var buttons = [];

            var audioInstance;

            $(document).find('.buttons-alternativerock').each(function(index, button) {

                buttons.push(button);
                
                $(this).click(function() {

                    removeAllButtonBorders()

                    $(this).toggleClass('clicked');
                
                    stopAllMusic()

                    audioInstance = new Audio(tracks[index].path);
                    audioInstanceArray.push(audioInstance);
                    audioInstance.play();

                    artistSpan.innerHTML = tracks[index].artist
                    track.innerHTML = tracks[index].track

                });
            });

            $('.buttons-alternativerock-stop').on('click', function() {

                stopAllMusic()

                artistSpan.innerHTML = ''
                track.innerHTML = ''

                removeAllButtonBorders()

            });

            var removeAllButtonBorders = () => {
                buttons.forEach(
                    button => button.className = "buttons-alternativerock"
                )
            }

            var stopAllMusic = () => {
                 audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
            }

        });

    </script>

</body>
</html>
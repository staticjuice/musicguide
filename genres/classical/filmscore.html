<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="../../css/bootstrap.css">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Film Score</title>
    </head>

    <body id="filmscore">
        <div class="box classical">
            <h1>FILM SCORE</h1><div class="year year-classical">1908</div>

            <p>While not strictly a form of Classical music, Film Score is the background music that is written specifically to accompany a film, often being orchestral much like Classical music was. Although the overall style of most film scores are orchestral works rooted in Western Classical music, it is also common for many scores to take their influences from Jazz, Rock, Pop, Blues, New Age and Ambient too. Electronic sounds and instruments are also found quite frequently in modern film scores too, with many well-revered composers ditching the orchestra and switching to this method of composition instead. Also important to note is that a movie's score is different from its soundtrack. A soundtrack release will contain a compilation of songs used in the film, often by famous bands, whereas the score music release will instead feature only the cinematic music. Film Score as a genre is considered by many to be one of the most emotional forms of music, being able to make you cry, make you scared or make you happy. For this reason, you can see why this style of music goes well with film, as the music is part of the story itself.</p>

            <div class="row">
                <div class="col-1"><div class="buttons buttons-classical">1</div></div>
                <div class="col-1"><div class="buttons buttons-classical">2</div></div>
                <div class="col-1"><div class="buttons buttons-classical">3</div></div>
                <div class="col-1"><div class="buttons buttons-classical">4</div></div>
                <div class="col-1"><div class="buttons buttons-classical">5</div></div>
                <div class="col-1"><div class="buttons buttons-classical">6</div></div>
                <div class="col-1"><div class="buttons buttons-classical">7</div></div>
                <div class="col-1"><div class="buttons buttons-classical">8</div></div>
                <div class="col-1"><div class="buttons buttons-classical">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-classical-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "John Williams",
                        track: "Star Wars - Main Title",
                        path: "../../samples/classical/filmscore1.ogg"
                    },
                    {
                        artist: "Hans Zimmer",
                        track: "Time",
                        path: "../../samples/classical/filmscore2.ogg"
                    },
                    {
                        artist: "John Powell",
                        track: "Forbidden Friendship",
                        path: "../../samples/classical/filmscore3.ogg"
                    },
                    {
                        artist: "Howard Shore",
                        track: "Concerning Hobbits",
                        path: "../../samples/classical/filmscore4.ogg"
                    },
                    {
                        artist: "Michael Giacchino",
                        track: "Married Life",
                        path: "../../samples/classical/filmscore5.ogg"
                    },
                    {
                        artist: "Thomas Newman",
                        track: "Define Dancing",
                        path: "../../samples/classical/filmscore6.ogg"
                    },
                    {
                        artist: "James Horner",
                        track: "Jake Enters His Avatar World",
                        path: "../../samples/classical/filmscore7.ogg"
                    },
                    {
                        artist: "Harry Gregson-Williams",
                        track: "The Battle",
                        path: "../../samples/classical/filmscore8.ogg"
                    },
                    {
                        artist: "Tom Tykwer, Johnny Klimek & Reinhold Heil",
                        track: "All Boundaries Are Conventions",
                        path: "../../samples/classical/filmscore9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-classical').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-classical-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-classical"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

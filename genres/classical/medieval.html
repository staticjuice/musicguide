<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Medieval</title>
    </head>

    <body class="genre" id="medieval">
        <div class="box classical">
            <h1>MEDIEVAL</h1>

            <p>Medieval music consists of liturgical music, songs and instrumental pieces from about 400 CE to 1400 CE. Medieval music was an era of Western music, including liturgical music (also known as sacred) used for the church, and secular music or non-religious music. Medieval music includes solely vocal music, such as Gregorian Chant and choral music (music for a group of singers), solely instrumental music and music that uses both voices and instruments (typically with the instruments accompanying the voices). Gregorian Chant was sung by monks during Catholic Mass. The Mass is a reenactment of Christ's Last Supper, intended to provide a spiritual connection between man and God. Part of this connection was established through music. This era begins with the fall of the Western Roman Empire in the 5th century and ends sometime in the early 15th century. Establishing the end of the Medieval era and the beginning of the Renaissance music era is difficult since the trends started at different times in different regions. The date range outlined at the start is the one usually adopted by musicologists.</p>

            <div class="row icon-list">
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-classical">1</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-classical">2</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-classical">3</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-classical">4</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-classical">5</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-classical">6</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-classical">7</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-classical">8</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-classical">9</div></div>
                <div class="d-lg-none col-lg-1 col-xs-1"><div class="buttons buttons-classical-stop">&FilledSmallSquare;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-lg-block col-md-1 stop"><div class="buttons buttons-classical-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Guillaume De Machaut",
                        track: "Messe De Nostre Dame",
                        path: "../../samples/classical/medieval1.ogg"
                    },
                    {
                        artist: "Hildegard Von Bingen",
                        track: "O Deus",
                        path: "../../samples/classical/medieval2.ogg"
                    },
                    {
                        artist: "Francesco Landini",
                        track: "Quanto Piu Caro Fai",
                        path: "../../samples/classical/medieval3.ogg"
                    },
                    {
                        artist: "Matteo Da Perugia",
                        track: "Ave Sancta Mundi Salus",
                        path: "../../samples/classical/medieval4.ogg"
                    },
                    {
                        artist: "Claudio Merulo",
                        track: "O Adoranda Trinitas",
                        path: "../../samples/classical/medieval5.ogg"
                    },
                    {
                        artist: "Jacob De Senleches",
                        track: "La Harpe De Melodie",
                        path: "../../samples/classical/medieval6.ogg"
                    },
                    {
                        artist: "Adam De Saint Victor",
                        track: "Jubilemus Salvatori",
                        path: "../../samples/classical/medieval7.ogg"
                    },
                    {
                        artist: "John Dunstable",
                        track: "Quam Pulchra Es, JD 44",
                        path: "../../samples/classical/medieval8.ogg"
                    },
                    {
                        artist: "Leonel Power",
                        track: "Motet - Quam Pulchra Es",
                        path: "../../samples/classical/medieval9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-classical').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-classical-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-classical"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Romantic</title>
    </head>

    <body id="romantic">
        <div class="box classical">
            <h1>ROMANTIC</h1><div class="year year-classical">c. 1800</div>

            <p>Romantic music began in the late 18th or early 19th century. It is related to Romanticism, the European artistic and literary movement that arose in the second half of the 18th century. In the Romantic period, music became more expressive and emotional, expanding to encompass literary, artistic and philosophical themes. Famous early Romantic composers include Beethoven (whose works span both this period and the preceding Classical period), Schubert, Schumann, Chopin, Mendelssohn, Bellini and Berlioz. The late 19th century saw a dramatic expansion in the size of the orchestra and the dynamic range and diversity of instruments used in this ensemble. Also, public concerts became a key part of urban middle-class society, in contrast to earlier periods, when concerts were mainly paid for by and performed for aristocrats. Famous composers from the second half of the century include Johann Strauss II, Brahms, Liszt, Tchaikovsky, Verdi and Wagner. Between 1890 and 1910, a third wave of composers built on the work of middle Romantic composers to create even more complex &ndash; and often much longer &ndash; musical works.</p>

            <div class="row">
                <div class="col-1"><div class="buttons buttons-classical">1</div></div>
                <div class="col-1"><div class="buttons buttons-classical">2</div></div>
                <div class="col-1"><div class="buttons buttons-classical">3</div></div>
                <div class="col-1"><div class="buttons buttons-classical">4</div></div>
                <div class="col-1"><div class="buttons buttons-classical">5</div></div>
                <div class="col-1"><div class="buttons buttons-classical">6</div></div>
                <div class="col-1"><div class="buttons buttons-classical">7</div></div>
                <div class="col-1"><div class="buttons buttons-classical">8</div></div>
                <div class="col-1"><div class="buttons buttons-classical">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-classical-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.7.0.slim.min.js" integrity="sha256-tG5mcZUtJsZvyKAxYLVXrmjKBVLd6VpVccqz/r4ypFE=" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Ludwig Van Beethoven",
                        track: "Symphony No. 5",
                        path: "../../samples/classical/romantic1.ogg"
                    },
                    {
                        artist: "Franz Schubert",
                        track: "Fantasy",
                        path: "../../samples/classical/romantic2.ogg"
                    },
                    {
                        artist: "Robert Schumann",
                        track: "Waldszenen",
                        path: "../../samples/classical/romantic3.ogg"
                    },
                    {
                        artist: "Frédéric Chopin",
                        track: "Nocturne",
                        path: "../../samples/classical/romantic4.ogg"
                    },
                    {
                        artist: "Felix Mendelssohn",
                        track: "Symphony No. 3",
                        path: "../../samples/classical/romantic5.ogg"
                    },
                    {
                        artist: "Vincenzo Bellini",
                        track: "Casta Diva",
                        path: "../../samples/classical/romantic6.ogg"
                    },
                    {
                        artist: "Johannes Brahms",
                        track: "Fantasien",
                        path: "../../samples/classical/romantic7.ogg"
                    },
                    {
                        artist: "Richard Wagner",
                        track: "Tannhäuser",
                        path: "../../samples/classical/romantic8.ogg"
                    },
                    {
                        artist: "Pyotr Ilyich Tchaikovsky",
                        track: "Swan Lake",
                        path: "../../samples/classical/romantic9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-classical').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-classical-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-classical"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

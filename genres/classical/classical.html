<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Classical</title>
    </head>

    <body id="classical">
        <div class="box classical">
            <h1>CLASSICAL</h1><div class="year year-classical">c. 1730</div>

            <p>The dates of the Classical period in Western music are generally accepted as being between about the year 1730 and 1820. Compared to its predecessors, Classical music has a lighter, clearer texture than Baroque music and is less complex, being more clean and rational. It is mainly homophonic, using a clear melody line over a subordinate chordal accompaniment, but counterpoint was by no means forgotten, especially later in the period. It also makes use of a style which emphasised light elegance in place of the Baroque's dignified seriousness and impressive grandeur. Variety and contrast within a piece became more pronounced than before and the orchestra increased in size, range and power. The harpsichord was replaced as the main keyboard instrument by the piano (or fortepiano). Unlike the harpsichord, which plucked strings with quills, pianos strike the strings with leather-covered hammers when the keys are pressed, which enables the performer to play louder or softer and play with more expression &ndash; in contrast, the force with which a performer plays the harpsichord keys does not change the sound.</p>

            <div class="row">
                <div class="col-1"><div class="buttons buttons-classical">1</div></div>
                <div class="col-1"><div class="buttons buttons-classical">2</div></div>
                <div class="col-1"><div class="buttons buttons-classical">3</div></div>
                <div class="col-1"><div class="buttons buttons-classical">4</div></div>
                <div class="col-1"><div class="buttons buttons-classical">5</div></div>
                <div class="col-1"><div class="buttons buttons-classical">6</div></div>
                <div class="col-1"><div class="buttons buttons-classical">7</div></div>
                <div class="col-1"><div class="buttons buttons-classical">8</div></div>
                <div class="col-1"><div class="buttons buttons-classical">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-classical-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.6.1.slim.min.js" integrity="sha256-w8CvhFs7iHNVUtnSP0YKEg00p9Ih13rlL9zGqvLdePA=" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Wolfgang Amadeus Mozart",
                        track: "Serenade",
                        path: "../../samples/classical/classical1.ogg"
                    },
                    {
                        artist: "Franz Joseph Haydn",
                        track: "Symphony No. 93",
                        path: "../../samples/classical/classical2.ogg"
                    },
                    {
                        artist: "Luigi Boccherini",
                        track: "Quintetto",
                        path: "../../samples/classical/classical3.ogg"
                    },
                    {
                        artist: "Muzio Clementi",
                        track: "Piano Concerto",
                        path: "../../samples/classical/classical4.ogg"
                    },
                    {
                        artist: "Antonio Salieri",
                        track: "Sinfonia",
                        path: "../../samples/classical/classical5.ogg"
                    },
                    {
                        artist: "Christoph Willibald Gluck",
                        track: "Orfeo Ed Euridice",
                        path: "../../samples/classical/classical6.ogg"
                    },
                    {
                        artist: "Johann Christian Bach",
                        track: "Sonata",
                        path: "../../samples/classical/classical7.ogg"
                    },
                    {
                        artist: "Leopold Mozart",
                        track: "Trumpet Concerto",
                        path: "../../samples/classical/classical8.ogg"
                    },
                    {
                        artist: "Carl Philipp Emanuel Bach",
                        track: "Cello Concerto",
                        path: "../../samples/classical/classical9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-classical').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-classical-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-classical"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

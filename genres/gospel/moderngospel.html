<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Modern Gospel</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,900" rel="stylesheet">
</head>
  
<body class="genre moderngospel">
    <div id="box-gospel">
        <h1>MODERN GOSPEL</h1><br>
            
        After World War II, Gospel changes dramatically, which is why it’s being marked as a different genre, though in many music genealogies, this is not the case. Record labels, radio stations, and promoters get interested in the music, as religiously themed music is commercially a more than viable path. This modern style of Gospel differs from Traditional Gospel in a clear and present influence from Blues and especially R&amp;B, in both its Soul and Funk styles. Although instrumentation was originally scarce, in Modern Gospel a strong beat surfaces through full chords or hand claps. Sometimes a floor mounted pedal steel guitar is being used, giving name to the subgenre “Sacred Steel”. But Modern Gospel is not about the instruments, but about the voice and message of God. Sung by strong diva mezzo-sopranos, the number of dominantly black Gospel artists (especially women) rose exponentially in the 50s and large Gospel concerts start to take hold. This gives a nationwide sense of black awareness &ndash; Modern Gospel becomes the herald of Soul music &ndash; a feat beyond comparison.<br><br>

        <div class="row icon-list">
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-gospel">1</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-gospel">2</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-gospel">3</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-gospel">4</div>
            </div>
                
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-gospel">5</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-gospel">6</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-gospel">7</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-gospel">8</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-gospel">9</div>
            </div>

            <div class="visible-xs col-xs-1">
                <div class="buttons-gospel-stop">&#9724;</div>
            </div>
        </div>

        <div class="example"><br>
            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p> 
        </div>

        <div class="hidden-xs col-sm-1 stop">
            <div class="buttons-gospel-stop">&#9724;</div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
    <script>
        $(document).ready(function() {

            
            var tracks = [
                {
                    artist: "Edwin Hawkins",
                    track: "Oh Happy Day",
                    path: "../../samples/gospel/moderngospel1.ogg"
                },
                {
                    artist: "Donnie McClurkin",
                    track: "We Fall Down",
                    path: "../../samples/gospel/moderngospel2.ogg"
                },
                {
                    artist: "Kirk Franklin",
                    track: "Awesome God",
                    path: "../../samples/gospel/moderngospel3.ogg"
                },
                {
                    artist: "Kurt Carr",
                    track: "God Blocked It",
                    path: "../../samples/gospel/moderngospel4.ogg"
                },
                {
                    artist: "Earnest Pugh",
                    track: "Step Right In",
                    path: "../../samples/gospel/moderngospel5.ogg"
                },
                {
                    artist: "Teen Pure N Heart",
                    track: "Pure N Heart Praise Break",
                    path: "../../samples/gospel/moderngospel6.ogg"
                },
                {
                    artist: "Sean Tillery & Changed",
                    track: "Praise Break",
                    path: "../../samples/gospel/moderngospel7.ogg"
                },
                {
                    artist: "Tasha Cobbs",
                    track: "Put A Praise On It",
                    path: "../../samples/gospel/moderngospel8.ogg"
                },
                {
                    artist: "VaShawn Mitchell",
                    track: "Chasing After You",
                    path: "../../samples/gospel/moderngospel9.ogg"
                }
            ]

            tracks.forEach(track => {
                const audio = new Audio()
                audio.addEventListener('canplaythrough', null, false)
                audio.src = track.path
            })

            var artistSpan = $(document).find('#artist')[0]

            var track = $(document).find('#track')[0]

            var audioInstanceArray = [];

            var buttons = [];

            var audioInstance;

            $(document).find('.buttons-gospel').each(function(index, button) {

                buttons.push(button);
                
                $(this).click(function() {

                    removeAllButtonBorders()

                    $(this).toggleClass('clicked');
                
                    stopAllMusic()

                    audioInstance = new Audio(tracks[index].path);
                    audioInstanceArray.push(audioInstance);
                    audioInstance.play();

                    artistSpan.innerHTML = tracks[index].artist
                    track.innerHTML = tracks[index].track

                });
            });

            $('.buttons-gospel-stop').on('click', function() {

                stopAllMusic()

                artistSpan.innerHTML = ''
                track.innerHTML = ''

                removeAllButtonBorders()

            });

            var removeAllButtonBorders = () => {
                buttons.forEach(
                    button => button.className = "buttons-gospel"
                )
            }

            var stopAllMusic = () => {
                 audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
            }

        });

    </script>

</body>
</html>
<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Bubblegum Pop</title>
    </head>

    <body class="genre" id="bubblegumpop">
        <div class="box pop">
            <h1>BUBBLEGUM POP</h1>

            <p>The 60s was a glorious decade of prosperity and happiness, but also of new inventions and gadgets for the whole family ushering the age of consumerism. A lot of baby boomer teenage children (or even preteens) were a perfect target for a new music genre, fittingly called Bubblegum Pop. Music producers (acting like franchise CEOs) took Rock &amp; Roll and stripped it down to simple, melodic Pop music that was premanufactured, commercialized, bought and sold. Bubblegum often featured fun, colourful instruments such as Hammond Organs. Teenybop was Pop music specifically made for very young or sensitive teens, which dealt with melodramatic and sentimental events (such as the first high school crush etc.) It's clear that Teenybop shares a great deal of resemblance with Bubblegum Pop &ndash; music as shiny merchandise or therapeutical triage for children. Bubblegum became an umbrella term for any studio-based catchy tune under three minutes, and eventually used as a negative synonym for shallowness and lightheartedness, despite a number of independent Garage Rock and Rockabilly Pop bands creating similar music.</p>

            <div class="row icon-list">
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-pop">1</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-pop">2</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-pop">3</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-pop">4</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-pop">5</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-pop">6</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-pop">7</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-pop">8</div></div>
                <div class="col-md-1 col-xs-1"><div class="buttons buttons-pop">9</div></div>
                <div class="d-block d-md-none col-md-1 col-xs-1"><div class="buttons buttons-pop-stop">&FilledSmallSquare;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-md-block col-md-1 stop"><div class="buttons buttons-pop-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "The Archies",
                        track: "Sugar, Sugar",
                        path: "../../samples/pop/bubblegumpop1.ogg"
                    },
                    {
                        artist: "The Monkees",
                        track: "I'm A Believer",
                        path: "../../samples/pop/bubblegumpop2.ogg"
                    },
                    {
                        artist: "The Jackson 5",
                        track: "I Want You Back",
                        path: "../../samples/pop/bubblegumpop3.ogg"
                    },
                    {
                        artist: "The Osmonds",
                        track: "Love Me For A Reason",
                        path: "../../samples/pop/bubblegumpop4.ogg"
                    },
                    {
                        artist: "Lesley Gore",
                        track: "Sunshine, Lollipops And Rainbows",
                        path: "../../samples/pop/bubblegumpop5.ogg"
                    },
                    {
                        artist: "Ohio Express",
                        track: "Yummy, Yummy, Yummy",
                        path: "../../samples/pop/bubblegumpop6.ogg"
                    },
                    {
                        artist: "The Rubettes",
                        track: "Sugar Baby Love",
                        path: "../../samples/pop/bubblegumpop7.ogg"
                    },
                    {
                        artist: "Little Eva",
                        track: "The Locomotion",
                        path: "../../samples/pop/bubblegumpop8.ogg"
                    },
                    {
                        artist: "Little Peggy March",
                        track: "I Will Follow Him",
                        path: "../../samples/pop/bubblegumpop9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-pop').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-pop-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-pop"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="../../css/bootstrap.css">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Electropop</title>
    </head>

    <body id="electropop">
        <div class="box pop">
            <h1>ELECTROPOP</h1><div class="year year-pop">2008</div>

            <p>Electropop can be used as a comprehensive term encompassing all forms of electronic-based Pop. In its narrow definition, it is the latest development of dominant mainstream and Dance-orientated Pop music. If Dance Pop is the Eurodance-influenced mainstream music of the 90s, then Electropop is the Electro-influenced mainstream music of the early 2010s. Electro House changed the focus in Pop from a warm R&amp;B-type groove beat to a crisper sound with higher dynamic range. This has made the music somewhat less infectious compared to Dance Pop, but more eclectic and flexible. Where Dance Pop was heavily steered out of a record label or producer's perspective, Electropop artists take great pride in their own personality. Remarkable is the fact that almost all Electropop artists are female vocalists. Although they are pushed forward nowadays by record companies due to a loyal idolising female fanbase and a seductive image of sex to attract a male fanbase, they are all self-aware entrepreneurs &ndash; an interesting discrepancy with the historical dominance of male crooners in Pop's beginnings.</p>

            <div class="row icon-list">
                <div class="col-1"><div class="buttons buttons-pop">1</div></div>
                <div class="col-1"><div class="buttons buttons-pop">2</div></div>
                <div class="col-1"><div class="buttons buttons-pop">3</div></div>
                <div class="col-1"><div class="buttons buttons-pop">4</div></div>
                <div class="col-1"><div class="buttons buttons-pop">5</div></div>
                <div class="col-1"><div class="buttons buttons-pop">6</div></div>
                <div class="col-1"><div class="buttons buttons-pop">7</div></div>
                <div class="col-1"><div class="buttons buttons-pop">8</div></div>
                <div class="col-1"><div class="buttons buttons-pop">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-pop-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Lady Gaga",
                        track: "Poker Face",
                        path: "../../samples/pop/electropop1.ogg"
                    },
                    {
                        artist: "Ke$ha",
                        track: "TiK ToK",
                        path: "../../samples/pop/electropop2.ogg"
                    },
                    {
                        artist: "Katy Perry",
                        track: "Firework",
                        path: "../../samples/pop/electropop3.ogg"
                    },
                    {
                        artist: "The Black Eyed Peas",
                        track: "I Gotta Feeling",
                        path: "../../samples/pop/electropop4.ogg"
                    },
                    {
                        artist: "One Direction",
                        track: "What Makes You Beautiful",
                        path: "../../samples/pop/electropop5.ogg"
                    },
                    {
                        artist: "Justin Bieber feat. Ludacris",
                        track: "Baby",
                        path: "../../samples/pop/electropop6.ogg"
                    },
                    {
                        artist: "Calvin Harris",
                        track: "Feel So Close",
                        path: "../../samples/pop/electropop7.ogg"
                    },
                    {
                        artist: "David Guetta feat. Flo Rida & Nicki Minaj",
                        track: "Where Them Girls At",
                        path: "../../samples/pop/electropop8.ogg"
                    },
                    {
                        artist: "Owl City & Carly Rae Jepsen",
                        track: "Good Time",
                        path: "../../samples/pop/electropop9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-pop').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-pop-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-pop"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

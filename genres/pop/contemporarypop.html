<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Contemporary Pop</title>
    </head>

    <body class="genre" id="contemporarypop">
        <div class="box pop">
            <h1>CONTEMPORARY POP</h1>

            <p>Contemporary Pop can be used as the latest development of dominant mainstream and Dance-oriented Pop music, as well as the continuation of more traditional Singer-Songwriter styles. If Dance Pop is the Eurodance-influenced mainstream music of the 90s, then Contemporary Pop is the Electro-influenced mainstream music of the 2010s. Electro House changed the focus in Pop from a warm R&amp;B-type groove beat to a crisper sound with higher dynamic range. This has made the music somewhat less infectious compared to Dance Pop, but more eclectic and flexible. Where Dance Pop was heavily steered out of a record label or producer's perspective, Contemporary Pop artists take great pride in their own personality. Remarkable is the fact that almost all Contemporary Pop artists are female vocalists. Despite the fact that they are pushed forward nowadays by record companies due to a loyal idolizing female fanbase and a seductive image of sex to attract a male fanbase, they are all self-aware entrepreneurs &ndash; an interesting discrepancy with the historical dominance of male crooners in Pop's beginnings.</p>

            <div class="row icon-list">
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-pop">1</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-pop">2</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-pop">3</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-pop">4</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-pop">5</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-pop">6</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-pop">7</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-pop">8</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-pop">9</div></div>
                <div class="d-block d-lg-none col-lg-1 col-xs-1"><div class="buttons buttons-pop-stop">&FilledSmallSquare;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-lg-block col-md-1 stop"><div class="buttons buttons-pop-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Lady Gaga",
                        track: "Poker Face",
                        path: "../../samples/pop/contemporarypop1.ogg"
                    },
                    {
                        artist: "Ke$ha",
                        track: "TiK ToK",
                        path: "../../samples/pop/contemporarypop2.ogg"
                    },
                    {
                        artist: "Katy Perry",
                        track: "Firework",
                        path: "../../samples/pop/contemporarypop3.ogg"
                    },
                    {
                        artist: "Lorde",
                        track: "Royals",
                        path: "../../samples/pop/contemporarypop4.ogg"
                    },
                    {
                        artist: "Pharrell Williams",
                        track: "Happy",
                        path: "../../samples/pop/contemporarypop5.ogg"
                    },
                    {
                        artist: "Justin Bieber",
                        track: "Sorry",
                        path: "../../samples/pop/contemporarypop6.ogg"
                    },
                    {
                        artist: "The Chainsmokers feat. Halsey",
                        track: "Closer",
                        path: "../../samples/pop/contemporarypop7.ogg"
                    },
                    {
                        artist: "Ed Sheeran",
                        track: "Shape Of You",
                        path: "../../samples/pop/contemporarypop8.ogg"
                    },
                    {
                        artist: "Ariana Grande",
                        track: "Thank U, Next",
                        path: "../../samples/pop/contemporarypop9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-pop').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-pop-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-pop"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

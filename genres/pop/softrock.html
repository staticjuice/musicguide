<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Soft Rock</title>
    </head>

    <body id="softrock">
        <div class="box pop">
            <h1>SOFT ROCK</h1><div class="year year-pop">1969</div>

            <p>Arguably the most immortal of all music genres, some Heartland Rock bands took a lighter approach (no guitar solos and less bass) and created Soft Rock. What started as an alternative countermovement became so commercial that eventually, it was pure Pop music. The outcome and legacy of Heartland Rock was a large and soft genre, yet not targeted at teens, but specifically for adults &ndash; hence the synonym Soft Rock. The name Soft Rock did not start as a genre but as a billboard category for music, officially installed at the end of the 70s. Soft Rock replaced the Easy Listening category, and as such, it is rather lightweight music for more mature people who like their music relaxing and politically correct. Unsurprisingly, there is quite some overlapping with similar genres such as Country Pop and Smooth Jazz. In the 80s, an offshoot emerged, which uses more synth than usual, though subdivision within the genre is a bit hair-splitting. Soft Rock is still being broadcasted on specialised radio channels throughout the world, as these golden classics seem to have a timeless appeal.</p>

            <div class="row">
                <div class="col-1"><div class="buttons buttons-pop">1</div></div>
                <div class="col-1"><div class="buttons buttons-pop">2</div></div>
                <div class="col-1"><div class="buttons buttons-pop">3</div></div>
                <div class="col-1"><div class="buttons buttons-pop">4</div></div>
                <div class="col-1"><div class="buttons buttons-pop">5</div></div>
                <div class="col-1"><div class="buttons buttons-pop">6</div></div>
                <div class="col-1"><div class="buttons buttons-pop">7</div></div>
                <div class="col-1"><div class="buttons buttons-pop">8</div></div>
                <div class="col-1"><div class="buttons buttons-pop">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-pop-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.6.1.slim.min.js" integrity="sha256-w8CvhFs7iHNVUtnSP0YKEg00p9Ih13rlL9zGqvLdePA=" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Phil Collins",
                        track: "Another Day In Paradise",
                        path: "../../samples/pop/softrock1.ogg"
                    },
                    {
                        artist: "John Lennon",
                        track: "Imagine",
                        path: "../../samples/pop/softrock2.ogg"
                    },
                    {
                        artist: "Gilbert O'Sullivan",
                        track: "Alone Again (Naturally)",
                        path: "../../samples/pop/softrock3.ogg"
                    },
                    {
                        artist: "Neil Diamond",
                        track: "Sweet Caroline",
                        path: "../../samples/pop/softrock4.ogg"
                    },
                    {
                        artist: "Eagles",
                        track: "Hotel California",
                        path: "../../samples/pop/softrock5.ogg"
                    },
                    {
                        artist: "Billy Joel",
                        track: "Piano Man",
                        path: "../../samples/pop/softrock6.ogg"
                    },
                    {
                        artist: "Fleetwood Mac",
                        track: "Dreams",
                        path: "../../samples/pop/softrock7.ogg"
                    },
                    {
                        artist: "Chicago",
                        track: "Hard To Say I'm Sorry",
                        path: "../../samples/pop/softrock8.ogg"
                    },
                    {
                        artist: "Cristopher Cross",
                        track: "Sailing",
                        path: "../../samples/pop/softrock9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-pop').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-pop-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-pop"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Indie Folk</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,900" rel="stylesheet">
</head>

<body class="genre indiefolk">
    <div id="box-pop">
        <h1>INDIE FOLK</h1><br>

        Although this genre is obviously a form of Folk music, a large and welcoming familiarity within Rock and Pop circles combined with a heavy influence from popular music justifies its presence in Contemporary Rock. Indie Folk emerged during the 2000s, when songwriters from the Indie Rock community began taking their cues from Folk music. As the 2000s progressed and more Indie Folk artists appeared, the genre grew to encompass a wide range of music, from the Neo-Celtic Folk of the Decemberists to the Appalachian harmonies of Fleet Foxes. Other groups, including Iron &amp; Wine, embraced such variety in their own music, jumping from lo-fi acoustic ballads to lush electric rockers without ever truly exiting within the Indie Folk camp. Despite their ties to the Folk community, however, most of these bands frequented traditional Rock venues instead of coffeehouses, a characteristic that distinguished them from contemporary Folk groups. The latest forms of Indie Folk (which have become highly popular among the youth, for example Mumford &amp; Sons) are also known as Nu Folk.<br><br>

        <div class="row icon-list">
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-pop">1</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-pop">2</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-pop">3</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-pop">4</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-pop">5</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-pop">6</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-pop">7</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-pop">8</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-pop">9</div>
            </div>

            <div class="visible-xs col-xs-1">
                <div class="buttons-pop-stop">&#9724;</div>
            </div>
        </div>

        <div class="example"><br>
            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
        </div>

        <div class="hidden-xs col-sm-1 stop">
            <div class="buttons-pop-stop">&#9724;</div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <script>
        $(document).ready(function() {


            var tracks = [
                {
                    artist: "Mumford & Sons",
                    track: "Little Lion Man",
                    path: "../../samples/pop/indiefolk1.ogg"
                },
                {
                    artist: "Fleet Foxes",
                    track: "Mykonos",
                    path: "../../samples/pop/indiefolk2.ogg"
                },
                {
                    artist: "Sufjan Stevens",
                    track: "Casimir Pulaski Day",
                    path: "../../samples/pop/indiefolk3.ogg"
                },
                {
                    artist: "Bon Iver",
                    track: "Holocene",
                    path: "../../samples/pop/indiefolk4.ogg"
                },
                {
                    artist: "Dustin Tebbutt",
                    track: "The Breach",
                    path: "../../samples/pop/indiefolk5.ogg"
                },
                {
                    artist: "Avalanche City",
                    track: "The Streets",
                    path: "../../samples/pop/indiefolk6.ogg"
                },
                {
                    artist: "Of Monsters And Men",
                    track: "Mountain Sound",
                    path: "../../samples/pop/indiefolk7.ogg"
                },
                {
                    artist: "Vance Joy",
                    track: "Riptide",
                    path: "../../samples/pop/indiefolk8.ogg"
                },
                {
                    artist: "Radical Face",
                    track: "Welcome Home, Son",
                    path: "../../samples/pop/indiefolk9.ogg"
                }
            ]

            tracks.forEach(track => {
                const audio = new Audio()
                audio.addEventListener('canplaythrough', null, false)
                audio.src = track.path
            })

            var artistSpan = $(document).find('#artist')[0]

            var track = $(document).find('#track')[0]

            var audioInstanceArray = [];

            var buttons = [];

            var audioInstance;

            $(document).find('.buttons-pop').each(function(index, button) {

                buttons.push(button);

                $(this).click(function() {

                    removeAllButtonBorders()

                    $(this).toggleClass('clicked');

                    stopAllMusic()

                    audioInstance = new Audio(tracks[index].path);
                    audioInstanceArray.push(audioInstance);
                    audioInstance.play();

                    artistSpan.innerHTML = tracks[index].artist
                    track.innerHTML = tracks[index].track

                });
            });

            $('.buttons-pop-stop').on('click', function() {

                stopAllMusic()

                artistSpan.innerHTML = ''
                track.innerHTML = ''

                removeAllButtonBorders()

            });

            var removeAllButtonBorders = () => {
                buttons.forEach(
                    button => button.className = "buttons-pop"
                )
            }

            var stopAllMusic = () => {
                 audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
            }

        });

    </script>

</body>
</html>

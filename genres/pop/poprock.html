<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Pop Rock</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,900" rel="stylesheet">
</head>
  
<body class="genre poprock">
    <div id="box-pop">
        <h1>POP ROCK</h1><br>
            
        The earliest forms of Pop Rock were in fact a revival of Beat, a second British Invasion so to speak. However, you can hear an important difference &ndash; the riffs are played with short, energetic strokes, enhanced by fast, repetitive drum beats. The emergence of Pop Rock must be seen as compensation for the darker, more serious types of Rock popping up in the early 70s. To steer the people as far away from these ‘bad’ types of Rock, the sound of Pop Rock went in the opposite direction &ndash; happy, melodic and light. At the end of the 70s, Pop Rock experienced a second wave, and in the 90s a third one. The success of Disco and derivatives trumped Pop Rock’s second wave and strongly suppressed the genre in the 80s. The original fusion of Hard Rock and Beat became tainted by other genres during these succeeding waves, leading eventually to dissolution into other genres, though a number of Pop Rock artists are still active. Original Pop Rock served as a blueprint for many later Pop Rock artists, which were drawn to the bare simplicity of Classic Rock without psychedelic influences or extensive post-production.<br><br>

        <div class="row icon-list">
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-pop">1</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-pop">2</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-pop">3</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-pop">4</div>
            </div>
                
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-pop">5</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-pop">6</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-pop">7</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-pop">8</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-pop">9</div>
            </div>

            <div class="visible-xs col-xs-1">
                <div class="buttons-pop-stop">&#9724;</div>
            </div>
        </div>

        <div class="example"><br>
            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p> 
        </div>

        <div class="hidden-xs col-sm-1 stop">
            <div class="buttons-pop-stop">&#9724;</div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
    <script>
        $(document).ready(function() {

            
            var tracks = [
                {
                    artist: "The Knack",
                    track: "My Sharona",
                    path: "../../samples/pop/poprock1.ogg"
                },
                {
                    artist: "The Romantics",
                    track: "Talking In Your Sleep",
                    path: "../../samples/pop/poprock2.ogg"
                },
                {
                    artist: "Big Star",
                    track: "September Gurls",
                    path: "../../samples/pop/poprock3.ogg"
                },
                {
                    artist: "Cheap Trick",
                    track: "I Want You To Want Me",
                    path: "../../samples/pop/poprock4.ogg"
                },
                {
                    artist: "Badfinger",
                    track: "No Matter What",
                    path: "../../samples/pop/poprock5.ogg"
                },
                {
                    artist: "The Raspberries",
                    track: "I Wanna Be With You",
                    path: "../../samples/pop/poprock6.ogg"
                },
                {
                    artist: "Matthew Sweet",
                    track: "Girlfriend",
                    path: "../../samples/pop/poprock7.ogg"
                },
                {
                    artist: "The New Pornographers",
                    track: "Challengers",
                    path: "../../samples/pop/poprock8.ogg"
                },
                {
                    artist: "Liquido",
                    track: "Narcotic",
                    path: "../../samples/pop/poprock9.ogg"
                }
            ]

            tracks.forEach(track => {
                const audio = new Audio()
                audio.addEventListener('canplaythrough', null, false)
                audio.src = track.path
            })

            var artistSpan = $(document).find('#artist')[0]

            var track = $(document).find('#track')[0]

            var audioInstanceArray = [];

            var buttons = [];

            var audioInstance;

            $(document).find('.buttons-pop').each(function(index, button) {

                buttons.push(button);
                
                $(this).click(function() {

                    removeAllButtonBorders()

                    $(this).toggleClass('clicked');
                
                    stopAllMusic()

                    audioInstance = new Audio(tracks[index].path);
                    audioInstanceArray.push(audioInstance);
                    audioInstance.play();

                    artistSpan.innerHTML = tracks[index].artist
                    track.innerHTML = tracks[index].track

                });
            });

            $('.buttons-pop-stop').on('click', function() {

                stopAllMusic()

                artistSpan.innerHTML = ''
                track.innerHTML = ''

                removeAllButtonBorders()

            });

            var removeAllButtonBorders = () => {
                buttons.forEach(
                    button => button.className = "buttons-pop"
                )
            }

            var stopAllMusic = () => {
                 audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
            }

        });

    </script>

</body>
</html>
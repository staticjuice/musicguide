<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Spirituals</title>
    </head>

    <body id="spirituals">
        <div class="box blues">
            <h1>SPIRITUALS</h1><div class="year year-blues">17th century</div>

            <p>An interesting fact about Popular Music is that it emerged out of necessity rather than being a form of art or expression. The earliest genres can be traced back as early as the 19th century, at a time when slavery of African people was still omnipresent in the United States. When African slaves were brought to the United States and Christianised, they began to perceive biblical parallels to their own situation (and were sometimes even encouraged to do so by zealously Evangelical whites). Thus, many Spirituals address themes of freedom, earthly suffering and hope for deliverance. They were sung both at worship services and in the fields and were passed down orally from generation to generation. Given those origins, Spirituals are usually performed very simply and written in repetitive, easily remembered structures (for example, many verses in Spirituals include a one-line refrain that's sung by the entire group and repeated after each new line of the verse). In that sense, Spirituals often bear a resemblance to secular pre-war Blues, a music stemming from a similarly rural lineage.</p>

            <div class="row">
                <div class="col-1"><div class="buttons buttons-blues">1</div></div>
                <div class="col-1"><div class="buttons buttons-blues">2</div></div>
                <div class="col-1"><div class="buttons buttons-blues">3</div></div>
                <div class="col-1"><div class="buttons buttons-blues">4</div></div>
                <div class="col-1"><div class="buttons buttons-blues">5</div></div>
                <div class="col-1"><div class="buttons buttons-blues">6</div></div>
                <div class="col-1"><div class="buttons buttons-blues">7</div></div>
                <div class="col-1"><div class="buttons buttons-blues">8</div></div>
                <div class="col-1"><div class="buttons buttons-blues">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-blues-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js" integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>

        <script>
            $(function() {
                const tracks = [
                    { artist: "Ed Young", track: "Jim And John", path: "../../samples/blues/spirituals1.ogg" },
                    { artist: "Ervin Webb", track: "I'm Going Home", path: "../../samples/blues/spirituals2.ogg" },
                    { artist: "Ed Lewis", track: "Tom Devil", path: "../../samples/blues/spirituals3.ogg" },
                    { artist: "Lightning", track: "Long John", path: "../../samples/blues/spirituals4.ogg" },
                    { artist: "Johnny Lee Moore", track: "Eighteen Hammers", path: "../../samples/blues/spirituals5.ogg" },
                    { artist: "John Davis", track: "Blow Gabriel", path: "../../samples/blues/spirituals6.ogg" },
                    { artist: "Jesse Lee Pratcher", track: "Green Sally, Up", path: "../../samples/blues/spirituals7.ogg" },
                    { artist: "James Carter", track: "Po' Lazarus", path: "../../samples/blues/spirituals8.ogg" },
                    { artist: "Dock Reed", track: "Troubled Lord I'm Troubled", path: "../../samples/blues/spirituals9.ogg" }
                ];

                const audioInstances = tracks.map(track => new Audio(track.path));
                const $artistSpan = $('#artist');
                const $trackSpan = $('#track');
                const $buttonsBlues = $('.buttons-blues');

                $buttonsBlues.on('click', function() {
                    stopAllMusic();
                    const index = $buttonsBlues.index(this);
                    $(this).toggleClass('clicked');
                    const audio = audioInstances[index];
                    audio.play();
                    $artistSpan.text(tracks[index].artist);
                    $trackSpan.text(tracks[index].track);
                });

                $('.buttons-blues-stop').on('click', function() {
                    stopAllMusic();
                    $artistSpan.text('');
                    $trackSpan.text('');
                });

                function stopAllMusic() {
                    audioInstances.forEach(audio => {
                        audio.pause();
                        audio.currentTime = 0;
                    });
                    $buttonsBlues.removeClass('clicked');
                }
            });
        </script>
    </body>
</html>

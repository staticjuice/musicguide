<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="../../css/bootstrap.css">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Soul Blues</title>
    </head>

    <body id="soulblues">
        <div class="box blues">
            <h1>SOUL BLUES</h1><div class="year year-blues">1961</div>

            <p>The decline of Soul (due to the rising popularity of other genres) was mourned by many. Especially the earliest style of Soul music became the subject of grief, whose golden days were already long gone by the late 70s. Poor black communities of the Southern states felt nostalgic about this rough, emotional and sometimes tragic music, to which they could relate to more than contemporary genres. Perhaps one of the most modern forms of Blues, Soul Blues fuses disparate elements of black popular music to create a wholly urban amalgam of its own. Artists who wanted to move stylistically beyond the three-chord confines of conventional Blues forms found the Rhythm &amp; Blues strain of the 50s and the original Soul style of the mid-60s far more to their creative liking. Soul Blues combines the best elements of the two and blends that with the standard Blues band instrumentation &ndash; sometimes augmented with a Rhythm &amp; Blues-styled horn section. The genre also provides more traditional Blues artists with a style to visit on occasion, injecting some contemporary life into their recordings.</p>

            <div class="row">
                <div class="col-1"><div class="buttons buttons-blues">1</div></div>
                <div class="col-1"><div class="buttons buttons-blues">2</div></div>
                <div class="col-1"><div class="buttons buttons-blues">3</div></div>
                <div class="col-1"><div class="buttons buttons-blues">4</div></div>
                <div class="col-1"><div class="buttons buttons-blues">5</div></div>
                <div class="col-1"><div class="buttons buttons-blues">6</div></div>
                <div class="col-1"><div class="buttons buttons-blues">7</div></div>
                <div class="col-1"><div class="buttons buttons-blues">8</div></div>
                <div class="col-1"><div class="buttons buttons-blues">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-blues-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Ray Charles",
                        track: "Hit The Road Jack",
                        path: "../../samples/blues/soulblues1.ogg"
                    },
                    {
                        artist: "Otis Clay",
                        track: "When The Gates Swing Open",
                        path: "../../samples/blues/soulblues2.ogg"
                    },
                    {
                        artist: "Earl Gaines",
                        track: "Mercy On My Soul",
                        path: "../../samples/blues/soulblues3.ogg"
                    },
                    {
                        artist: "Z.Z. Hill",
                        track: "Down Home Blues",
                        path: "../../samples/blues/soulblues4.ogg"
                    },
                    {
                        artist: "Lonnie Shields",
                        track: "All The Way Down",
                        path: "../../samples/blues/soulblues5.ogg"
                    },
                    {
                        artist: "Ellis Hooks",
                        track: "You Push Me To My Limit",
                        path: "../../samples/blues/soulblues6.ogg"
                    },
                    {
                        artist: "Carl Weathersby",
                        track: "Hold On",
                        path: "../../samples/blues/soulblues7.ogg"
                    },
                    {
                        artist: "W. C. Clark",
                        track: "Stronger Than You Need To Be",
                        path: "../../samples/blues/soulblues8.ogg"
                    },
                    {
                        artist: "Tad Robinson",
                        track: "Rained All Night",
                        path: "../../samples/blues/soulblues9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-blues').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-blues-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-blues"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

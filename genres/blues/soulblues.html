<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Soul Blues</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,900" rel="stylesheet">
</head>

<body class="genre" id="soulblues">
    <div class="box blues">
        <h1>SOUL BLUES</h1><br>

        The decline of Soul (due to the rising popularity of other genres) was mourned by many. Especially the earliest type became the subject of grief, which golden days were already long gone by the late 70s. Poor black communities of the Southern states felt nostalgic about this rough, emotional and sometimes tragic music, to which they could relate more than than contemporary genres. Perhaps one of the most modern forms of Blues, Soul Blues fuses disparate elements of black popular music to create a wholly urban amalgam of its own. Artists who wanted to move stylistically beyond the three-chord confines of conventional Blues forms found the Rhythm &amp; Blues strain of the 50s and the original Soul style of the mid-60s far more to their creative liking. Soul Blues combines the best elements of the two and blends that with the standard Blues band instrumentation &ndash; sometimes augmented with a Rhythm &amp; Blues-styled horn section. The genre also provides more traditional Blues artists with a style to visit on occasion, injecting some contemporary life into their recordings.<br><br>

        <div class="row icon-list">
            <div class="col-sm-1 col-xs-1">
                <div class="buttons buttons-blues">1</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons buttons-blues">2</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons buttons-blues">3</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons buttons-blues">4</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons buttons-blues">5</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons buttons-blues">6</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons buttons-blues">7</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons buttons-blues">8</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons buttons-blues">9</div>
            </div>

            <div class="visible-xs col-xs-1">
                <div class="buttons buttons-blues-stop">&#9724;</div>
            </div>
        </div>

        <div class="example"><br>
            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
        </div>

        <div class="hidden-xs col-sm-1 stop">
            <div class="buttons buttons-blues-stop">&#9724;</div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <script>
        $(document).ready(function() {


            var tracks = [
                {
                    artist: "Ray Charles",
                    track: "Hit The Road Jack",
                    path: "../../samples/blues/soulblues1.ogg"
                },
                {
                    artist: "B.B. King",
                    track: "Lucille",
                    path: "../../samples/blues/soulblues2.ogg"
                },
                {
                    artist: "Booker T. & The M.G.'s",
                    track: "Green Onions",
                    path: "../../samples/blues/soulblues3.ogg"
                },
                {
                    artist: "Otis Clay",
                    track: "When The Gates Swing Open",
                    path: "../../samples/blues/soulblues4.ogg"
                },
                {
                    artist: "Earl Gaines",
                    track: "Mercy On My Soul",
                    path: "../../samples/blues/soulblues5.ogg"
                },
                {
                    artist: "Bobby Rush",
                    track: "Hoochie Man",
                    path: "../../samples/blues/soulblues6.ogg"
                },
                {
                    artist: "Bobby Bland",
                    track: "I've Been Wrong So Long",
                    path: "../../samples/blues/soulblues7.ogg"
                },
                {
                    artist: "Memphis Slim",
                    track: "I'm Lost Without You",
                    path: "../../samples/blues/soulblues8.ogg"
                },
                {
                    artist: "Professor Longhair",
                    track: "Mardi Gras In New Orleans",
                    path: "../../samples/blues/soulblues9.ogg"
                }
            ]

            tracks.forEach(track => {
                const audio = new Audio()
                audio.addEventListener('canplaythrough', null, false)
                audio.src = track.path
            })

            var artistSpan = $(document).find('#artist')[0]

            var track = $(document).find('#track')[0]

            var audioInstanceArray = [];

            var buttons = [];

            var audioInstance;

            $(document).find('.buttons-blues').each(function(index, button) {

                buttons.push(button);

                $(this).click(function() {

                    removeAllButtonBorders()

                    $(this).toggleClass('clicked');

                    stopAllMusic()

                    audioInstance = new Audio(tracks[index].path);
                    audioInstanceArray.push(audioInstance);
                    audioInstance.play();

                    artistSpan.innerHTML = tracks[index].artist
                    track.innerHTML = tracks[index].track

                });
            });

            $('.buttons-blues-stop').on('click', function() {

                stopAllMusic()

                artistSpan.innerHTML = ''
                track.innerHTML = ''

                removeAllButtonBorders()

            });

            var removeAllButtonBorders = () => {
                buttons.forEach(
                    button => button.className = "buttons buttons-blues"
                )
            }

            var stopAllMusic = () => {
                 audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
            }

        });

    </script>

</body>
</html>

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="../../css/bootstrap.css">
        <link rel="stylesheet" href="../../css/style.css">
        <title>West Coast Blues</title>
    </head>

    <body id="westcoastblues">
        <div class="box blues">
            <h1>WEST COAST BLUES</h1><div class="year year-blues">1947</div>

            <p>West Coast Blues radiates a typically West Coast warm, delicate and rhythmical aura. The genre is heavily based on the piano, yet has also received influences from different genres of Blues thanks to artists migrating to the west. The piano can be accompanied or replaced by a Blues guitar but this is typically played more jazzily. More piano-based and Jazz-influenced than anything else, West Coast Blues is &ndash; in actuality &ndash; the California style, with all of the genre's main practitioners coming to prominence there, if not actual natives of the state in particular. In fact, the state and the style played host to a great many post-war Texas guitar expatriates and their jazzy, T-Bone Walker style of soloing would become an earmark of the genre. West Coast Blues also features smooth, honey-toned vocals, frequently crossing into Urban Blues territory. The West Coast style was also home to numerous Jump Blues practitioners, as many travelling bands of the 40s ended up taking permanent residence there. Its current practitioners work almost exclusively in the standard small-combo format.</p>

            <div class="row">
                <div class="col-1"><div class="buttons buttons-blues">1</div></div>
                <div class="col-1"><div class="buttons buttons-blues">2</div></div>
                <div class="col-1"><div class="buttons buttons-blues">3</div></div>
                <div class="col-1"><div class="buttons buttons-blues">4</div></div>
                <div class="col-1"><div class="buttons buttons-blues">5</div></div>
                <div class="col-1"><div class="buttons buttons-blues">6</div></div>
                <div class="col-1"><div class="buttons buttons-blues">7</div></div>
                <div class="col-1"><div class="buttons buttons-blues">8</div></div>
                <div class="col-1"><div class="buttons buttons-blues">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-blues-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "T-Bone Walker",
                        track: "Call It Stormy Monday (But Tuesday Is Just As Bad)",
                        path: "../../samples/blues/westcoastblues1.ogg"
                    },
                    {
                        artist: "Amos Milburn",
                        track: "One Scotch, One Bourbon, One Beer",
                        path: "../../samples/blues/westcoastblues2.ogg"
                    },
                    {
                        artist: "Pee Wee Crayton",
                        track: "The Telephone Is Ringing",
                        path: "../../samples/blues/westcoastblues3.ogg"
                    },
                    {
                        artist: "Percy Mayfield",
                        track: "Please Send Me Someone To Love",
                        path: "../../samples/blues/westcoastblues4.ogg"
                    },
                    {
                        artist: "Lowell Fulson",
                        track: "Black Nights",
                        path: "../../samples/blues/westcoastblues5.ogg"
                    },
                    {
                        artist: "Little Willie Littlefield",
                        track: "K.C. Loving",
                        path: "../../samples/blues/westcoastblues6.ogg"
                    },
                    {
                        artist: "Ivory Joe Hunter",
                        track: "Since I Met You Baby",
                        path: "../../samples/blues/westcoastblues7.ogg"
                    },
                    {
                        artist: "Charles Brown",
                        track: "These Blues",
                        path: "../../samples/blues/westcoastblues8.ogg"
                    },
                    {
                        artist: "J.J. Malone",
                        track: "Louisiana Blues",
                        path: "../../samples/blues/westcoastblues9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-blues').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-blues-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-blues"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

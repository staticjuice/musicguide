<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Louisiana Blues</title>
    </head>

    <body id="louisianablues">
        <div class="box blues">
            <h1>LOUISIANA BLUES</h1><div class="year year-blues">1954</div>

            <p>Deep in the swamps of Louisiana, not only Country but also Blues was made. As one could expect, this was slow, plain, Country-like Blues. Unlike the heavy backbeat of the more popular urban styles, its rhythm can be best described as laidback, making even its most uptempo offerings share the same mood and ambience of the slowest of Blues. In this isolated and humid wilderness, Creole Folk music already existed long before Blues. One of the first types, Cajun, was mixed with R&amp;B into Zydeco, a French type of proto-Blues. Both Cajun and Zydeco are known for their driving beat, dotted with harsher or unusual sounds like washboards. After some time, Zydeco evolved into Louisiana Blues, particularly in Baton Rouge, the capital of Louisiana. The music became the soundtrack of the environment, which from that moment on would naturally be associated with rural, southern swamps &ndash; haunting echos and plenty reverb, cricket-like sounds, and slow trembling guitars. The "swamp sound" was mostly dominated by accordion and harmonica, further enriching a stereotypical atmosphere associated with the music.</p>

            <div class="row">
                <div class="col-1"><div class="buttons buttons-blues">1</div></div>
                <div class="col-1"><div class="buttons buttons-blues">2</div></div>
                <div class="col-1"><div class="buttons buttons-blues">3</div></div>
                <div class="col-1"><div class="buttons buttons-blues">4</div></div>
                <div class="col-1"><div class="buttons buttons-blues">5</div></div>
                <div class="col-1"><div class="buttons buttons-blues">6</div></div>
                <div class="col-1"><div class="buttons buttons-blues">7</div></div>
                <div class="col-1"><div class="buttons buttons-blues">8</div></div>
                <div class="col-1"><div class="buttons buttons-blues">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-blues-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.7.0.slim.min.js" integrity="sha256-tG5mcZUtJsZvyKAxYLVXrmjKBVLd6VpVccqz/r4ypFE=" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Lightnin' Slim",
                        track: "That's Alright",
                        path: "../../samples/blues/louisianablues1.ogg"
                    },
                    {
                        artist: "Slim Harpo",
                        track: "Baby Scratch My Back",
                        path: "../../samples/blues/louisianablues2.ogg"
                    },
                    {
                        artist: "Lazy Lester",
                        track: "Ponderosa Shuffle",
                        path: "../../samples/blues/louisianablues3.ogg"
                    },
                    {
                        artist: "Silas Hogan",
                        track: "Dark Clouds Rollin'",
                        path: "../../samples/blues/louisianablues4.ogg"
                    },
                    {
                        artist: "Louisiana Red",
                        track: "Rollin' Stone",
                        path: "../../samples/blues/louisianablues5.ogg"
                    },
                    {
                        artist: "Raful Neal",
                        track: "Down And Out",
                        path: "../../samples/blues/louisianablues6.ogg"
                    },
                    {
                        artist: "Lonesome Sundown",
                        track: "They Call Me Sundown",
                        path: "../../samples/blues/louisianablues7.ogg"
                    },
                    {
                        artist: "Clarence Edwards",
                        track: "Cold Black Mare",
                        path: "../../samples/blues/louisianablues8.ogg"
                    },
                    {
                        artist: "Smokehouse",
                        track: "Cadillac In The Swamp",
                        path: "../../samples/blues/louisianablues9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-blues').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-blues-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-blues"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

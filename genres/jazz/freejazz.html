<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Free Jazz</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,900" rel="stylesheet">
</head>
  
<body class="genre freejazz">
    <div id="box-jazz">
        <h1>FREE JAZZ</h1><br>
            
        Free Jazz was a radical departure from past styles, for typically after playing a quick theme, the soloist does not have to follow any progression or structure and can go in any unpredictable direction. When Ornette Coleman largely introduced Free Jazz to New York audiences (although Cecil Taylor had preceded him with less publicity), many Bop musicians and fans debated about whether what was being played would even qualify as music; the radicals had become conservatives in less than 15 years. Free Jazz, which overlaps with the avant garde (the latter can use arrangements and sometimes fairly tight frameworks), remains a controversial and mostly underground style, influencing the modern mainstream while often being ignored. Having dispensed with many of the rules as far as pitch, rhythm, and development are concerned (although it need not be atonal or lack a steady pulse to be free jazz), the success of a Free Jazz performance can be measured by the musicianship and imagination of the performers, how colourful the music is, and whether it seems logical or merely random.<br><br>

        <div class="row icon-list">
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-jazz">1</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-jazz">2</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-jazz">3</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-jazz">4</div>
            </div>
                
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-jazz">5</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-jazz">6</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-jazz">7</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-jazz">8</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-jazz">9</div>
            </div>

            <div class="visible-xs col-xs-1">
                <div class="buttons-jazz-stop">&#9724;</div>
            </div>
        </div>

        <div class="example"><br>
            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p> 
        </div>

        <div class="hidden-xs col-sm-1 stop">
            <div class="buttons-jazz-stop">&#9724;</div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
    <script>
        $(document).ready(function() {

            
            var tracks = [
                {
                    artist: "Ornette Coleman",
                    track: "Free Jazz",
                    path: "../../samples/jazz/freejazz1.ogg"
                },
                {
                    artist: "Sun Ra",
                    track: "Space Is The Place",
                    path: "../../samples/jazz/freejazz2.ogg"
                },
                {
                    artist: "Albert Ayler",
                    track: "Ghosts",
                    path: "../../samples/jazz/freejazz3.ogg"
                },
                {
                    artist: "Pharaoh Sanders",
                    track: "Astral Traveling",
                    path: "../../samples/jazz/freejazz4.ogg"
                },
                {
                    artist: "Cecil Taylor",
                    track: "Lena",
                    path: "../../samples/jazz/freejazz5.ogg"
                },
                {
                    artist: "Eric Dolphy",
                    track: "Hat And Beard",
                    path: "../../samples/jazz/freejazz6.ogg"
                },
                {
                    artist: "Sunny Sharrock",
                    track: "Peanut",
                    path: "../../samples/jazz/freejazz7.ogg"
                },
                {
                    artist: "Anthony Braxton",
                    track: "Impressions",
                    path: "../../samples/jazz/freejazz8.ogg"
                },
                {
                    artist: "Archie Shepp",
                    track: "Hipnosis",
                    path: "../../samples/jazz/freejazz9.ogg"
                }
            ]

            tracks.forEach(track => {
                const audio = new Audio()
                audio.addEventListener('canplaythrough', null, false)
                audio.src = track.path
            })

            var artistSpan = $(document).find('#artist')[0]

            var track = $(document).find('#track')[0]

            var audioInstanceArray = [];

            var buttons = [];

            var audioInstance;

            $(document).find('.buttons-jazz').each(function(index, button) {

                buttons.push(button);
                
                $(this).click(function() {

                    removeAllButtonBorders()

                    $(this).toggleClass('clicked');
                
                    stopAllMusic()

                    audioInstance = new Audio(tracks[index].path);
                    audioInstanceArray.push(audioInstance);
                    audioInstance.play();

                    artistSpan.innerHTML = tracks[index].artist
                    track.innerHTML = tracks[index].track

                });
            });

            $('.buttons-jazz-stop').on('click', function() {

                stopAllMusic()

                artistSpan.innerHTML = ''
                track.innerHTML = ''

                removeAllButtonBorders()

            });

            var removeAllButtonBorders = () => {
                buttons.forEach(
                    button => button.className = "buttons-jazz"
                )
            }

            var stopAllMusic = () => {
                 audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
            }

        });

    </script>

</body>
</html>
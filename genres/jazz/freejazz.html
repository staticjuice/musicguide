<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,900">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Free Jazz</title>
    </head>

    <body class="genre" id="freejazz">
        <div class="box jazz">
            <h1>FREE JAZZ</h1>

            <p>Free Jazz was a radical departure from past styles, for typically after playing a quick theme, the soloist does not have to follow any progression or structure and can go in any unpredictable direction. When Ornette Coleman largely introduced Free Jazz to New York audiences (although Cecil Taylor had preceded him with less publicity), many Bebop musicians and fans debated about whether what was being played would even qualify as music &ndash; the radicals had become conservatives in less than 15 years. Free Jazz, which overlaps with the Avant-Garde (the latter can use arrangements and sometimes fairly tight frameworks), remains a controversial and mostly underground style, influencing the modern mainstream while often being ignored. Having dispensed with many of the rules as far as pitch, rhythm and development are concerned (although it need not be atonal or lack a steady pulse to be Free Jazz), the success of a Free Jazz performance can be measured by the musicianship and imagination of the performers, how colourful the music is and whether it seems logical or merely random.</p>

            <div class="row icon-list">
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-jazz">1</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-jazz">2</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-jazz">3</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-jazz">4</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-jazz">5</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-jazz">6</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-jazz">7</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-jazz">8</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-jazz">9</div></div>
                <div class="d-block d-lg-none col-lg-1 col-xs-1"><div class="buttons buttons-jazz-stop">&FilledSmallSquare;</div></div>
            </div>

            <div class="example">
                <p class="artisttrack">Artist: <span id="artist"><span></p><br>
                <p class="artisttrack">Track: <span id="track"></span></p>
            </div>

            <div class="d-none d-lg-block col-md-1 stop"><div class="buttons buttons-jazz-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Ornette Coleman",
                        track: "Free Jazz",
                        path: "../../samples/jazz/freejazz1.ogg"
                    },
                    {
                        artist: "Sun Ra",
                        track: "Space Is The Place",
                        path: "../../samples/jazz/freejazz2.ogg"
                    },
                    {
                        artist: "Albert Ayler",
                        track: "Ghosts",
                        path: "../../samples/jazz/freejazz3.ogg"
                    },
                    {
                        artist: "Pharaoh Sanders",
                        track: "Astral Traveling",
                        path: "../../samples/jazz/freejazz4.ogg"
                    },
                    {
                        artist: "Cecil Taylor",
                        track: "Lena",
                        path: "../../samples/jazz/freejazz5.ogg"
                    },
                    {
                        artist: "Eric Dolphy",
                        track: "Hat And Beard",
                        path: "../../samples/jazz/freejazz6.ogg"
                    },
                    {
                        artist: "Sunny Sharrock",
                        track: "Peanut",
                        path: "../../samples/jazz/freejazz7.ogg"
                    },
                    {
                        artist: "Anthony Braxton",
                        track: "Impressions",
                        path: "../../samples/jazz/freejazz8.ogg"
                    },
                    {
                        artist: "Archie Shepp",
                        track: "Hipnosis",
                        path: "../../samples/jazz/freejazz9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-jazz').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-jazz-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-jazz"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

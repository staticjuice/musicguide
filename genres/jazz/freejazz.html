<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
        <link rel="stylesheet" href="../../css/style.css">
        <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js" integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>
        <title>Free Jazz</title>
    </head>

    <body id="freejazz">
        <div class="quaternary-box jazz">
            <h1>FREE JAZZ</h1><div class="quaternary-year jazz-light">1958</div>

            <p>Free Jazz was a radical departure from past styles, for typically after playing a quick theme, the soloist does not have to follow any progression or structure and can go in any unpredictable direction. When Ornette Coleman largely introduced Free Jazz to New York audiences, many Bebop musicians and fans debated about whether what was being played would even qualify as music &ndash; the radicals had become conservatives in less than 15 years. Free Jazz, which overlaps with the Avant-Garde (the latter can use arrangements and sometimes fairly tight frameworks), remains a controversial and mostly underground style, influencing the modern mainstream while often being ignored. Having dispensed with many of the rules as far as pitch, rhythm and development are concerned (although it need not be atonal or lack a steady pulse to be Free Jazz), the success of a Free Jazz performance can be measured by the musicianship and imagination of the performers, how colourful the music is and whether it seems logical or merely random.</p>

            <div id="quaternary-grid">
                <div class="quaternary-button jazz-light">1</div>
                <div class="quaternary-button jazz-light">2</div>
                <div class="quaternary-button jazz-light">3</div>
                <div class="quaternary-button jazz-light">4</div>
                <div class="quaternary-button jazz-light">5</div>
                <div class="quaternary-button jazz-light">6</div>
                <div class="quaternary-button jazz-light">7</div>
                <div class="quaternary-button jazz-light">8</div>
                <div class="quaternary-button jazz-light">9</div>
                <div id="quaternary-stop"><div class="quaternary-button jazz-light"><i class="fa-solid fa-stop"></i></div></div>
            </div>

            <div class="quaternary-artisttrack" data-label="Artist:"><span id="artist"></span></div>
            <div class="quaternary-artisttrack" data-label="Track:"><span id="track"></span></div>
            <div id="quaternary-stop"><div class="quaternary-button jazz-light"><i class="fa-solid fa-stop"></i></div></div>
        </div>

        <script>
            $(function() {
                const tracks = [
                    { artist: "Ornette Coleman", track: "Free Jazz", path: "../../samples/jazz/freejazz1.ogg" },
                    { artist: "Sun Ra", track: "Space Is The Place", path: "../../samples/jazz/freejazz2.ogg" },
                    { artist: "Albert Ayler", track: "Ghosts", path: "../../samples/jazz/freejazz3.ogg" },
                    { artist: "Pharaoh Sanders", track: "Astral Traveling", path: "../../samples/jazz/freejazz4.ogg" },
                    { artist: "Cecil Taylor", track: "Lena", path: "../../samples/jazz/freejazz5.ogg" },
                    { artist: "Eric Dolphy", track: "Hat And Beard", path: "../../samples/jazz/freejazz6.ogg" },
                    { artist: "Sunny Sharrock", track: "Peanut", path: "../../samples/jazz/freejazz7.ogg" },
                    { artist: "Anthony Braxton", track: "Impressions", path: "../../samples/jazz/freejazz8.ogg" },
                    { artist: "Archie Shepp", track: "Hipnosis", path: "../../samples/jazz/freejazz9.ogg" }
                ];

                const audioInstances = tracks.map(track => new Audio(track.path));
                const $artistSpan = $('#artist');
                const $trackSpan = $('#track');
                const $button = $('.quaternary-button');

                $button.on('click', function() {
                    stopAllMusic();
                    const index = $button.index(this);
                    $(this).toggleClass('clicked');
                    const audio = audioInstances[index];
                    audio.play();
                    $artistSpan.text(tracks[index].artist);
                    $trackSpan.text(tracks[index].track);
                });

                $('.quaternary-stop').on('click', function() {
                    stopAllMusic();
                    $artistSpan.text('');
                    $trackSpan.text('');
                });

                function stopAllMusic() {
                    audioInstances.forEach(audio => {
                        audio.pause();
                        audio.currentTime = 0;
                    });
                    $button.removeClass('clicked');
                }
            });
        </script>
    </body>
</html>

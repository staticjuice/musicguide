<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="../../css/bootstrap.css">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Smooth Jazz</title>
    </head>

    <body class="genre" id="smoothjazz">
        <div class="box jazz">
            <h1>SMOOTH JAZZ</h1>

            <p>The Jazz era after Fusion &ndash; also known as Post-Fusion, Post-Jazz or Freebop &ndash; had to deal with the growing popularity and commercial approach of R&amp;B, particularly Disco. As such, an offshoot of Jazz Fusion known as Smooth Jazz became the favourite puppet of Jazz-related record companies, more profit-fixated than before. Experimentality became replaced by radio-friendly, Easy-Listening music. Smooth Jazz is supposed to sell with a slick, heavily produced and of course smooth sound. Of all the different Jazz genres, it's one of the plainest, with only one or two instruments playing melodies. Often there's a saxophone, which is characteristic for Smooth Jazz's (unintentional) erotic connotation &ndash; the music genre was a staple in erotic films or scenes during the late 70s and early 80s. Derogatory genre names like "Fuzak" and "Hot Tub Jazz" reassert their opinions, while also holding a certain ground. After all, Smooth Jazz is often catered as background music for bars or restaurants or just to relax at home. Be that as it may, its overall popularity is still significant, because it delivers exactly what it promises &ndash; Easy-Listening.</p>

            <div class="row icon-list">
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-jazz">1</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-jazz">2</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-jazz">3</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-jazz">4</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-jazz">5</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-jazz">6</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-jazz">7</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-jazz">8</div></div>
                <div class="col-lg-1 col-xs-1"><div class="buttons buttons-jazz">9</div></div>
                <div class="d-lg-none col-lg-1 col-xs-1"><div class="buttons buttons-jazz-stop">&FilledSmallSquare;</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="d-none d-lg-block col-md-1 stop"><div class="buttons buttons-jazz-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Kenny G",
                        track: "Songbird",
                        path: "../../samples/jazz/smoothjazz1.ogg"
                    },
                    {
                        artist: "Marion Meadows",
                        track: "Suede",
                        path: "../../samples/jazz/smoothjazz2.ogg"
                    },
                    {
                        artist: "Yellowjackets",
                        track: "Spirit Of The West",
                        path: "../../samples/jazz/smoothjazz3.ogg"
                    },
                    {
                        artist: "Larry Carlton",
                        track: "Room 335",
                        path: "../../samples/jazz/smoothjazz4.ogg"
                    },
                    {
                        artist: "Spyro Gyra",
                        track: "Morning Dance",
                        path: "../../samples/jazz/smoothjazz5.ogg"
                    },
                    {
                        artist: "Dave Grusin",
                        track: "Mountain Dance",
                        path: "../../samples/jazz/smoothjazz6.ogg"
                    },
                    {
                        artist: "David Sanborn",
                        track: "Straight To The Heart",
                        path: "../../samples/jazz/smoothjazz7.ogg"
                    },
                    {
                        artist: "Najee",
                        track: "Tokyo Blue",
                        path: "../../samples/jazz/smoothjazz8.ogg"
                    },
                    {
                        artist: "Candy Dulfer",
                        track: "Lily Was Here",
                        path: "../../samples/jazz/smoothjazz9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-jazz').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-jazz-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-jazz"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

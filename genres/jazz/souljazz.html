<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="../../css/bootstrap.css">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Soul Jazz</title>
    </head>

    <body id="souljazz">
        <div class="box jazz">
            <h1>SOUL JAZZ</h1><div class="year year-jazz">1957</div>

            <p>Soul Jazz, which was the most popular Jazz style of the 60s, differs from Bebop and Hard Bop in that the emphasis is on the rhythmic groove. It is one of the smallest genres of Jazz. In fact, it can be seen as an overlapping subgenre of Hard Bop. Its influence is extremely important however, leading directly to Funk. Soul Jazz is music for a small Bebop band, with the addition of more rare Jazz instruments such as (Hammond) organs and tenor saxophones. These instruments create a thematic, smooth and relaxing sound that indulges the listener in a feeling of warmth and comfort. Although soloists follow the chords as in Bebop, the basslines dance rather than stick strictly to a four-to-the-bar walking pattern. The musicians build their accompaniment around the bassline and, although there are often strong melodies, it is the catchiness of the groove and the amount of heat generated by the soloists that determine whether the performance is successful. Soul Jazz's roots trace back to pianist Horace Silver, whose funky style infused Bebop with the influence of church and Gospel music, along with the Blues.</p>

            <div class="row">
                <div class="col-1"><div class="buttons buttons-jazz">1</div></div>
                <div class="col-1"><div class="buttons buttons-jazz">2</div></div>
                <div class="col-1"><div class="buttons buttons-jazz">3</div></div>
                <div class="col-1"><div class="buttons buttons-jazz">4</div></div>
                <div class="col-1"><div class="buttons buttons-jazz">5</div></div>
                <div class="col-1"><div class="buttons buttons-jazz">6</div></div>
                <div class="col-1"><div class="buttons buttons-jazz">7</div></div>
                <div class="col-1"><div class="buttons buttons-jazz">8</div></div>
                <div class="col-1"><div class="buttons buttons-jazz">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-jazz-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Grover Washington Jr.",
                        track: "Knucklehead",
                        path: "../../samples/jazz/souljazz1.ogg"
                    },
                    {
                        artist: "The Cannonball Adderley Quintet",
                        track: "Walk Tall",
                        path: "../../samples/jazz/souljazz2.ogg"
                    },
                    {
                        artist: "Jimmy Smith",
                        track: "Root Down And Get It",
                        path: "../../samples/jazz/souljazz3.ogg"
                    },
                    {
                        artist: "Lou Donaldson",
                        track: "Alligator Boogaloo",
                        path: "../../samples/jazz/souljazz4.ogg"
                    },
                    {
                        artist: "Horace Silver",
                        track: "Acid, Pot Or Pills",
                        path: "../../samples/jazz/souljazz5.ogg"
                    },
                    {
                        artist: 'Richard "Groove" Holmes',
                        track: "Living Soul",
                        path: "../../samples/jazz/souljazz6.ogg"
                    },
                    {
                        artist: "Stanley Turrentine",
                        track: "Sunshine Alley",
                        path: "../../samples/jazz/souljazz7.ogg"
                    },
                    {
                        artist: "Shirley Scott",
                        track: "411 West",
                        path: "../../samples/jazz/souljazz8.ogg"
                    },
                    {
                        artist: 'Johnny "Hammond" Smith',
                        track: "Workin' On A Groovy Thing",
                        path: "../../samples/jazz/souljazz9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-jazz').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-jazz-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-jazz"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

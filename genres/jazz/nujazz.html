<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Nu Jazz</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,900" rel="stylesheet">
</head>
  
<body class="genre nujazz">
    <div id="box-jazz">
        <h1>NU JAZZ</h1><br>
            
        During summer afternoons or evenings, in picturesque metropolitan suburbs (such as Saint-Germain, Paris), Nu Jazz would be the ideal background music for any caf√© terrace or coffee bar. It is electronic, melodic and playful Jazz with lots of soothing, ambient sound effects that wash over the gentle Jazz percussion like a warm summer breeze. Being made entirely electronic, it marked the end of the traditional Jazz band. Nu Jazz can have a broad range of influences, such as deep basses from Ambient House or Deep House, groovy drum rhythms from Breakbeat and exotic percussion from Latin genres. This makes Nu Jazz a core genre of the second or electronic wave of Lounge, but these influences are subtle enough to not masquerade the fact that it truly is Jazz. Nevertheless, Nu Jazz differs radically from older Jazz genres in means of production and its electronic sound. Hence, most Jazz enthusiasts regard Nu Jazz rather as a rupture instead of a continuation within Jazz and encourage its classification among non-Jazz genres. But in the realm of music, tradition is a bad advisor for survival.<br><br>

        <div class="row icon-list">
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-jazz">1</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-jazz">2</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-jazz">3</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-jazz">4</div>
            </div>
                
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-jazz">5</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-jazz">6</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-jazz">7</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-jazz">8</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-jazz">9</div>
            </div>

            <div class="visible-xs col-xs-1">
                <div class="buttons-jazz-stop">&#9724;</div>
            </div>
        </div>

        <div class="example"><br>
            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p> 
        </div>

        <div class="hidden-xs col-sm-1 stop">
            <div class="buttons-jazz-stop">&#9724;</div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
    <script>
        $(document).ready(function() {

            
            var tracks = [
                {
                    artist: "9 Lazy 9",
                    track: "The Herb",
                    path: "../../samples/jazz/nujazz1.ogg"
                },
                {
                    artist: "Funki Porcini",
                    track: "Long Road",
                    path: "../../samples/jazz/nujazz2.ogg"
                },
                {
                    artist: "St Germain",
                    track: "Sure Thing",
                    path: "../../samples/jazz/nujazz3.ogg"
                },
                {
                    artist: "Jaga Jazzist",
                    track: "Made For Radio",
                    path: "../../samples/jazz/nujazz4.ogg"
                },
                {
                    artist: "Journeyman",
                    track: "Biscuits",
                    path: "../../samples/jazz/nujazz5.ogg"
                },
                {
                    artist: "Luke Vibert",
                    track: "Get Your Head Down",
                    path: "../../samples/jazz/nujazz6.ogg"
                },
                {
                    artist: "Skalpel",
                    track: "So Far",
                    path: "../../samples/jazz/nujazz7.ogg"
                },
                {
                    artist: "Jazzanova",
                    track: "Bohemian Sunset",
                    path: "../../samples/jazz/nujazz8.ogg"
                },
                {
                    artist: "DJ Cam Quartet",
                    track: "Rebirth Of Cool",
                    path: "../../samples/jazz/nujazz9.ogg"
                }
            ]

            tracks.forEach(track => {
                const audio = new Audio()
                audio.addEventListener('canplaythrough', null, false)
                audio.src = track.path
            })

            var artistSpan = $(document).find('#artist')[0]

            var track = $(document).find('#track')[0]

            var audioInstanceArray = [];

            var buttons = [];

            var audioInstance;

            $(document).find('.buttons-jazz').each(function(index, button) {

                buttons.push(button);
                
                $(this).click(function() {

                    removeAllButtonBorders()

                    $(this).toggleClass('clicked');
                
                    stopAllMusic()

                    audioInstance = new Audio(tracks[index].path);
                    audioInstanceArray.push(audioInstance);
                    audioInstance.play();

                    artistSpan.innerHTML = tracks[index].artist
                    track.innerHTML = tracks[index].track

                });
            });

            $('.buttons-jazz-stop').on('click', function() {

                stopAllMusic()

                artistSpan.innerHTML = ''
                track.innerHTML = ''

                removeAllButtonBorders()

            });

            var removeAllButtonBorders = () => {
                buttons.forEach(
                    button => button.className = "buttons-jazz"
                )
            }

            var stopAllMusic = () => {
                 audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
            }

        });

    </script>

</body>
</html>
<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="../../css/bootstrap.css">
        <link rel="stylesheet" href="../../css/style.css">
        <title>Swing</title>
    </head>

    <body id="swing">
        <div class="box jazz">
            <h1>SWING</h1><div class="year year-jazz">1928</div>

            <p>Swing was a major force in American popular music until the Big Band era largely ended in the early 40s. Swing differs from Dixieland in that the ensembles are simpler and generally filled with repetitious riffs, while in contrast, the solos are more sophisticated. Individual improvisations still paid close attention to the melody but due to the advance in musicianship, the solo flights were more adventurous. Swing started with Jazz bands of ten instruments, but soon orchestras of seventeen instruments became the standard &ndash; one can see that the phrase "Big Band" is not exaggerated. The setup consists of more reed and fewer brass instruments, and string basses are also added. The music is very catchy, with call and response tunes, hooky riffs and a 4/4 beat that makes it hard to stand still. Swing songs are highly structured compared to other Jazz. First, the melody is played by all instruments &ndash; then comes the vocal part with solos after which the chorus comes, consisting mostly of high notes. The music was accompanied by its own dance, also called "Swing", which has remained popular ever since.</p>

            <div class="row icon-list">
                <div class="col-1"><div class="buttons buttons-jazz">1</div></div>
                <div class="col-1"><div class="buttons buttons-jazz">2</div></div>
                <div class="col-1"><div class="buttons buttons-jazz">3</div></div>
                <div class="col-1"><div class="buttons buttons-jazz">4</div></div>
                <div class="col-1"><div class="buttons buttons-jazz">5</div></div>
                <div class="col-1"><div class="buttons buttons-jazz">6</div></div>
                <div class="col-1"><div class="buttons buttons-jazz">7</div></div>
                <div class="col-1"><div class="buttons buttons-jazz">8</div></div>
                <div class="col-1"><div class="buttons buttons-jazz">9</div></div>
            </div>

            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p>
            <div class="col-1 stop"><div class="buttons buttons-jazz-stop">&FilledSmallSquare;</div></div>
        </div>

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>

        <script>
            $(document).ready(function() {
                var tracks = [
                    {
                        artist: "Benny Goodman",
                        track: "Sing, Sing, Sing",
                        path: "../../samples/jazz/swing1.ogg"
                    },
                    {
                        artist: "Count Basie",
                        track: "Swingin' The Blues",
                        path: "../../samples/jazz/swing2.ogg"
                    },
                    {
                        artist: "Duke Ellington",
                        track: "It Don't Mean A Thing (If It Ain't Got That Swing)",
                        path: "../../samples/jazz/swing3.ogg"
                    },
                    {
                        artist: "Fletcher Henderson",
                        track: "Shanghai Shuffle",
                        path: "../../samples/jazz/swing4.ogg"
                    },
                    {
                        artist: "Gene Krupa & His Orchestra",
                        track: "The Madame Swings It",
                        path: "../../samples/jazz/swing5.ogg"
                    },
                    {
                        artist: "Chick Webb",
                        track: "When I Get Low I Get High",
                        path: "../../samples/jazz/swing6.ogg"
                    },
                    {
                        artist: "Jimmie Lunceford",
                        track: "My Blue Heaven",
                        path: "../../samples/jazz/swing7.ogg"
                    },
                    {
                        artist: "Glenn Miller",
                        track: "In The Mood",
                        path: "../../samples/jazz/swing8.ogg"
                    },
                    {
                        artist: "Tommy Dorsey",
                        track: "Keepin' Out Of Mischief",
                        path: "../../samples/jazz/swing9.ogg"
                    }
                ]

                tracks.forEach(track => {
                    const audio = new Audio()
                    audio.addEventListener('canplaythrough', null, false)
                    audio.src = track.path
                })

                var artistSpan = $(document).find('#artist')[0]
                var track = $(document).find('#track')[0]
                var audioInstanceArray = [];
                var buttons = [];
                var audioInstance;

                $(document).find('.buttons-jazz').each(function(index, button) {
                    buttons.push(button);
                    $(this).click(function() {
                        removeAllButtonBorders()
                        $(this).toggleClass('clicked');
                        stopAllMusic()
                        audioInstance = new Audio(tracks[index].path);
                        audioInstanceArray.push(audioInstance);
                        audioInstance.play();
                        artistSpan.innerHTML = tracks[index].artist
                        track.innerHTML = tracks[index].track
                    });
                });

                $('.buttons-jazz-stop').on('click', function() {
                    stopAllMusic()
                    artistSpan.innerHTML = ''
                    track.innerHTML = ''
                    removeAllButtonBorders()
                });

                var removeAllButtonBorders = () => {
                    buttons.forEach(
                        button => button.className = "buttons buttons-jazz"
                    )
                }

                var stopAllMusic = () => {
                    audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
                }
            });
        </script>
    </body>
</html>

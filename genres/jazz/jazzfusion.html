<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Jazz Fusion</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,900" rel="stylesheet">
</head>
  
<body class="genre jazzfusion">
    <div id="box-jazz">
        <h1>JAZZ FUSION</h1><br>
            
        The original definition of Jazz Fusion was a mixture of Jazz improvisation with the power and rhythms of Rock. Up until around 1967, the worlds of Jazz and Rock were nearly completely separate. But as Rock became more creative and its musicianship improved, and as some in the Jazz world became bored with Hard Bop, the two different idioms began to trade ideas and occasionally combine forces. This powerful reinvention became so popular and well-spread, with many derivative genres, that it simply was called “Fusion”, although Jazz Rock is also a correct term. Fusion fuses traditional Jazz melody and rhythm and Jazz elements such as improvisation and complex interplay with Rock instruments, amplification, and simple harmonies. Rock influences came mostly from Psychedelic Rock, although Fusion artists were also interested in Progressive Rock and during the seventies, there was quite some overlapping between Prog Rock of that time and Fusion. Jazz Fusion marked the end of a Jazz Era (Modern Jazz) and the beginning of a new one (electronic Jazz or Post-Jazz).<br><br>

        <div class="row icon-list">
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-jazz">1</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-jazz">2</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-jazz">3</div>
            </div>
                  
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-jazz">4</div>
            </div>
                
            <div class="col-sm-1 col-xs-1">
                <div class="buttons-jazz">5</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-jazz">6</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-jazz">7</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-jazz">8</div>
            </div>

            <div class="col-sm-1 col-xs-1">
                <div class="buttons-jazz">9</div>
            </div>

            <div class="visible-xs col-xs-1">
                <div class="buttons-jazz-stop">&#9724;</div>
            </div>
        </div>

        <div class="example"><br>
            <p class="artisttrack">Artist: <span id="artist"><span></p><br>
            <p class="artisttrack">Track: <span id="track"></span></p> 
        </div>

        <div class="hidden-xs col-sm-1 stop">
            <div class="buttons-jazz-stop">&#9724;</div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
    <script>
        $(document).ready(function() {

            
            var tracks = [
                {
                    artist: "Miles Davis",
                    track: "Bitches Brew",
                    path: "../../samples/jazz/jazzfusion1.ogg"
                },
                {
                    artist: "Weather Report",
                    track: "Birdland",
                    path: "../../samples/jazz/jazzfusion2.ogg"
                },
                {
                    artist: "Billy Cobham",
                    track: "Stratus",
                    path: "../../samples/jazz/jazzfusion3.ogg"
                },
                {
                    artist: "Return To Forever",
                    track: "Sorceress",
                    path: "../../samples/jazz/jazzfusion4.ogg"
                },
                {
                    artist: "Tony Williams",
                    track: "Sweet Revenge",
                    path: "../../samples/jazz/jazzfusion5.ogg"
                },
                {
                    artist: "Mahavishnu Orchestra",
                    track: "Vital Transformation",
                    path: "../../samples/jazz/jazzfusion6.ogg"
                },
                {
                    artist: "Stanley Clarke",
                    track: "School Days",
                    path: "../../samples/jazz/jazzfusion7.ogg"
                },
                {
                    artist: "Chick Corea",
                    track: "Dance Of Chance",
                    path: "../../samples/jazz/jazzfusion8.ogg"
                },
                {
                    artist: "Frank Zappa",
                    track: "Apostrophe (')",
                    path: "../../samples/jazz/jazzfusion9.ogg"
                }
            ]

            tracks.forEach(track => {
                const audio = new Audio()
                audio.addEventListener('canplaythrough', null, false)
                audio.src = track.path
            })

            var artistSpan = $(document).find('#artist')[0]

            var track = $(document).find('#track')[0]

            var audioInstanceArray = [];

            var buttons = [];

            var audioInstance;

            $(document).find('.buttons-jazz').each(function(index, button) {

                buttons.push(button);
                
                $(this).click(function() {

                    removeAllButtonBorders()

                    $(this).toggleClass('clicked');
                
                    stopAllMusic()

                    audioInstance = new Audio(tracks[index].path);
                    audioInstanceArray.push(audioInstance);
                    audioInstance.play();

                    artistSpan.innerHTML = tracks[index].artist
                    track.innerHTML = tracks[index].track

                });
            });

            $('.buttons-jazz-stop').on('click', function() {

                stopAllMusic()

                artistSpan.innerHTML = ''
                track.innerHTML = ''

                removeAllButtonBorders()

            });

            var removeAllButtonBorders = () => {
                buttons.forEach(
                    button => button.className = "buttons-jazz"
                )
            }

            var stopAllMusic = () => {
                 audioInstanceArray.forEach(function(audioInstance, index) {
                        audioInstance.pause();
                        audioInstance.currentTime = 0;
                        audioInstanceArray.pop();
                    });
            }

        });

    </script>

</body>
</html>
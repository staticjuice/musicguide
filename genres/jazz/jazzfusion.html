<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
        <link rel="stylesheet" href="../../css/style.css">
        <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js" integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>
        <title>Jazz Fusion</title>
    </head>

    <body id="jazzfusion">
        <div class="quaternary-box jazz">
            <h1>JAZZ FUSION</h1><div class="quaternary-year jazz-light">1967</div>

            <p>The original definition of Jazz Fusion was a mixture of Jazz improvisation with the power and rhythms of Rock. Up until around the late 60s, the worlds of Jazz and Rock were nearly completely separate. But as Rock became more creative and its musicianship improved, and as some in the Jazz world became bored with Hard Bop, the two different idioms began to trade ideas and occasionally combine forces. This powerful reinvention became so popular and well-spread, with many derivative genres, that it simply was called "Fusion", although Jazz Rock is also a correct term. Fusion fuses traditional Jazz melody and rhythm and Jazz elements such as improvisation and complex interplay with Rock instruments, amplification and simple harmonies. Rock influences came mostly from Psychedelic Rock, although Fusion artists were also interested in Progressive Rock and during the 70s, there was quite some overlapping between Progressive Rock of that time and Fusion. Jazz Fusion marked the end of a Jazz Era (Modern Jazz) and the beginning of a new one (Electronic Jazz or Post-Jazz).</p>

            <div id="quaternary-grid">
                <div class="quaternary-button jazz-light">1</div>
                <div class="quaternary-button jazz-light">2</div>
                <div class="quaternary-button jazz-light">3</div>
                <div class="quaternary-button jazz-light">4</div>
                <div class="quaternary-button jazz-light">5</div>
                <div class="quaternary-button jazz-light">6</div>
                <div class="quaternary-button jazz-light">7</div>
                <div class="quaternary-button jazz-light">8</div>
                <div class="quaternary-button jazz-light">9</div>
                <div class="quaternary-stop"><div class="quaternary-button jazz-light"><i class="fa-solid fa-stop"></i></div></div>
            </div>

            <div class="quaternary-artisttrack" data-label="Artist:"><span id="artist"></span></div>
            <div class="quaternary-artisttrack" data-label="Track:"><span id="track"></span></div>
            <div class="quaternary-stop"><div class="quaternary-button jazz-light"><i class="fa-solid fa-stop"></i></div></div>
        </div>

        <script>
            $(function() {
                const tracks = [
                    { artist: "Miles Davis", track: "Bitches Brew", path: "../../samples/jazz/jazzfusion1.ogg" },
                    { artist: "Weather Report", track: "Birdland", path: "../../samples/jazz/jazzfusion2.ogg" },
                    { artist: "Billy Cobham", track: "Stratus", path: "../../samples/jazz/jazzfusion3.ogg" },
                    { artist: "Return To Forever", track: "Sorceress", path: "../../samples/jazz/jazzfusion4.ogg" },
                    { artist: "Tony Williams", track: "Sweet Revenge", path: "../../samples/jazz/jazzfusion5.ogg" },
                    { artist: "Mahavishnu Orchestra", track: "Vital Transformation", path: "../../samples/jazz/jazzfusion6.ogg" },
                    { artist: "Stanley Clarke", track: "School Days", path: "../../samples/jazz/jazzfusion7.ogg" },
                    { artist: "Chick Corea", track: "Dance Of Chance", path: "../../samples/jazz/jazzfusion8.ogg" },
                    { artist: "Frank Zappa", track: "Apostrophe (')", path: "../../samples/jazz/jazzfusion9.ogg" }
                ];

                const audioInstances = tracks.map(track => new Audio(track.path));
                const $artistSpan = $('#artist');
                const $trackSpan = $('#track');
                const $button = $('.quaternary-button');

                $button.on('click', function() {
                    stopAllMusic();
                    const index = $button.index(this);
                    $(this).toggleClass('clicked');
                    const audio = audioInstances[index];
                    audio.play();
                    $artistSpan.text(tracks[index].artist);
                    $trackSpan.text(tracks[index].track);
                });

                $('.quaternary-stop').on('click', function() {
                    stopAllMusic();
                    $artistSpan.text('');
                    $trackSpan.text('');
                });

                function stopAllMusic() {
                    audioInstances.forEach(audio => {
                        audio.pause();
                        audio.currentTime = 0;
                    });
                    $button.removeClass('clicked');
                }
            });
        </script>
    </body>
</html>
